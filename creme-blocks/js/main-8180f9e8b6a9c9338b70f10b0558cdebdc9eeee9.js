_$MEDIA_URLS={'icecream/images/magnify.cur':['images/magnify.cur']};media_urls=function(a){var b=_$MEDIA_URLS[a];if(!b){throw"Could not resolve media url "+a}return b};media_url=function(a){var b=media_urls(a);if(b.length==1){return b[0]}throw"media_url() only works with keys that point to a single entry (e.g. an image), but not bundles. Use media_urls() instead."};function creme_media_url(a){return media_url(THEME_NAME+"/"+a)}
/*
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
(function(b,a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?a(b,true):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}}else{a(b)}}(typeof window!=="undefined"?window:this,function(a5,av){var aP=[];var P=aP.slice;var az=aP.concat;var x=aP.push;var bU=aP.indexOf;var ac={};var y=ac.toString;var K=ac.hasOwnProperty;var D={};var ai="1.11.2",bI=function(e,b6){return new bI.fn.init(e,b6)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bS=/^-ms-/,aW=/-([\da-z])/gi,O=function(e,b6){return b6.toUpperCase()};bI.fn=bI.prototype={jquery:ai,constructor:bI,selector:"",length:0,toArray:function(){return P.call(this)},get:function(e){return e!=null?(e<0?this[e+this.length]:this[e]):P.call(this)},pushStack:function(e){var b6=bI.merge(this.constructor(),e);b6.prevObject=this;b6.context=this.context;return b6},each:function(b6,e){return bI.each(this,b6,e)},map:function(e){return this.pushStack(bI.map(this,function(b7,b6){return e.call(b7,b6,b7)}))},slice:function(){return this.pushStack(P.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b7){var e=this.length,b6=+b7+(b7<0?e:0);return this.pushStack(b6>=0&&b6<e?[this[b6]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:x,sort:aP.sort,splice:aP.splice};bI.extend=bI.fn.extend=function(){var e,cb,b6,b7,ce,cc,ca=arguments[0]||{},b9=1,b8=arguments.length,cd=false;if(typeof ca==="boolean"){cd=ca;ca=arguments[b9]||{};b9++}if(typeof ca!=="object"&&!bI.isFunction(ca)){ca={}}if(b9===b8){ca=this;b9--}for(;b9<b8;b9++){if((ce=arguments[b9])!=null){for(b7 in ce){e=ca[b7];b6=ce[b7];if(ca===b6){continue}if(cd&&b6&&(bI.isPlainObject(b6)||(cb=bI.isArray(b6)))){if(cb){cb=false;cc=e&&bI.isArray(e)?e:[]}else{cc=e&&bI.isPlainObject(e)?e:{}}ca[b7]=bI.extend(cd,cc,b6)}else{if(b6!==undefined){ca[b7]=b6}}}}}return ca};bI.extend({expando:"jQuery"+(ai+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return bI.type(e)==="function"},isArray:Array.isArray||function(e){return bI.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !bI.isArray(e)&&(e-parseFloat(e)+1)>=0},isEmptyObject:function(b6){var e;for(e in b6){return false}return true},isPlainObject:function(b8){var b6;if(!b8||bI.type(b8)!=="object"||b8.nodeType||bI.isWindow(b8)){return false}try{if(b8.constructor&&!K.call(b8,"constructor")&&!K.call(b8.constructor.prototype,"isPrototypeOf")){return false}}catch(b7){return false}if(D.ownLast){for(b6 in b8){return K.call(b8,b6)}}for(b6 in b8){}return b6===undefined||K.call(b8,b6)},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?ac[y.call(e)]||"object":typeof e},globalEval:function(e){if(e&&bI.trim(e)){(a5.execScript||function(b6){a5["eval"].call(a5,b6)})(e)}},camelCase:function(e){return e.replace(bS,"ms-").replace(aW,O)},nodeName:function(b6,e){return b6.nodeName&&b6.nodeName.toLowerCase()===e.toLowerCase()},each:function(ca,cb,b6){var b9,b7=0,b8=ca.length,e=ad(ca);if(b6){if(e){for(;b7<b8;b7++){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}else{for(b7 in ca){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}}else{if(e){for(;b7<b8;b7++){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}else{for(b7 in ca){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}}return ca},trim:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,b7){var b6=b7||[];if(e!=null){if(ad(Object(e))){bI.merge(b6,typeof e==="string"?[e]:e)}else{x.call(b6,e)}}return b6},inArray:function(b8,b6,b7){var e;if(b6){if(bU){return bU.call(b6,b8,b7)}e=b6.length;b7=b7?b7<0?Math.max(0,e+b7):b7:0;for(;b7<e;b7++){if(b7 in b6&&b6[b7]===b8){return b7}}}return -1},merge:function(b9,b7){var e=+b7.length,b6=0,b8=b9.length;while(b6<e){b9[b8++]=b7[b6++]}if(e!==e){while(b7[b6]!==undefined){b9[b8++]=b7[b6++]}}b9.length=b8;return b9},grep:function(e,cc,b9){var cb,b8=[],b6=0,b7=e.length,ca=!b9;for(;b6<b7;b6++){cb=!cc(e[b6],b6);if(cb!==ca){b8.push(e[b6])}}return b8},map:function(b7,cc,e){var cb,b9=0,ca=b7.length,b6=ad(b7),b8=[];if(b6){for(;b9<ca;b9++){cb=cc(b7[b9],b9,e);if(cb!=null){b8.push(cb)}}}else{for(b9 in b7){cb=cc(b7[b9],b9,e);if(cb!=null){b8.push(cb)}}}return az.apply([],b8)},guid:1,proxy:function(b9,b8){var e,b7,b6;if(typeof b8==="string"){b6=b9[b8];b8=b9;b9=b6}if(!bI.isFunction(b9)){return undefined}e=P.call(arguments,2);b7=function(){return b9.apply(b8||this,e.concat(P.call(arguments)))};b7.guid=b9.guid=b9.guid||bI.guid++;return b7},now:function(){return +(new Date())},support:D});bI.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b6,e){ac["[object "+e+"]"]=e.toLowerCase()});function ad(b7){var b6=b7.length,e=bI.type(b7);if(e==="function"||bI.isWindow(b7)){return false}if(b7.nodeType===1&&b6){return true}return e==="array"||b6===0||typeof b6==="number"&&b6>0&&(b6-1) in b7}var m=
/*
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function(de){var cy,dh,cn,cH,cK,ci,cW,dg,dm,cI,cX,cZ,cC,co,c8,c3,df,ce,cF,da="sizzle"+1*new Date(),cJ=de.document,di=0,c4=0,b9=cA(),c9=cA(),cG=cA(),cE=function(dn,e){if(dn===e){cX=true}return 0},cQ=1<<31,cO=({}).hasOwnProperty,dc=[],dd=dc.pop,cM=dc.push,b7=dc.push,cm=dc.slice,cd=function(dq,dp){var dn=0,e=dq.length;for(;dn<e;dn++){if(dq[dn]===dp){return dn}}return -1},b8="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cp="[\\x20\\t\\r\\n\\f]",b6="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cL=b6.replace("w","w#"),c6="\\["+cp+"*("+b6+")(?:"+cp+"*([*^$|!~]?=)"+cp+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cL+"))|)"+cp+"*\\]",ck=":("+b6+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+c6+")*)|.*)\\)|)",cu=new RegExp(cp+"+","g"),cr=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cv=new RegExp("^"+cp+"*,"+cp+"*"),cB=new RegExp("^"+cp+"*([>+~]|"+cp+")"+cp+"*"),ct=new RegExp("="+cp+"*([^\\]'\"]*?)"+cp+"*\\]","g"),cS=new RegExp(ck),cU=new RegExp("^"+cL+"$"),c2={ID:new RegExp("^#("+b6+")"),CLASS:new RegExp("^\\.("+b6+")"),TAG:new RegExp("^("+b6.replace("w","w*")+")"),ATTR:new RegExp("^"+c6),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),bool:new RegExp("^(?:"+b8+")$","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},cc=/^(?:input|select|textarea|button)$/i,cl=/^h\d$/i,cP=/^[^{]+\{\s*\[native \w/,cR=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,c1=/[+~]/,cN=/'|\\/g,cs=new RegExp("\\\\([\\da-f]{1,6}"+cp+"?|("+cp+")|.)","ig"),c5=function(e,dq,dn){var dp="0x"+dq-65536;return dp!==dp||dn?dq:dp<0?String.fromCharCode(dp+65536):String.fromCharCode(dp>>10|55296,dp&1023|56320)},dl=function(){cZ()};try{b7.apply((dc=cm.call(cJ.childNodes)),cJ.childNodes);dc[cJ.childNodes.length].nodeType}catch(cD){b7={apply:dc.length?function(dn,e){cM.apply(dn,cm.call(e))}:function(dq,dp){var e=dq.length,dn=0;while((dq[e++]=dp[dn++])){}dq.length=e-1}}}function cw(dv,dn,dz,dB){var dA,ds,dt,dx,dy,dr,dq,e,dp,dw;if((dn?dn.ownerDocument||dn:cJ)!==cC){cZ(dn)}dn=dn||cC;dz=dz||[];dx=dn.nodeType;if(typeof dv!=="string"||!dv||dx!==1&&dx!==9&&dx!==11){return dz}if(!dB&&c8){if(dx!==11&&(dA=cR.exec(dv))){if((dt=dA[1])){if(dx===9){ds=dn.getElementById(dt);if(ds&&ds.parentNode){if(ds.id===dt){dz.push(ds);return dz}}else{return dz}}else{if(dn.ownerDocument&&(ds=dn.ownerDocument.getElementById(dt))&&cF(dn,ds)&&ds.id===dt){dz.push(ds);return dz}}}else{if(dA[2]){b7.apply(dz,dn.getElementsByTagName(dv));return dz}else{if((dt=dA[3])&&dh.getElementsByClassName){b7.apply(dz,dn.getElementsByClassName(dt));return dz}}}}if(dh.qsa&&(!c3||!c3.test(dv))){e=dq=da;dp=dn;dw=dx!==1&&dv;if(dx===1&&dn.nodeName.toLowerCase()!=="object"){dr=ci(dv);if((dq=dn.getAttribute("id"))){e=dq.replace(cN,"\\$&")}else{dn.setAttribute("id",e)}e="[id='"+e+"'] ";dy=dr.length;while(dy--){dr[dy]=e+ch(dr[dy])}dp=c1.test(dv)&&cT(dn.parentNode)||dn;dw=dr.join(",")}if(dw){try{b7.apply(dz,dp.querySelectorAll(dw));return dz}catch(du){}finally{if(!dq){dn.removeAttribute("id")}}}}}return dg(dv.replace(cr,"$1"),dn,dz,dB)}function cA(){var dn=[];function e(dp,dq){if(dn.push(dp+" ")>cn.cacheLength){delete e[dn.shift()]}return(e[dp+" "]=dq)}return e}function cj(e){e[da]=true;return e}function cf(dn){var dq=cC.createElement("div");try{return !!dn(dq)}catch(dp){return false}finally{if(dq.parentNode){dq.parentNode.removeChild(dq)}dq=null}}function dj(dn,dq){var e=dn.split("|"),dp=dn.length;while(dp--){cn.attrHandle[e[dp]]=dq}}function ca(dn,e){var dq=e&&dn,dp=dq&&dn.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||cQ)-(~dn.sourceIndex||cQ);if(dp){return dp}if(dq){while((dq=dq.nextSibling)){if(dq===e){return -1}}}return dn?1:-1}function cx(e){return function(dp){var dn=dp.nodeName.toLowerCase();return dn==="input"&&dp.type===e}}function cb(e){return function(dp){var dn=dp.nodeName.toLowerCase();return(dn==="input"||dn==="button")&&dp.type===e}}function c7(e){return cj(function(dn){dn=+dn;return cj(function(dp,dt){var dr,dq=e([],dp.length,dn),ds=dq.length;while(ds--){if(dp[(dr=dq[ds])]){dp[dr]=!(dt[dr]=dp[dr])}}})})}function cT(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}dh=cw.support={};cK=cw.isXML=function(e){var dn=e&&(e.ownerDocument||e).documentElement;return dn?dn.nodeName!=="HTML":false};cZ=cw.setDocument=function(dp){var e,dn,dq=dp?dp.ownerDocument||dp:cJ;if(dq===cC||dq.nodeType!==9||!dq.documentElement){return cC}cC=dq;co=dq.documentElement;dn=dq.defaultView;if(dn&&dn!==dn.top){if(dn.addEventListener){dn.addEventListener("unload",dl,false)}else{if(dn.attachEvent){dn.attachEvent("onunload",dl)}}}c8=!cK(dq);dh.attributes=cf(function(dr){dr.className="i";return !dr.getAttribute("className")});dh.getElementsByTagName=cf(function(dr){dr.appendChild(dq.createComment(""));return !dr.getElementsByTagName("*").length});dh.getElementsByClassName=cP.test(dq.getElementsByClassName);dh.getById=cf(function(dr){co.appendChild(dr).id=da;return !dq.getElementsByName||!dq.getElementsByName(da).length});if(dh.getById){cn.find.ID=function(dt,ds){if(typeof ds.getElementById!=="undefined"&&c8){var dr=ds.getElementById(dt);return dr&&dr.parentNode?[dr]:[]}};cn.filter.ID=function(ds){var dr=ds.replace(cs,c5);return function(dt){return dt.getAttribute("id")===dr}}}else{delete cn.find.ID;cn.filter.ID=function(ds){var dr=ds.replace(cs,c5);return function(du){var dt=typeof du.getAttributeNode!=="undefined"&&du.getAttributeNode("id");return dt&&dt.value===dr}}}cn.find.TAG=dh.getElementsByTagName?function(dr,ds){if(typeof ds.getElementsByTagName!=="undefined"){return ds.getElementsByTagName(dr)}else{if(dh.qsa){return ds.querySelectorAll(dr)}}}:function(dr,dv){var dw,du=[],dt=0,ds=dv.getElementsByTagName(dr);if(dr==="*"){while((dw=ds[dt++])){if(dw.nodeType===1){du.push(dw)}}return du}return ds};cn.find.CLASS=dh.getElementsByClassName&&function(ds,dr){if(c8){return dr.getElementsByClassName(ds)}};df=[];c3=[];if((dh.qsa=cP.test(dq.querySelectorAll))){cf(function(dr){co.appendChild(dr).innerHTML="<a id='"+da+"'></a><select id='"+da+"-\f]' msallowcapture=''><option selected=''></option></select>";if(dr.querySelectorAll("[msallowcapture^='']").length){c3.push("[*^$]="+cp+"*(?:''|\"\")")}if(!dr.querySelectorAll("[selected]").length){c3.push("\\["+cp+"*(?:value|"+b8+")")}if(!dr.querySelectorAll("[id~="+da+"-]").length){c3.push("~=")}if(!dr.querySelectorAll(":checked").length){c3.push(":checked")}if(!dr.querySelectorAll("a#"+da+"+*").length){c3.push(".#.+[+~]")}});cf(function(ds){var dr=dq.createElement("input");dr.setAttribute("type","hidden");ds.appendChild(dr).setAttribute("name","D");if(ds.querySelectorAll("[name=d]").length){c3.push("name"+cp+"*[*^$|!~]?=")}if(!ds.querySelectorAll(":enabled").length){c3.push(":enabled",":disabled")}ds.querySelectorAll("*,:x");c3.push(",.*:")})}if((dh.matchesSelector=cP.test((ce=co.matches||co.webkitMatchesSelector||co.mozMatchesSelector||co.oMatchesSelector||co.msMatchesSelector)))){cf(function(dr){dh.disconnectedMatch=ce.call(dr,"div");ce.call(dr,"[s!='']:x");df.push("!=",ck)})}c3=c3.length&&new RegExp(c3.join("|"));df=df.length&&new RegExp(df.join("|"));e=cP.test(co.compareDocumentPosition);cF=e||cP.test(co.contains)?function(ds,dr){var du=ds.nodeType===9?ds.documentElement:ds,dt=dr&&dr.parentNode;return ds===dt||!!(dt&&dt.nodeType===1&&(du.contains?du.contains(dt):ds.compareDocumentPosition&&ds.compareDocumentPosition(dt)&16))}:function(ds,dr){if(dr){while((dr=dr.parentNode)){if(dr===ds){return true}}}return false};cE=e?function(ds,dr){if(ds===dr){cX=true;return 0}var dt=!ds.compareDocumentPosition-!dr.compareDocumentPosition;if(dt){return dt}dt=(ds.ownerDocument||ds)===(dr.ownerDocument||dr)?ds.compareDocumentPosition(dr):1;if(dt&1||(!dh.sortDetached&&dr.compareDocumentPosition(ds)===dt)){if(ds===dq||ds.ownerDocument===cJ&&cF(cJ,ds)){return -1}if(dr===dq||dr.ownerDocument===cJ&&cF(cJ,dr)){return 1}return cI?(cd(cI,ds)-cd(cI,dr)):0}return dt&4?-1:1}:function(ds,dr){if(ds===dr){cX=true;return 0}var dy,dv=0,dx=ds.parentNode,du=dr.parentNode,dt=[ds],dw=[dr];if(!dx||!du){return ds===dq?-1:dr===dq?1:dx?-1:du?1:cI?(cd(cI,ds)-cd(cI,dr)):0}else{if(dx===du){return ca(ds,dr)}}dy=ds;while((dy=dy.parentNode)){dt.unshift(dy)}dy=dr;while((dy=dy.parentNode)){dw.unshift(dy)}while(dt[dv]===dw[dv]){dv++}return dv?ca(dt[dv],dw[dv]):dt[dv]===cJ?-1:dw[dv]===cJ?1:0};return dq};cw.matches=function(dn,e){return cw(dn,null,null,e)};cw.matchesSelector=function(dp,dr){if((dp.ownerDocument||dp)!==cC){cZ(dp)}dr=dr.replace(ct,"='$1']");if(dh.matchesSelector&&c8&&(!df||!df.test(dr))&&(!c3||!c3.test(dr))){try{var dn=ce.call(dp,dr);if(dn||dh.disconnectedMatch||dp.document&&dp.document.nodeType!==11){return dn}}catch(dq){}}return cw(dr,cC,null,[dp]).length>0};cw.contains=function(e,dn){if((e.ownerDocument||e)!==cC){cZ(e)}return cF(e,dn)};cw.attr=function(dp,e){if((dp.ownerDocument||dp)!==cC){cZ(dp)}var dn=cn.attrHandle[e.toLowerCase()],dq=dn&&cO.call(cn.attrHandle,e.toLowerCase())?dn(dp,e,!c8):undefined;return dq!==undefined?dq:dh.attributes||!c8?dp.getAttribute(e):(dq=dp.getAttributeNode(e))&&dq.specified?dq.value:null};cw.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cw.uniqueSort=function(dp){var dq,dr=[],e=0,dn=0;cX=!dh.detectDuplicates;cI=!dh.sortStable&&dp.slice(0);dp.sort(cE);if(cX){while((dq=dp[dn++])){if(dq===dp[dn]){e=dr.push(dn)}}while(e--){dp.splice(dr[e],1)}}cI=null;return dp};cH=cw.getText=function(dr){var dq,dn="",dp=0,e=dr.nodeType;if(!e){while((dq=dr[dp++])){dn+=cH(dq)}}else{if(e===1||e===9||e===11){if(typeof dr.textContent==="string"){return dr.textContent}else{for(dr=dr.firstChild;dr;dr=dr.nextSibling){dn+=cH(dr)}}}else{if(e===3||e===4){return dr.nodeValue}}}return dn};cn=cw.selectors={cacheLength:50,createPseudo:cj,match:c2,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cs,c5);e[3]=(e[3]||e[4]||e[5]||"").replace(cs,c5);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cw.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cw.error(e[0])}}return e},PSEUDO:function(dn){var e,dp=!dn[6]&&dn[2];if(c2.CHILD.test(dn[0])){return null}if(dn[3]){dn[2]=dn[4]||dn[5]||""}else{if(dp&&cS.test(dp)&&(e=ci(dp,true))&&(e=dp.indexOf(")",dp.length-e)-dp.length)){dn[0]=dn[0].slice(0,e);dn[2]=dp.slice(0,e)}}return dn.slice(0,3)}},filter:{TAG:function(dn){var e=dn.replace(cs,c5).toLowerCase();return dn==="*"?function(){return true}:function(dp){return dp.nodeName&&dp.nodeName.toLowerCase()===e}},CLASS:function(e){var dn=b9[e+" "];return dn||(dn=new RegExp("(^|"+cp+")"+e+"("+cp+"|$)"))&&b9(e,function(dp){return dn.test(typeof dp.className==="string"&&dp.className||typeof dp.getAttribute!=="undefined"&&dp.getAttribute("class")||"")})},ATTR:function(dp,dn,e){return function(dr){var dq=cw.attr(dr,dp);if(dq==null){return dn==="!="}if(!dn){return true}dq+="";return dn==="="?dq===e:dn==="!="?dq!==e:dn==="^="?e&&dq.indexOf(e)===0:dn==="*="?e&&dq.indexOf(e)>-1:dn==="$="?e&&dq.slice(-e.length)===e:dn==="~="?(" "+dq.replace(cu," ")+" ").indexOf(e)>-1:dn==="|="?dq===e||dq.slice(0,e.length+1)===e+"-":false}},CHILD:function(dn,dr,dq,ds,dp){var du=dn.slice(0,3)!=="nth",e=dn.slice(-4)!=="last",dt=dr==="of-type";return ds===1&&dp===0?function(dv){return !!dv.parentNode}:function(dB,dz,dE){var dv,dH,dC,dG,dD,dy,dA=du!==e?"nextSibling":"previousSibling",dF=dB.parentNode,dx=dt&&dB.nodeName.toLowerCase(),dw=!dE&&!dt;if(dF){if(du){while(dA){dC=dB;while((dC=dC[dA])){if(dt?dC.nodeName.toLowerCase()===dx:dC.nodeType===1){return false}}dy=dA=dn==="only"&&!dy&&"nextSibling"}return true}dy=[e?dF.firstChild:dF.lastChild];if(e&&dw){dH=dF[da]||(dF[da]={});dv=dH[dn]||[];dD=dv[0]===di&&dv[1];dG=dv[0]===di&&dv[2];dC=dD&&dF.childNodes[dD];while((dC=++dD&&dC&&dC[dA]||(dG=dD=0)||dy.pop())){if(dC.nodeType===1&&++dG&&dC===dB){dH[dn]=[di,dD,dG];break}}}else{if(dw&&(dv=(dB[da]||(dB[da]={}))[dn])&&dv[0]===di){dG=dv[1]}else{while((dC=++dD&&dC&&dC[dA]||(dG=dD=0)||dy.pop())){if((dt?dC.nodeName.toLowerCase()===dx:dC.nodeType===1)&&++dG){if(dw){(dC[da]||(dC[da]={}))[dn]=[di,dG]}if(dC===dB){break}}}}}dG-=dp;return dG===ds||(dG%ds===0&&dG/ds>=0)}}},PSEUDO:function(dq,dp){var e,dn=cn.pseudos[dq]||cn.setFilters[dq.toLowerCase()]||cw.error("unsupported pseudo: "+dq);if(dn[da]){return dn(dp)}if(dn.length>1){e=[dq,dq,"",dp];return cn.setFilters.hasOwnProperty(dq.toLowerCase())?cj(function(dt,dv){var ds,dr=dn(dt,dp),du=dr.length;while(du--){ds=cd(dt,dr[du]);dt[ds]=!(dv[ds]=dr[du])}}):function(dr){return dn(dr,0,e)}}return dn}},pseudos:{not:cj(function(e){var dn=[],dp=[],dq=cW(e.replace(cr,"$1"));return dq[da]?cj(function(ds,dx,dv,dt){var dw,dr=dq(ds,null,dt,[]),du=ds.length;while(du--){if((dw=dr[du])){ds[du]=!(dx[du]=dw)}}}):function(dt,ds,dr){dn[0]=dt;dq(dn,null,dr,dp);dn[0]=null;return !dp.pop()}}),has:cj(function(e){return function(dn){return cw(e,dn).length>0}}),contains:cj(function(e){e=e.replace(cs,c5);return function(dn){return(dn.textContent||dn.innerText||cH(dn)).indexOf(e)>-1}}),lang:cj(function(e){if(!cU.test(e||"")){cw.error("unsupported lang: "+e)}e=e.replace(cs,c5).toLowerCase();return function(dp){var dn;do{if((dn=c8?dp.lang:dp.getAttribute("xml:lang")||dp.getAttribute("lang"))){dn=dn.toLowerCase();return dn===e||dn.indexOf(e+"-")===0}}while((dp=dp.parentNode)&&dp.nodeType===1);return false}}),target:function(e){var dn=de.location&&de.location.hash;return dn&&dn.slice(1)===e.id},root:function(e){return e===co},focus:function(e){return e===cC.activeElement&&(!cC.hasFocus||cC.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dn=e.nodeName.toLowerCase();return(dn==="input"&&!!e.checked)||(dn==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return !cn.pseudos.empty(e)},header:function(e){return cl.test(e.nodeName)},input:function(e){return cc.test(e.nodeName)},button:function(dn){var e=dn.nodeName.toLowerCase();return e==="input"&&dn.type==="button"||e==="button"},text:function(dn){var e;return dn.nodeName.toLowerCase()==="input"&&dn.type==="text"&&((e=dn.getAttribute("type"))==null||e.toLowerCase()==="text")},first:c7(function(){return[0]}),last:c7(function(e,dn){return[dn-1]}),eq:c7(function(e,dp,dn){return[dn<0?dn+dp:dn]}),even:c7(function(e,dp){var dn=0;for(;dn<dp;dn+=2){e.push(dn)}return e}),odd:c7(function(e,dp){var dn=1;for(;dn<dp;dn+=2){e.push(dn)}return e}),lt:c7(function(e,dq,dp){var dn=dp<0?dp+dq:dp;for(;--dn>=0;){e.push(dn)}return e}),gt:c7(function(e,dq,dp){var dn=dp<0?dp+dq:dp;for(;++dn<dq;){e.push(dn)}return e})}};cn.pseudos.nth=cn.pseudos.eq;for(cy in {radio:true,checkbox:true,file:true,password:true,image:true}){cn.pseudos[cy]=cx(cy)}for(cy in {submit:true,reset:true}){cn.pseudos[cy]=cb(cy)}function cV(){}cV.prototype=cn.filters=cn.pseudos;cn.setFilters=new cV();ci=cw.tokenize=function(dr,dw){var dn,ds,du,dv,dt,dp,e,dq=c9[dr+" "];if(dq){return dw?0:dq.slice(0)}dt=dr;dp=[];e=cn.preFilter;while(dt){if(!dn||(ds=cv.exec(dt))){if(ds){dt=dt.slice(ds[0].length)||dt}dp.push((du=[]))}dn=false;if((ds=cB.exec(dt))){dn=ds.shift();du.push({value:dn,type:ds[0].replace(cr," ")});dt=dt.slice(dn.length)}for(dv in cn.filter){if((ds=c2[dv].exec(dt))&&(!e[dv]||(ds=e[dv](ds)))){dn=ds.shift();du.push({value:dn,type:dv,matches:ds});dt=dt.slice(dn.length)}}if(!dn){break}}return dw?dt.length:dt?cw.error(dr):c9(dr,dp).slice(0)};function ch(dq){var dp=0,dn=dq.length,e="";for(;dp<dn;dp++){e+=dq[dp].value}return e}function cq(dr,dp,dq){var e=dp.dir,ds=dq&&e==="parentNode",dn=c4++;return dp.first?function(dv,du,dt){while((dv=dv[e])){if(dv.nodeType===1||ds){return dr(dv,du,dt)}}}:function(dx,dv,du){var dy,dw,dt=[di,dn];if(du){while((dx=dx[e])){if(dx.nodeType===1||ds){if(dr(dx,dv,du)){return true}}}}else{while((dx=dx[e])){if(dx.nodeType===1||ds){dw=dx[da]||(dx[da]={});if((dy=dw[e])&&dy[0]===di&&dy[1]===dn){return(dt[2]=dy[2])}else{dw[e]=dt;if((dt[2]=dr(dx,dv,du))){return true}}}}}}}function dk(e){return e.length>1?function(dr,dq,dn){var dp=e.length;while(dp--){if(!e[dp](dr,dq,dn)){return false}}return true}:e[0]}function cz(dn,dr,dq){var dp=0,e=dr.length;for(;dp<e;dp++){cw(dn,dr[dp],dq)}return dq}function c0(e,dn,dp,dq,dt){var dr,dw=[],ds=0,du=e.length,dv=dn!=null;for(;ds<du;ds++){if((dr=e[ds])){if(!dp||dp(dr,dq,dt)){dw.push(dr);if(dv){dn.push(ds)}}}}return dw}function cg(dp,dn,dr,dq,ds,e){if(dq&&!dq[da]){dq=cg(dq)}if(ds&&!ds[da]){ds=cg(ds,e)}return cj(function(dD,dA,dv,dC){var dF,dB,dx,dw=[],dE=[],du=dA.length,dt=dD||cz(dn||"*",dv.nodeType?[dv]:dv,[]),dy=dp&&(dD||!dn)?c0(dt,dw,dp,dv,dC):dt,dz=dr?ds||(dD?dp:du||dq)?[]:dA:dy;if(dr){dr(dy,dz,dv,dC)}if(dq){dF=c0(dz,dE);dq(dF,[],dv,dC);dB=dF.length;while(dB--){if((dx=dF[dB])){dz[dE[dB]]=!(dy[dE[dB]]=dx)}}}if(dD){if(ds||dp){if(ds){dF=[];dB=dz.length;while(dB--){if((dx=dz[dB])){dF.push((dy[dB]=dx))}}ds(null,(dz=[]),dF,dC)}dB=dz.length;while(dB--){if((dx=dz[dB])&&(dF=ds?cd(dD,dx):dw[dB])>-1){dD[dF]=!(dA[dF]=dx)}}}}else{dz=c0(dz===dA?dz.splice(du,dz.length):dz);if(ds){ds(null,dA,dz,dC)}else{b7.apply(dA,dz)}}})}function db(dt){var dn,dr,dp,ds=dt.length,dw=cn.relative[dt[0].type],dx=dw||cn.relative[" "],dq=dw?1:0,du=cq(function(dy){return dy===dn},dx,true),dv=cq(function(dy){return cd(dn,dy)>-1},dx,true),e=[function(dB,dA,dz){var dy=(!dw&&(dz||dA!==dm))||((dn=dA).nodeType?du(dB,dA,dz):dv(dB,dA,dz));dn=null;return dy}];for(;dq<ds;dq++){if((dr=cn.relative[dt[dq].type])){e=[cq(dk(e),dr)]}else{dr=cn.filter[dt[dq].type].apply(null,dt[dq].matches);if(dr[da]){dp=++dq;for(;dp<ds;dp++){if(cn.relative[dt[dp].type]){break}}return cg(dq>1&&dk(e),dq>1&&ch(dt.slice(0,dq-1).concat({value:dt[dq-2].type===" "?"*":""})).replace(cr,"$1"),dr,dq<dp&&db(dt.slice(dq,dp)),dp<ds&&db((dt=dt.slice(dp))),dp<ds&&ch(dt))}e.push(dr)}}return dk(e)}function cY(dq,dp){var e=dp.length>0,dr=dq.length>0,dn=function(dB,dv,dA,dz,dE){var dw,dx,dC,dG=0,dy="0",ds=dB&&[],dH=[],dF=dm,du=dB||dr&&cn.find.TAG("*",dE),dt=(di+=dF==null?1:Math.random()||0.1),dD=du.length;if(dE){dm=dv!==cC&&dv}for(;dy!==dD&&(dw=du[dy])!=null;dy++){if(dr&&dw){dx=0;while((dC=dq[dx++])){if(dC(dw,dv,dA)){dz.push(dw);break}}if(dE){di=dt}}if(e){if((dw=!dC&&dw)){dG--}if(dB){ds.push(dw)}}}dG+=dy;if(e&&dy!==dG){dx=0;while((dC=dp[dx++])){dC(ds,dH,dv,dA)}if(dB){if(dG>0){while(dy--){if(!(ds[dy]||dH[dy])){dH[dy]=dd.call(dz)}}}dH=c0(dH)}b7.apply(dz,dH);if(dE&&!dB&&dH.length>0&&(dG+dp.length)>1){cw.uniqueSort(dz)}}if(dE){di=dt;dm=dF}return ds};return e?cj(dn):dn}cW=cw.compile=function(e,dp){var dq,dn=[],ds=[],dr=cG[e+" "];if(!dr){if(!dp){dp=ci(e)}dq=dp.length;while(dq--){dr=db(dp[dq]);if(dr[da]){dn.push(dr)}else{ds.push(dr)}}dr=cG(e,cY(ds,dn));dr.selector=e}return dr};dg=cw.select=function(dp,e,dq,dt){var dr,dw,dn,dx,du,dv=typeof dp==="function"&&dp,ds=!dt&&ci((dp=dv.selector||dp));dq=dq||[];if(ds.length===1){dw=ds[0]=ds[0].slice(0);if(dw.length>2&&(dn=dw[0]).type==="ID"&&dh.getById&&e.nodeType===9&&c8&&cn.relative[dw[1].type]){e=(cn.find.ID(dn.matches[0].replace(cs,c5),e)||[])[0];if(!e){return dq}else{if(dv){e=e.parentNode}}dp=dp.slice(dw.shift().value.length)}dr=c2.needsContext.test(dp)?0:dw.length;while(dr--){dn=dw[dr];if(cn.relative[(dx=dn.type)]){break}if((du=cn.find[dx])){if((dt=du(dn.matches[0].replace(cs,c5),c1.test(dw[0].type)&&cT(e.parentNode)||e))){dw.splice(dr,1);dp=dt.length&&ch(dw);if(!dp){b7.apply(dq,dt);return dq}break}}}}(dv||cW(dp,ds))(dt,e,!c8,dq,c1.test(dp)&&cT(e.parentNode)||e);return dq};dh.sortStable=da.split("").sort(cE).join("")===da;dh.detectDuplicates=!!cX;cZ();dh.sortDetached=cf(function(e){return e.compareDocumentPosition(cC.createElement("div"))&1});if(!cf(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){dj("type|href|height|width",function(dn,e,dp){if(!dp){return dn.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!dh.attributes||!cf(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){dj("value",function(dn,e,dp){if(!dp&&dn.nodeName.toLowerCase()==="input"){return dn.defaultValue}})}if(!cf(function(e){return e.getAttribute("disabled")==null})){dj(b8,function(dn,e,dq){var dp;if(!dq){return dn[e]===true?e.toLowerCase():(dp=dn.getAttributeNode(e))&&dp.specified?dp.value:null}})}return cw})(a5);bI.find=m;bI.expr=m.selectors;bI.expr[":"]=bI.expr.pseudos;bI.unique=m.uniqueSort;bI.text=m.getText;bI.isXMLDoc=m.isXML;bI.contains=m.contains;var A=bI.expr.match.needsContext;var a=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var aL=/^.[^:#\[\.,]*$/;function aR(b7,e,b6){if(bI.isFunction(e)){return bI.grep(b7,function(b9,b8){return !!e.call(b9,b8,b9)!==b6})}if(e.nodeType){return bI.grep(b7,function(b8){return(b8===e)!==b6})}if(typeof e==="string"){if(aL.test(e)){return bI.filter(e,b7,b6)}e=bI.filter(e,b7)}return bI.grep(b7,function(b8){return(bI.inArray(b8,e)>=0)!==b6})}bI.filter=function(b8,e,b7){var b6=e[0];if(b7){b8=":not("+b8+")"}return e.length===1&&b6.nodeType===1?bI.find.matchesSelector(b6,b8)?[b6]:[]:bI.find.matches(b8,bI.grep(e,function(b9){return b9.nodeType===1}))};bI.fn.extend({find:function(b6){var b9,b8=[],b7=this,e=b7.length;if(typeof b6!=="string"){return this.pushStack(bI(b6).filter(function(){for(b9=0;b9<e;b9++){if(bI.contains(b7[b9],this)){return true}}}))}for(b9=0;b9<e;b9++){bI.find(b6,b7[b9],b8)}b8=this.pushStack(e>1?bI.unique(b8):b8);b8.selector=this.selector?this.selector+" "+b6:b6;return b8},filter:function(e){return this.pushStack(aR(this,e||[],false))},not:function(e){return this.pushStack(aR(this,e||[],true))},is:function(e){return !!aR(this,typeof e==="string"&&A.test(e)?bI(e):e||[],false).length}});var z,n=a5.document,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bV=bI.fn.init=function(e,b7){var b6,b8;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b6=[null,e,null]}else{b6=bt.exec(e)}if(b6&&(b6[1]||!b7)){if(b6[1]){b7=b7 instanceof bI?b7[0]:b7;bI.merge(this,bI.parseHTML(b6[1],b7&&b7.nodeType?b7.ownerDocument||b7:n,true));if(a.test(b6[1])&&bI.isPlainObject(b7)){for(b6 in b7){if(bI.isFunction(this[b6])){this[b6](b7[b6])}else{this.attr(b6,b7[b6])}}}return this}else{b8=n.getElementById(b6[2]);if(b8&&b8.parentNode){if(b8.id!==b6[2]){return z.find(e)}this.length=1;this[0]=b8}this.context=n;this.selector=e;return this}}else{if(!b7||b7.jquery){return(b7||z).find(e)}else{return this.constructor(b7).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bI.isFunction(e)){return typeof z.ready!=="undefined"?z.ready(e):e(bI)}}}if(e.selector!==undefined){this.selector=e.selector;this.context=e.context}return bI.makeArray(e,this)};bV.prototype=bI.fn;z=bI(n);var bv=/^(?:parents|prev(?:Until|All))/,bz={children:true,contents:true,next:true,prev:true};bI.extend({dir:function(b7,b6,b9){var e=[],b8=b7[b6];while(b8&&b8.nodeType!==9&&(b9===undefined||b8.nodeType!==1||!bI(b8).is(b9))){if(b8.nodeType===1){e.push(b8)}b8=b8[b6]}return e},sibling:function(b7,b6){var e=[];for(;b7;b7=b7.nextSibling){if(b7.nodeType===1&&b7!==b6){e.push(b7)}}return e}});bI.fn.extend({has:function(b8){var b7,b6=bI(b8,this),e=b6.length;return this.filter(function(){for(b7=0;b7<e;b7++){if(bI.contains(this,b6[b7])){return true}}})},closest:function(b9,b8){var ca,b7=0,b6=this.length,e=[],cb=A.test(b9)||typeof b9!=="string"?bI(b9,b8||this.context):0;for(;b7<b6;b7++){for(ca=this[b7];ca&&ca!==b8;ca=ca.parentNode){if(ca.nodeType<11&&(cb?cb.index(ca)>-1:ca.nodeType===1&&bI.find.matchesSelector(ca,b9))){e.push(ca);break}}}return this.pushStack(e.length>1?bI.unique(e):e)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bI.inArray(this[0],bI(e))}return bI.inArray(e.jquery?e[0]:e,this)},add:function(e,b6){return this.pushStack(bI.unique(bI.merge(this.get(),bI(e,b6))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function aY(b6,e){do{b6=b6[e]}while(b6&&b6.nodeType!==1);return b6}bI.each({parent:function(b6){var e=b6.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bI.dir(e,"parentNode")},parentsUntil:function(b6,e,b7){return bI.dir(b6,"parentNode",b7)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return bI.dir(e,"nextSibling")},prevAll:function(e){return bI.dir(e,"previousSibling")},nextUntil:function(b6,e,b7){return bI.dir(b6,"nextSibling",b7)},prevUntil:function(b6,e,b7){return bI.dir(b6,"previousSibling",b7)},siblings:function(e){return bI.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bI.sibling(e.firstChild)},contents:function(e){return bI.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bI.merge([],e.childNodes)}},function(e,b6){bI.fn[e]=function(b9,b7){var b8=bI.map(this,b6,b9);if(e.slice(-5)!=="Until"){b7=b9}if(b7&&typeof b7==="string"){b8=bI.filter(b7,b8)}if(this.length>1){if(!bz[e]){b8=bI.unique(b8)}if(bv.test(e)){b8=b8.reverse()}}return this.pushStack(b8)}});var aF=(/\S+/g);var b2={};function af(b6){var e=b2[b6]={};bI.each(b6.match(aF)||[],function(b8,b7){e[b7]=true});return e}bI.Callbacks=function(cf){cf=typeof cf==="string"?(b2[cf]||af(cf)):bI.extend({},cf);var b9,b8,e,ca,cb,b7,cc=[],cd=!cf.once&&[],b6=function(cg){b8=cf.memory&&cg;e=true;cb=b7||0;b7=0;ca=cc.length;b9=true;for(;cc&&cb<ca;cb++){if(cc[cb].apply(cg[0],cg[1])===false&&cf.stopOnFalse){b8=false;break}}b9=false;if(cc){if(cd){if(cd.length){b6(cd.shift())}}else{if(b8){cc=[]}else{ce.disable()}}}},ce={add:function(){if(cc){var ch=cc.length;(function cg(ci){bI.each(ci,function(ck,cj){var cl=bI.type(cj);if(cl==="function"){if(!cf.unique||!ce.has(cj)){cc.push(cj)}}else{if(cj&&cj.length&&cl!=="string"){cg(cj)}}})})(arguments);if(b9){ca=cc.length}else{if(b8){b7=ch;b6(b8)}}}return this},remove:function(){if(cc){bI.each(arguments,function(ci,cg){var ch;while((ch=bI.inArray(cg,cc,ch))>-1){cc.splice(ch,1);if(b9){if(ch<=ca){ca--}if(ch<=cb){cb--}}}})}return this},has:function(cg){return cg?bI.inArray(cg,cc)>-1:!!(cc&&cc.length)},empty:function(){cc=[];ca=0;return this},disable:function(){cc=cd=b8=undefined;return this},disabled:function(){return !cc},lock:function(){cd=undefined;if(!b8){ce.disable()}return this},locked:function(){return !cd},fireWith:function(ch,cg){if(cc&&(!e||cd)){cg=cg||[];cg=[ch,cg.slice?cg.slice():cg];if(b9){cd.push(cg)}else{b6(cg)}}return this},fire:function(){ce.fireWith(this,arguments);return this},fired:function(){return !!e}};return ce};bI.extend({Deferred:function(b7){var b6=[["resolve","done",bI.Callbacks("once memory"),"resolved"],["reject","fail",bI.Callbacks("once memory"),"rejected"],["notify","progress",bI.Callbacks("memory")]],b8="pending",b9={state:function(){return b8},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var ca=arguments;return bI.Deferred(function(cb){bI.each(b6,function(cd,cc){var ce=bI.isFunction(ca[cd])&&ca[cd];e[cc[1]](function(){var cf=ce&&ce.apply(this,arguments);if(cf&&bI.isFunction(cf.promise)){cf.promise().done(cb.resolve).fail(cb.reject).progress(cb.notify)}else{cb[cc[0]+"With"](this===b9?cb.promise():this,ce?[cf]:arguments)}})});ca=null}).promise()},promise:function(ca){return ca!=null?bI.extend(ca,b9):b9}},e={};b9.pipe=b9.then;bI.each(b6,function(cb,ca){var cd=ca[2],cc=ca[3];b9[ca[1]]=cd.add;if(cc){cd.add(function(){b8=cc},b6[cb^1][2].disable,b6[2][2].lock)}e[ca[0]]=function(){e[ca[0]+"With"](this===e?b9:this,arguments);return this};e[ca[0]+"With"]=cd.fireWith});b9.promise(e);if(b7){b7.call(e,e)}return e},when:function(b9){var b7=0,cb=P.call(arguments),e=cb.length,b6=e!==1||(b9&&bI.isFunction(b9.promise))?e:0,ce=b6===1?b9:bI.Deferred(),b8=function(cg,ch,cf){return function(ci){ch[cg]=this;cf[cg]=arguments.length>1?P.call(arguments):ci;if(cf===cd){ce.notifyWith(ch,cf)}else{if(!(--b6)){ce.resolveWith(ch,cf)}}}},cd,ca,cc;if(e>1){cd=new Array(e);ca=new Array(e);cc=new Array(e);for(;b7<e;b7++){if(cb[b7]&&bI.isFunction(cb[b7].promise)){cb[b7].promise().done(b8(b7,cc,cb)).fail(ce.reject).progress(b8(b7,ca,cd))}else{--b6}}}if(!b6){ce.resolveWith(cc,cb)}return ce.promise()}});var ak;bI.fn.ready=function(e){bI.ready.promise().done(e);return this};bI.extend({isReady:false,readyWait:1,holdReady:function(e){if(e){bI.readyWait++}else{bI.ready(true)}},ready:function(e){if(e===true?--bI.readyWait:bI.isReady){return}if(!n.body){return setTimeout(bI.ready)}bI.isReady=true;if(e!==true&&--bI.readyWait>0){return}ak.resolveWith(n,[bI]);if(bI.fn.triggerHandler){bI(n).triggerHandler("ready");bI(n).off("ready")}}});function bm(){if(n.addEventListener){n.removeEventListener("DOMContentLoaded",bZ,false);a5.removeEventListener("load",bZ,false)}else{n.detachEvent("onreadystatechange",bZ);a5.detachEvent("onload",bZ)}}function bZ(){if(n.addEventListener||event.type==="load"||n.readyState==="complete"){bm();bI.ready()}}bI.ready.promise=function(b9){if(!ak){ak=bI.Deferred();if(n.readyState==="complete"){setTimeout(bI.ready)}else{if(n.addEventListener){n.addEventListener("DOMContentLoaded",bZ,false);a5.addEventListener("load",bZ,false)}else{n.attachEvent("onreadystatechange",bZ);a5.attachEvent("onload",bZ);var b8=false;try{b8=a5.frameElement==null&&n.documentElement}catch(b7){}if(b8&&b8.doScroll){(function b6(){if(!bI.isReady){try{b8.doScroll("left")}catch(ca){return setTimeout(b6,50)}bm();bI.ready()}})()}}}}return ak.promise(b9)};var aC=typeof undefined;var bh;for(bh in bI(D)){break}D.ownLast=bh!=="0";D.inlineBlockNeedsLayout=false;bI(function(){var b7,b8,e,b6;e=n.getElementsByTagName("body")[0];if(!e||!e.style){return}b8=n.createElement("div");b6=n.createElement("div");b6.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";e.appendChild(b6).appendChild(b8);if(typeof b8.style.zoom!==aC){b8.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";D.inlineBlockNeedsLayout=b7=b8.offsetWidth===3;if(b7){e.style.zoom=1}}e.removeChild(b6)});(function(){var b7=n.createElement("div");if(D.deleteExpando==null){D.deleteExpando=true;try{delete b7.test}catch(b6){D.deleteExpando=false}}b7=null})();bI.acceptData=function(b7){var b6=bI.noData[(b7.nodeName+" ").toLowerCase()],e=+b7.nodeType||1;return e!==1&&e!==9?false:!b6||b6!==true&&b7.getAttribute("classid")===b6};var by=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,aQ=/([A-Z])/g;function bA(b8,b7,b9){if(b9===undefined&&b8.nodeType===1){var b6="data-"+b7.replace(aQ,"-$1").toLowerCase();b9=b8.getAttribute(b6);if(typeof b9==="string"){try{b9=b9==="true"?true:b9==="false"?false:b9==="null"?null:+b9+""===b9?+b9:by.test(b9)?bI.parseJSON(b9):b9}catch(ca){}bI.data(b8,b7,b9)}else{b9=undefined}}return b9}function Q(b6){var e;for(e in b6){if(e==="data"&&bI.isEmptyObject(b6[e])){continue}if(e!=="toJSON"){return false}}return true}function bc(b8,b6,ca,b9){if(!bI.acceptData(b8)){return}var cc,cb,cd=bI.expando,ce=b8.nodeType,e=ce?bI.cache:b8,b7=ce?b8[cd]:b8[cd]&&cd;if((!b7||!e[b7]||(!b9&&!e[b7].data))&&ca===undefined&&typeof b6==="string"){return}if(!b7){if(ce){b7=b8[cd]=aP.pop()||bI.guid++}else{b7=cd}}if(!e[b7]){e[b7]=ce?{}:{toJSON:bI.noop}}if(typeof b6==="object"||typeof b6==="function"){if(b9){e[b7]=bI.extend(e[b7],b6)}else{e[b7].data=bI.extend(e[b7].data,b6)}}cb=e[b7];if(!b9){if(!cb.data){cb.data={}}cb=cb.data}if(ca!==undefined){cb[bI.camelCase(b6)]=ca}if(typeof b6==="string"){cc=cb[b6];if(cc==null){cc=cb[bI.camelCase(b6)]}}else{cc=cb}return cc}function ab(b9,b7,e){if(!bI.acceptData(b9)){return}var cb,b8,ca=b9.nodeType,b6=ca?bI.cache:b9,cc=ca?b9[bI.expando]:bI.expando;if(!b6[cc]){return}if(b7){cb=e?b6[cc]:b6[cc].data;if(cb){if(!bI.isArray(b7)){if(b7 in cb){b7=[b7]}else{b7=bI.camelCase(b7);if(b7 in cb){b7=[b7]}else{b7=b7.split(" ")}}}else{b7=b7.concat(bI.map(b7,bI.camelCase))}b8=b7.length;while(b8--){delete cb[b7[b8]]}if(e?!Q(cb):!bI.isEmptyObject(cb)){return}}}if(!e){delete b6[cc].data;if(!Q(b6[cc])){return}}if(ca){bI.cleanData([b9],true)}else{if(D.deleteExpando||b6!=b6.window){delete b6[cc]}else{b6[cc]=null}}}bI.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?bI.cache[e[bI.expando]]:e[bI.expando];return !!e&&!Q(e)},data:function(b6,e,b7){return bc(b6,e,b7)},removeData:function(b6,e){return ab(b6,e)},_data:function(b6,e,b7){return bc(b6,e,b7,true)},_removeData:function(b6,e){return ab(b6,e,true)}});bI.fn.extend({data:function(b8,cb){var b7,b6,ca,b9=this[0],e=b9&&b9.attributes;if(b8===undefined){if(this.length){ca=bI.data(b9);if(b9.nodeType===1&&!bI._data(b9,"parsedAttrs")){b7=e.length;while(b7--){if(e[b7]){b6=e[b7].name;if(b6.indexOf("data-")===0){b6=bI.camelCase(b6.slice(5));bA(b9,b6,ca[b6])}}}bI._data(b9,"parsedAttrs",true)}}return ca}if(typeof b8==="object"){return this.each(function(){bI.data(this,b8)})}return arguments.length>1?this.each(function(){bI.data(this,b8,cb)}):b9?bA(b9,b8,bI.data(b9,b8)):undefined},removeData:function(e){return this.each(function(){bI.removeData(this,e)})}});bI.extend({queue:function(b7,b6,b8){var e;if(b7){b6=(b6||"fx")+"queue";e=bI._data(b7,b6);if(b8){if(!e||bI.isArray(b8)){e=bI._data(b7,b6,bI.makeArray(b8))}else{e.push(b8)}}return e||[]}},dequeue:function(ca,b9){b9=b9||"fx";var b6=bI.queue(ca,b9),cb=b6.length,b8=b6.shift(),e=bI._queueHooks(ca,b9),b7=function(){bI.dequeue(ca,b9)};if(b8==="inprogress"){b8=b6.shift();cb--}if(b8){if(b9==="fx"){b6.unshift("inprogress")}delete e.stop;b8.call(ca,b7,e)}if(!cb&&e){e.empty.fire()}},_queueHooks:function(b7,b6){var e=b6+"queueHooks";return bI._data(b7,e)||bI._data(b7,e,{empty:bI.Callbacks("once memory").add(function(){bI._removeData(b7,b6+"queue");bI._removeData(b7,e)})})}});bI.fn.extend({queue:function(e,b6){var b7=2;if(typeof e!=="string"){b6=e;e="fx";b7--}if(arguments.length<b7){return bI.queue(this[0],e)}return b6===undefined?this:this.each(function(){var b8=bI.queue(this,e,b6);bI._queueHooks(this,e);if(e==="fx"&&b8[0]!=="inprogress"){bI.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bI.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b7,cb){var b6,b8=1,cc=bI.Deferred(),ca=this,e=this.length,b9=function(){if(!(--b8)){cc.resolveWith(ca,[ca])}};if(typeof b7!=="string"){cb=b7;b7=undefined}b7=b7||"fx";while(e--){b6=bI._data(ca[e],b7+"queueHooks");if(b6&&b6.empty){b8++;b6.empty.add(b9)}}b9();return cc.promise(cb)}});var aE=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var bT=["Top","Right","Bottom","Left"];var S=function(b6,e){b6=e||b6;return bI.css(b6,"display")==="none"||!bI.contains(b6.ownerDocument,b6)};var aB=bI.access=function(e,ca,cc,cb,b8,ce,cd){var b7=0,b6=e.length,b9=cc==null;if(bI.type(cc)==="object"){b8=true;for(b7 in cc){bI.access(e,ca,b7,cc[b7],true,ce,cd)}}else{if(cb!==undefined){b8=true;if(!bI.isFunction(cb)){cd=true}if(b9){if(cd){ca.call(e,cb);ca=null}else{b9=ca;ca=function(cg,cf,ch){return b9.call(bI(cg),ch)}}}if(ca){for(;b7<b6;b7++){ca(e[b7],cc,cd?cb:cb.call(e[b7],b7,ca(e[b7],cc)))}}}}return b8?e:b9?ca.call(e):b6?ca(e[0],cc):ce};var aM=(/^(?:checkbox|radio)$/i);(function(){var b6=n.createElement("input"),b9=n.createElement("div"),b7=n.createDocumentFragment();b9.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";D.leadingWhitespace=b9.firstChild.nodeType===3;D.tbody=!b9.getElementsByTagName("tbody").length;D.htmlSerialize=!!b9.getElementsByTagName("link").length;D.html5Clone=n.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";b6.type="checkbox";b6.checked=true;b7.appendChild(b6);D.appendChecked=b6.checked;b9.innerHTML="<textarea>x</textarea>";D.noCloneChecked=!!b9.cloneNode(true).lastChild.defaultValue;b7.appendChild(b9);b9.innerHTML="<input type='radio' checked='checked' name='t'/>";D.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;D.noCloneEvent=true;if(b9.attachEvent){b9.attachEvent("onclick",function(){D.noCloneEvent=false});b9.cloneNode(true).click()}if(D.deleteExpando==null){D.deleteExpando=true;try{delete b9.test}catch(b8){D.deleteExpando=false}}})();(function(){var b6,e,b7=n.createElement("div");for(b6 in {submit:true,change:true,focusin:true}){e="on"+b6;if(!(D[b6+"Bubbles"]=e in a5)){b7.setAttribute(e,"t");D[b6+"Bubbles"]=b7.attributes[e].expando===false}}b7=null})();var bG=/^(?:input|select|textarea)$/i,a6=/^key/,bM=/^(?:mouse|pointer|contextmenu)|click/,bC=/^(?:focusinfocus|focusoutblur)$/,bx=/^([^.]*)(?:\.(.+)|)$/;function U(){return true}function Z(){return false}function am(){try{return n.activeElement}catch(e){}}bI.event={global:{},add:function(b9,ce,cj,cb,ca){var cc,ck,cl,b7,cg,cd,ci,b8,ch,e,b6,cf=bI._data(b9);if(!cf){return}if(cj.handler){b7=cj;cj=b7.handler;ca=b7.selector}if(!cj.guid){cj.guid=bI.guid++}if(!(ck=cf.events)){ck=cf.events={}}if(!(cd=cf.handle)){cd=cf.handle=function(cm){return typeof bI!==aC&&(!cm||bI.event.triggered!==cm.type)?bI.event.dispatch.apply(cd.elem,arguments):undefined};cd.elem=b9}ce=(ce||"").match(aF)||[""];cl=ce.length;while(cl--){cc=bx.exec(ce[cl])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){continue}cg=bI.event.special[ch]||{};ch=(ca?cg.delegateType:cg.bindType)||ch;cg=bI.event.special[ch]||{};ci=bI.extend({type:ch,origType:b6,data:cb,handler:cj,guid:cj.guid,selector:ca,needsContext:ca&&bI.expr.match.needsContext.test(ca),namespace:e.join(".")},b7);if(!(b8=ck[ch])){b8=ck[ch]=[];b8.delegateCount=0;if(!cg.setup||cg.setup.call(b9,cb,e,cd)===false){if(b9.addEventListener){b9.addEventListener(ch,cd,false)}else{if(b9.attachEvent){b9.attachEvent("on"+ch,cd)}}}}if(cg.add){cg.add.call(b9,ci);if(!ci.handler.guid){ci.handler.guid=cj.guid}}if(ca){b8.splice(b8.delegateCount++,0,ci)}else{b8.push(ci)}bI.event.global[ch]=true}b9=null},remove:function(b8,ce,cl,b9,cd){var cb,ci,cc,ca,ck,cj,cg,b7,ch,e,b6,cf=bI.hasData(b8)&&bI._data(b8);if(!cf||!(cj=cf.events)){return}ce=(ce||"").match(aF)||[""];ck=ce.length;while(ck--){cc=bx.exec(ce[ck])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){for(ch in cj){bI.event.remove(b8,ch+ce[ck],cl,b9,true)}continue}cg=bI.event.special[ch]||{};ch=(b9?cg.delegateType:cg.bindType)||ch;b7=cj[ch]||[];cc=cc[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");ca=cb=b7.length;while(cb--){ci=b7[cb];if((cd||b6===ci.origType)&&(!cl||cl.guid===ci.guid)&&(!cc||cc.test(ci.namespace))&&(!b9||b9===ci.selector||b9==="**"&&ci.selector)){b7.splice(cb,1);if(ci.selector){b7.delegateCount--}if(cg.remove){cg.remove.call(b8,ci)}}}if(ca&&!b7.length){if(!cg.teardown||cg.teardown.call(b8,e,cf.handle)===false){bI.removeEvent(b8,ch,cf.handle)}delete cj[ch]}}if(bI.isEmptyObject(cj)){delete cf.handle;bI._removeData(b8,"events")}},trigger:function(b6,cd,b9,ck){var ce,b8,ci,cj,cg,cc,cb,ca=[b9||n],ch=K.call(b6,"type")?b6.type:b6,b7=K.call(b6,"namespace")?b6.namespace.split("."):[];ci=cc=b9=b9||n;if(b9.nodeType===3||b9.nodeType===8){return}if(bC.test(ch+bI.event.triggered)){return}if(ch.indexOf(".")>=0){b7=ch.split(".");ch=b7.shift();b7.sort()}b8=ch.indexOf(":")<0&&"on"+ch;b6=b6[bI.expando]?b6:new bI.Event(ch,typeof b6==="object"&&b6);b6.isTrigger=ck?2:3;b6.namespace=b7.join(".");b6.namespace_re=b6.namespace?new RegExp("(^|\\.)"+b7.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b6.result=undefined;if(!b6.target){b6.target=b9}cd=cd==null?[b6]:bI.makeArray(cd,[b6]);cg=bI.event.special[ch]||{};if(!ck&&cg.trigger&&cg.trigger.apply(b9,cd)===false){return}if(!ck&&!cg.noBubble&&!bI.isWindow(b9)){cj=cg.delegateType||ch;if(!bC.test(cj+ch)){ci=ci.parentNode}for(;ci;ci=ci.parentNode){ca.push(ci);cc=ci}if(cc===(b9.ownerDocument||n)){ca.push(cc.defaultView||cc.parentWindow||a5)}}cb=0;while((ci=ca[cb++])&&!b6.isPropagationStopped()){b6.type=cb>1?cj:cg.bindType||ch;ce=(bI._data(ci,"events")||{})[b6.type]&&bI._data(ci,"handle");if(ce){ce.apply(ci,cd)}ce=b8&&ci[b8];if(ce&&ce.apply&&bI.acceptData(ci)){b6.result=ce.apply(ci,cd);if(b6.result===false){b6.preventDefault()}}}b6.type=ch;if(!ck&&!b6.isDefaultPrevented()){if((!cg._default||cg._default.apply(ca.pop(),cd)===false)&&bI.acceptData(b9)){if(b8&&b9[ch]&&!bI.isWindow(b9)){cc=b9[b8];if(cc){b9[b8]=null}bI.event.triggered=ch;try{b9[ch]()}catch(cf){}bI.event.triggered=undefined;if(cc){b9[b8]=cc}}}}return b6.result},dispatch:function(e){e=bI.event.fix(e);var b9,ca,ce,b6,b8,cd=[],cc=P.call(arguments),b7=(bI._data(this,"events")||{})[e.type]||[],cb=bI.event.special[e.type]||{};cc[0]=e;e.delegateTarget=this;if(cb.preDispatch&&cb.preDispatch.call(this,e)===false){return}cd=bI.event.handlers.call(this,e,b7);b9=0;while((b6=cd[b9++])&&!e.isPropagationStopped()){e.currentTarget=b6.elem;b8=0;while((ce=b6.handlers[b8++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(ce.namespace)){e.handleObj=ce;e.data=ce.data;ca=((bI.event.special[ce.origType]||{}).handle||ce.handler).apply(b6.elem,cc);if(ca!==undefined){if((e.result=ca)===false){e.preventDefault();e.stopPropagation()}}}}}if(cb.postDispatch){cb.postDispatch.call(this,e)}return e.result},handlers:function(e,b7){var b6,cc,ca,b9,cb=[],b8=b7.delegateCount,cd=e.target;if(b8&&cd.nodeType&&(!e.button||e.type!=="click")){for(;cd!=this;cd=cd.parentNode||this){if(cd.nodeType===1&&(cd.disabled!==true||e.type!=="click")){ca=[];for(b9=0;b9<b8;b9++){cc=b7[b9];b6=cc.selector+" ";if(ca[b6]===undefined){ca[b6]=cc.needsContext?bI(b6,this).index(cd)>=0:bI.find(b6,this,null,[cd]).length}if(ca[b6]){ca.push(cc)}}if(ca.length){cb.push({elem:cd,handlers:ca})}}}}if(b8<b7.length){cb.push({elem:this,handlers:b7.slice(b8)})}return cb},fix:function(b8){if(b8[bI.expando]){return b8}var b6,cb,ca,b7=b8.type,e=b8,b9=this.fixHooks[b7];if(!b9){this.fixHooks[b7]=b9=bM.test(b7)?this.mouseHooks:a6.test(b7)?this.keyHooks:{}}ca=b9.props?this.props.concat(b9.props):this.props;b8=new bI.Event(e);b6=ca.length;while(b6--){cb=ca[b6];b8[cb]=e[cb]}if(!b8.target){b8.target=e.srcElement||n}if(b8.target.nodeType===3){b8.target=b8.target.parentNode}b8.metaKey=!!b8.metaKey;return b9.filter?b9.filter(b8,e):b8},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b6,e){if(b6.which==null){b6.which=e.charCode!=null?e.charCode:e.keyCode}return b6}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b8,b7){var e,b9,ca,b6=b7.button,cb=b7.fromElement;if(b8.pageX==null&&b7.clientX!=null){b9=b8.target.ownerDocument||n;ca=b9.documentElement;e=b9.body;b8.pageX=b7.clientX+(ca&&ca.scrollLeft||e&&e.scrollLeft||0)-(ca&&ca.clientLeft||e&&e.clientLeft||0);b8.pageY=b7.clientY+(ca&&ca.scrollTop||e&&e.scrollTop||0)-(ca&&ca.clientTop||e&&e.clientTop||0)}if(!b8.relatedTarget&&cb){b8.relatedTarget=cb===b8.target?b7.toElement:cb}if(!b8.which&&b6!==undefined){b8.which=(b6&1?1:(b6&2?3:(b6&4?2:0)))}return b8}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==am()&&this.focus){try{this.focus();return false}catch(b6){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===am()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bI.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return bI.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}},simulate:function(b7,b9,b8,b6){var ca=bI.extend(new bI.Event(),b8,{type:b7,isSimulated:true,originalEvent:{}});if(b6){bI.event.trigger(ca,null,b9)}else{bI.event.dispatch.call(b9,ca)}if(ca.isDefaultPrevented()){b8.preventDefault()}}};bI.removeEvent=n.removeEventListener?function(b6,e,b7){if(b6.removeEventListener){b6.removeEventListener(e,b7,false)}}:function(b7,b6,b8){var e="on"+b6;if(b7.detachEvent){if(typeof b7[e]===aC){b7[e]=null}b7.detachEvent(e,b8)}};bI.Event=function(b6,e){if(!(this instanceof bI.Event)){return new bI.Event(b6,e)}if(b6&&b6.type){this.originalEvent=b6;this.type=b6.type;this.isDefaultPrevented=b6.defaultPrevented||b6.defaultPrevented===undefined&&b6.returnValue===false?U:Z}else{this.type=b6}if(e){bI.extend(this,e)}this.timeStamp=b6&&b6.timeStamp||bI.now();this[bI.expando]=true};bI.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var b6=this.originalEvent;this.isDefaultPrevented=U;if(!b6){return}if(b6.preventDefault){b6.preventDefault()}else{b6.returnValue=false}},stopPropagation:function(){var b6=this.originalEvent;this.isPropagationStopped=U;if(!b6){return}if(b6.stopPropagation){b6.stopPropagation()}b6.cancelBubble=true},stopImmediatePropagation:function(){var b6=this.originalEvent;this.isImmediatePropagationStopped=U;if(b6&&b6.stopImmediatePropagation){b6.stopImmediatePropagation()}this.stopPropagation()}};bI.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b6,e){bI.event.special[b6]={delegateType:e,bindType:e,handle:function(b9){var b7,cb=this,ca=b9.relatedTarget,b8=b9.handleObj;if(!ca||(ca!==cb&&!bI.contains(cb,ca))){b9.type=b8.origType;b7=b8.handler.apply(this,arguments);b9.type=e}return b7}}});if(!D.submitBubbles){bI.event.special.submit={setup:function(){if(bI.nodeName(this,"form")){return false}bI.event.add(this,"click._submit keypress._submit",function(b8){var b7=b8.target,b6=bI.nodeName(b7,"input")||bI.nodeName(b7,"button")?b7.form:undefined;if(b6&&!bI._data(b6,"submitBubbles")){bI.event.add(b6,"submit._submit",function(e){e._submit_bubble=true});bI._data(b6,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bI.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bI.nodeName(this,"form")){return false}bI.event.remove(this,"._submit")}}}if(!D.changeBubbles){bI.event.special.change={setup:function(){if(bG.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bI.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bI.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bI.event.simulate("change",this,e,true)})}return false}bI.event.add(this,"beforeactivate._change",function(b7){var b6=b7.target;if(bG.test(b6.nodeName)&&!bI._data(b6,"changeBubbles")){bI.event.add(b6,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bI.event.simulate("change",this.parentNode,e,true)}});bI._data(b6,"changeBubbles",true)}})},handle:function(b6){var e=b6.target;if(this!==e||b6.isSimulated||b6.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b6.handleObj.handler.apply(this,arguments)}},teardown:function(){bI.event.remove(this,"._change");return !bG.test(this.nodeName)}}}if(!D.focusinBubbles){bI.each({focus:"focusin",blur:"focusout"},function(b7,e){var b6=function(b8){bI.event.simulate(e,b8.target,bI.event.fix(b8),true)};bI.event.special[e]={setup:function(){var b9=this.ownerDocument||this,b8=bI._data(b9,e);if(!b8){b9.addEventListener(b7,b6,true)}bI._data(b9,e,(b8||0)+1)},teardown:function(){var b9=this.ownerDocument||this,b8=bI._data(b9,e)-1;if(!b8){b9.removeEventListener(b7,b6,true);bI._removeData(b9,e)}else{bI._data(b9,e,b8)}}}})}bI.fn.extend({on:function(b7,e,ca,b9,b6){var b8,cb;if(typeof b7==="object"){if(typeof e!=="string"){ca=ca||e;e=undefined}for(b8 in b7){this.on(b8,e,ca,b7[b8],b6)}return this}if(ca==null&&b9==null){b9=e;ca=e=undefined}else{if(b9==null){if(typeof e==="string"){b9=ca;ca=undefined}else{b9=ca;ca=e;e=undefined}}}if(b9===false){b9=Z}else{if(!b9){return this}}if(b6===1){cb=b9;b9=function(cc){bI().off(cc);return cb.apply(this,arguments)};b9.guid=cb.guid||(cb.guid=bI.guid++)}return this.each(function(){bI.event.add(this,b7,b9,ca,e)})},one:function(b6,e,b8,b7){return this.on(b6,e,b8,b7,1)},off:function(b7,e,b9){var b6,b8;if(b7&&b7.preventDefault&&b7.handleObj){b6=b7.handleObj;bI(b7.delegateTarget).off(b6.namespace?b6.origType+"."+b6.namespace:b6.origType,b6.selector,b6.handler);return this}if(typeof b7==="object"){for(b8 in b7){this.off(b8,e,b7[b8])}return this}if(e===false||typeof e==="function"){b9=e;e=undefined}if(b9===false){b9=Z}return this.each(function(){bI.event.remove(this,b7,b9,e)})},trigger:function(e,b6){return this.each(function(){bI.event.trigger(e,b6,this)})},triggerHandler:function(e,b7){var b6=this[0];if(b6){return bI.event.trigger(e,b7,b6,true)}}});function B(e){var b7=d.split("|"),b6=e.createDocumentFragment();if(b6.createElement){while(b7.length){b6.createElement(b7.pop())}}return b6}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aD=/ jQuery\d+="(?:null|\d+)"/g,M=new RegExp("<(?:"+d+")[\\s/>]","i"),b5=/^\s+/,aH=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,o=/<([\w:]+)/,b0=/<tbody/i,L=/<|&#?\w+;/,an=/<(?:script|style|link)/i,bW=/checked\s*(?:[^=]|=\s*.checked.)/i,bB=/^$|\/(?:java|ecma)script/i,ar=/^true\/(.*)/,aO=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:D.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aT=B(n),k=aT.appendChild(n.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;function l(b8,e){var b6,b9,b7=0,ca=typeof b8.getElementsByTagName!==aC?b8.getElementsByTagName(e||"*"):typeof b8.querySelectorAll!==aC?b8.querySelectorAll(e||"*"):undefined;if(!ca){for(ca=[],b6=b8.childNodes||b8;(b9=b6[b7])!=null;b7++){if(!e||bI.nodeName(b9,e)){ca.push(b9)}else{bI.merge(ca,l(b9,e))}}}return e===undefined||e&&bI.nodeName(b8,e)?bI.merge([b8],ca):ca}function bY(e){if(aM.test(e.type)){e.defaultChecked=e.checked}}function a3(b6,e){return bI.nodeName(b6,"table")&&bI.nodeName(e.nodeType!==11?e:e.firstChild,"tr")?b6.getElementsByTagName("tbody")[0]||b6.appendChild(b6.ownerDocument.createElement("tbody")):b6}function u(e){e.type=(bI.find.attr(e,"type")!==null)+"/"+e.type;return e}function bf(b6){var e=ar.exec(b6.type);if(e){b6.type=e[1]}else{b6.removeAttribute("type")}return b6}function bu(e,b7){var b8,b6=0;for(;(b8=e[b6])!=null;b6++){bI._data(b8,"globalEval",!b7||bI._data(b7[b6],"globalEval"))}}function at(cc,b6){if(b6.nodeType!==1||!bI.hasData(cc)){return}var b9,b8,e,cb=bI._data(cc),ca=bI._data(b6,cb),b7=cb.events;if(b7){delete ca.handle;ca.events={};for(b9 in b7){for(b8=0,e=b7[b9].length;b8<e;b8++){bI.event.add(b6,b9,b7[b9][b8])}}}if(ca.data){ca.data=bI.extend({},ca.data)}}function T(b9,b6){var ca,b8,b7;if(b6.nodeType!==1){return}ca=b6.nodeName.toLowerCase();if(!D.noCloneEvent&&b6[bI.expando]){b7=bI._data(b6);for(b8 in b7.events){bI.removeEvent(b6,b8,b7.handle)}b6.removeAttribute(bI.expando)}if(ca==="script"&&b6.text!==b9.text){u(b6).text=b9.text;bf(b6)}else{if(ca==="object"){if(b6.parentNode){b6.outerHTML=b9.outerHTML}if(D.html5Clone&&(b9.innerHTML&&!bI.trim(b6.innerHTML))){b6.innerHTML=b9.innerHTML}}else{if(ca==="input"&&aM.test(b9.type)){b6.defaultChecked=b6.checked=b9.checked;if(b6.value!==b9.value){b6.value=b9.value}}else{if(ca==="option"){b6.defaultSelected=b6.selected=b9.defaultSelected}else{if(ca==="input"||ca==="textarea"){b6.defaultValue=b9.defaultValue}}}}}}bI.extend({clone:function(b6,b8,e){var ca,b7,cd,b9,cb,cc=bI.contains(b6.ownerDocument,b6);if(D.html5Clone||bI.isXMLDoc(b6)||!M.test("<"+b6.nodeName+">")){cd=b6.cloneNode(true)}else{k.innerHTML=b6.outerHTML;k.removeChild(cd=k.firstChild)}if((!D.noCloneEvent||!D.noCloneChecked)&&(b6.nodeType===1||b6.nodeType===11)&&!bI.isXMLDoc(b6)){ca=l(cd);cb=l(b6);for(b9=0;(b7=cb[b9])!=null;++b9){if(ca[b9]){T(b7,ca[b9])}}}if(b8){if(e){cb=cb||l(b6);ca=ca||l(cd);for(b9=0;(b7=cb[b9])!=null;b9++){at(b7,ca[b9])}}else{at(b6,cd)}}ca=l(cd,"script");if(ca.length>0){bu(ca,!cc&&l(b6,"script"))}ca=cb=b7=null;return cd},buildFragment:function(b6,b8,cd,ci){var ce,ca,cc,ch,cj,cg,b7,cb=b6.length,b9=B(b8),e=[],cf=0;for(;cf<cb;cf++){ca=b6[cf];if(ca||ca===0){if(bI.type(ca)==="object"){bI.merge(e,ca.nodeType?[ca]:ca)}else{if(!L.test(ca)){e.push(b8.createTextNode(ca))}else{ch=ch||b9.appendChild(b8.createElement("div"));cj=(o.exec(ca)||["",""])[1].toLowerCase();b7=W[cj]||W._default;ch.innerHTML=b7[1]+ca.replace(aH,"<$1></$2>")+b7[2];ce=b7[0];while(ce--){ch=ch.lastChild}if(!D.leadingWhitespace&&b5.test(ca)){e.push(b8.createTextNode(b5.exec(ca)[0]))}if(!D.tbody){ca=cj==="table"&&!b0.test(ca)?ch.firstChild:b7[1]==="<table>"&&!b0.test(ca)?ch:0;ce=ca&&ca.childNodes.length;while(ce--){if(bI.nodeName((cg=ca.childNodes[ce]),"tbody")&&!cg.childNodes.length){ca.removeChild(cg)}}}bI.merge(e,ch.childNodes);ch.textContent="";while(ch.firstChild){ch.removeChild(ch.firstChild)}ch=b9.lastChild}}}}if(ch){b9.removeChild(ch)}if(!D.appendChecked){bI.grep(l(e,"input"),bY)}cf=0;while((ca=e[cf++])){if(ci&&bI.inArray(ca,ci)!==-1){continue}cc=bI.contains(ca.ownerDocument,ca);ch=l(b9.appendChild(ca),"script");if(cc){bu(ch)}if(cd){ce=0;while((ca=ch[ce++])){if(bB.test(ca.type||"")){cd.push(ca)}}}}ch=null;return b9},cleanData:function(b6,ce){var b8,cd,b7,b9,ca=0,cf=bI.expando,e=bI.cache,cb=D.deleteExpando,cc=bI.event.special;for(;(b8=b6[ca])!=null;ca++){if(ce||bI.acceptData(b8)){b7=b8[cf];b9=b7&&e[b7];if(b9){if(b9.events){for(cd in b9.events){if(cc[cd]){bI.event.remove(b8,cd)}else{bI.removeEvent(b8,cd,b9.handle)}}}if(e[b7]){delete e[b7];if(cb){delete b8[cf]}else{if(typeof b8.removeAttribute!==aC){b8.removeAttribute(cf)}else{b8[cf]=null}}aP.push(b7)}}}}}});bI.fn.extend({text:function(e){return aB(this,function(b6){return b6===undefined?bI.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(b6))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a3(this,e);b6.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a3(this,e);b6.insertBefore(e,b6.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b9){var b8,b6=e?bI.filter(e,this):this,b7=0;for(;(b8=b6[b7])!=null;b7++){if(!b9&&b8.nodeType===1){bI.cleanData(l(b8))}if(b8.parentNode){if(b9&&bI.contains(b8.ownerDocument,b8)){bu(l(b8,"script"))}b8.parentNode.removeChild(b8)}}return this},empty:function(){var b6,e=0;for(;(b6=this[e])!=null;e++){if(b6.nodeType===1){bI.cleanData(l(b6,false))}while(b6.firstChild){b6.removeChild(b6.firstChild)}if(b6.options&&bI.nodeName(b6,"select")){b6.options.length=0}}return this},clone:function(b6,e){b6=b6==null?false:b6;e=e==null?b6:e;return this.map(function(){return bI.clone(this,b6,e)})},html:function(e){return aB(this,function(b9){var b8=this[0]||{},b7=0,b6=this.length;if(b9===undefined){return b8.nodeType===1?b8.innerHTML.replace(aD,""):undefined}if(typeof b9==="string"&&!an.test(b9)&&(D.htmlSerialize||!M.test(b9))&&(D.leadingWhitespace||!b5.test(b9))&&!W[(o.exec(b9)||["",""])[1].toLowerCase()]){b9=b9.replace(aH,"<$1></$2>");try{for(;b7<b6;b7++){b8=this[b7]||{};if(b8.nodeType===1){bI.cleanData(l(b8,false));b8.innerHTML=b9}}b8=0}catch(ca){}}if(b8){this.empty().append(b9)}},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];this.domManip(arguments,function(b6){e=this.parentNode;bI.cleanData(l(this));if(e){e.replaceChild(b6,this)}});return e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(cd,ci){cd=az.apply([],cd);var cb,b7,e,b9,cg,cc,ca=0,b8=this.length,cf=this,ch=b8-1,ce=cd[0],b6=bI.isFunction(ce);if(b6||(b8>1&&typeof ce==="string"&&!D.checkClone&&bW.test(ce))){return this.each(function(ck){var cj=cf.eq(ck);if(b6){cd[0]=ce.call(this,ck,cj.html())}cj.domManip(cd,ci)})}if(b8){cc=bI.buildFragment(cd,this[0].ownerDocument,false,this);cb=cc.firstChild;if(cc.childNodes.length===1){cc=cb}if(cb){b9=bI.map(l(cc,"script"),u);e=b9.length;for(;ca<b8;ca++){b7=cc;if(ca!==ch){b7=bI.clone(b7,true,true);if(e){bI.merge(b9,l(b7,"script"))}}ci.call(this[ca],b7,ca)}if(e){cg=b9[b9.length-1].ownerDocument;bI.map(b9,bf);for(ca=0;ca<e;ca++){b7=b9[ca];if(bB.test(b7.type||"")&&!bI._data(b7,"globalEval")&&bI.contains(cg,b7)){if(b7.src){if(bI._evalUrl){bI._evalUrl(b7.src)}}else{bI.globalEval((b7.text||b7.textContent||b7.innerHTML||"").replace(aO,""))}}}}cc=cb=null}}return this}});bI.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b6){bI.fn[e]=function(b7){var b8,ca=0,b9=[],cc=bI(b7),cb=cc.length-1;for(;ca<=cb;ca++){b8=ca===cb?this:this.clone(true);bI(cc[ca])[b6](b8);x.apply(b9,b8.get())}return this.pushStack(b9)}});var aI,bl={};function a4(e,b9){var b6,b7=bI(b9.createElement(e)).appendTo(b9.body),b8=a5.getDefaultComputedStyle&&(b6=a5.getDefaultComputedStyle(b7[0]))?b6.display:bI.css(b7[0],"display");b7.detach();return b8}function a0(b7){var b6=n,e=bl[b7];if(!e){e=a4(b7,b6);if(e==="none"||!e){aI=(aI||bI("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b6.documentElement);b6=(aI[0].contentWindow||aI[0].contentDocument).document;b6.write();b6.close();e=a4(b7,b6);aI.detach()}bl[b7]=e}return e}(function(){var e;D.shrinkWrapBlocks=function(){if(e!=null){return e}e=false;var b8,b6,b7;b6=n.getElementsByTagName("body")[0];if(!b6||!b6.style){return}b8=n.createElement("div");b7=n.createElement("div");b7.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b6.appendChild(b7).appendChild(b8);if(typeof b8.style.zoom!==aC){b8.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1";b8.appendChild(n.createElement("div")).style.width="5px";e=b8.offsetWidth!==3}b6.removeChild(b7);return e}})();var aZ=(/^margin/);var Y=new RegExp("^("+aE+")(?!px)[a-z%]+$","i");var bq,G,bo=/^(top|right|bottom|left)$/;if(a5.getComputedStyle){bq=function(e){if(e.ownerDocument.defaultView.opener){return e.ownerDocument.defaultView.getComputedStyle(e,null)}return a5.getComputedStyle(e,null)};G=function(cc,b6,cb){var b9,b8,ca,e,b7=cc.style;cb=cb||bq(cc);e=cb?cb.getPropertyValue(b6)||cb[b6]:undefined;if(cb){if(e===""&&!bI.contains(cc.ownerDocument,cc)){e=bI.style(cc,b6)}if(Y.test(e)&&aZ.test(b6)){b9=b7.width;b8=b7.minWidth;ca=b7.maxWidth;b7.minWidth=b7.maxWidth=b7.width=e;e=cb.width;b7.width=b9;b7.minWidth=b8;b7.maxWidth=ca}}return e===undefined?e:e+""}}else{if(n.documentElement.currentStyle){bq=function(e){return e.currentStyle};G=function(cb,b8,ca){var cc,b6,e,b7,b9=cb.style;ca=ca||bq(cb);b7=ca?ca[b8]:undefined;if(b7==null&&b9&&b9[b8]){b7=b9[b8]}if(Y.test(b7)&&!bo.test(b8)){cc=b9.left;b6=cb.runtimeStyle;e=b6&&b6.left;if(e){b6.left=cb.currentStyle.left}b9.left=b8==="fontSize"?"1em":b7;b7=b9.pixelLeft+"px";b9.left=cc;if(e){b6.left=e}}return b7===undefined?b7:b7+""||"auto"}}}function a7(e,b6){return{get:function(){var b7=e();if(b7==null){return}if(b7){delete this.get;return}return(this.get=b6).apply(this,arguments)}}}(function(){var cc,ca,b8,cb,b7,b9,b6;cc=n.createElement("div");cc.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b8=cc.getElementsByTagName("a")[0];ca=b8&&b8.style;if(!ca){return}ca.cssText="float:left;opacity:.5";D.opacity=ca.opacity==="0.5";D.cssFloat=!!ca.cssFloat;cc.style.backgroundClip="content-box";cc.cloneNode(true).style.backgroundClip="";D.clearCloneStyle=cc.style.backgroundClip==="content-box";D.boxSizing=ca.boxSizing===""||ca.MozBoxSizing===""||ca.WebkitBoxSizing==="";bI.extend(D,{reliableHiddenOffsets:function(){if(b9==null){e()}return b9},boxSizingReliable:function(){if(b7==null){e()}return b7},pixelPosition:function(){if(cb==null){e()}return cb},reliableMarginRight:function(){if(b6==null){e()}return b6}});function e(){var cg,cd,ce,cf;cd=n.getElementsByTagName("body")[0];if(!cd||!cd.style){return}cg=n.createElement("div");ce=n.createElement("div");ce.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";cd.appendChild(ce).appendChild(cg);cg.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";cb=b7=false;b6=true;if(a5.getComputedStyle){cb=(a5.getComputedStyle(cg,null)||{}).top!=="1%";b7=(a5.getComputedStyle(cg,null)||{width:"4px"}).width==="4px";cf=cg.appendChild(n.createElement("div"));cf.style.cssText=cg.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";cf.style.marginRight=cf.style.width="0";cg.style.width="1px";b6=!parseFloat((a5.getComputedStyle(cf,null)||{}).marginRight);cg.removeChild(cf)}cg.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cf=cg.getElementsByTagName("td");cf[0].style.cssText="margin:0;border:0;padding:0;display:none";b9=cf[0].offsetHeight===0;if(b9){cf[0].style.display="";cf[1].style.display="none";b9=cf[0].offsetHeight===0}cd.removeChild(ce)}})();bI.swap=function(ca,b9,cb,b8){var b7,b6,e={};for(b6 in b9){e[b6]=ca.style[b6];ca.style[b6]=b9[b6]}b7=cb.apply(ca,b8||[]);for(b6 in b9){ca.style[b6]=e[b6]}return b7};var bj=/alpha\([^)]*\)/i,aU=/opacity\s*=\s*([^)]*)/,H=/^(none|table(?!-c[ea]).+)/,bb=new RegExp("^("+aE+")(.*)$","i"),V=new RegExp("^([+-])=("+aE+")","i"),be={position:"absolute",visibility:"hidden",display:"block"},bD={letterSpacing:"0",fontWeight:"400"},aw=["Webkit","O","Moz","ms"];function c(b8,b6){if(b6 in b8){return b6}var b9=b6.charAt(0).toUpperCase()+b6.slice(1),e=b6,b7=aw.length;while(b7--){b6=aw[b7]+b9;if(b6 in b8){return b6}}return e}function s(cb,e){var cc,b9,ca,b6=[],b7=0,b8=cb.length;for(;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}b6[b7]=bI._data(b9,"olddisplay");cc=b9.style.display;if(e){if(!b6[b7]&&cc==="none"){b9.style.display=""}if(b9.style.display===""&&S(b9)){b6[b7]=bI._data(b9,"olddisplay",a0(b9.nodeName))}}else{ca=S(b9);if(cc&&cc!=="none"||!ca){bI._data(b9,"olddisplay",ca?cc:bI.css(b9,"display"))}}}for(b7=0;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}if(!e||b9.style.display==="none"||b9.style.display===""){b9.style.display=e?b6[b7]||"":"none"}}return cb}function aN(e,b7,b8){var b6=bb.exec(b7);return b6?Math.max(0,b6[1]-(b8||0))+(b6[2]||"px"):b7}function ax(b9,b6,e,cb,b8){var b7=e===(cb?"border":"content")?4:b6==="width"?1:0,ca=0;for(;b7<4;b7+=2){if(e==="margin"){ca+=bI.css(b9,e+bT[b7],true,b8)}if(cb){if(e==="content"){ca-=bI.css(b9,"padding"+bT[b7],true,b8)}if(e!=="margin"){ca-=bI.css(b9,"border"+bT[b7]+"Width",true,b8)}}else{ca+=bI.css(b9,"padding"+bT[b7],true,b8);if(e!=="padding"){ca+=bI.css(b9,"border"+bT[b7]+"Width",true,b8)}}}return ca}function v(b9,b6,e){var b8=true,ca=b6==="width"?b9.offsetWidth:b9.offsetHeight,b7=bq(b9),cb=D.boxSizing&&bI.css(b9,"boxSizing",false,b7)==="border-box";if(ca<=0||ca==null){ca=G(b9,b6,b7);if(ca<0||ca==null){ca=b9.style[b6]}if(Y.test(ca)){return ca}b8=cb&&(D.boxSizingReliable()||ca===b9.style[b6]);ca=parseFloat(ca)||0}return(ca+ax(b9,b6,e||(cb?"border":"content"),b8,b7))+"px"}bI.extend({cssHooks:{opacity:{get:function(b7,b6){if(b6){var e=G(b7,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":D.cssFloat?"cssFloat":"styleFloat"},style:function(b8,b7,ce,b9){if(!b8||b8.nodeType===3||b8.nodeType===8||!b8.style){return}var cc,cd,cf,ca=bI.camelCase(b7),b6=b8.style;b7=bI.cssProps[ca]||(bI.cssProps[ca]=c(b6,ca));cf=bI.cssHooks[b7]||bI.cssHooks[ca];if(ce!==undefined){cd=typeof ce;if(cd==="string"&&(cc=V.exec(ce))){ce=(cc[1]+1)*cc[2]+parseFloat(bI.css(b8,b7));cd="number"}if(ce==null||ce!==ce){return}if(cd==="number"&&!bI.cssNumber[ca]){ce+="px"}if(!D.clearCloneStyle&&ce===""&&b7.indexOf("background")===0){b6[b7]="inherit"}if(!cf||!("set" in cf)||(ce=cf.set(b8,ce,b9))!==undefined){try{b6[b7]=ce}catch(cb){}}}else{if(cf&&"get" in cf&&(cc=cf.get(b8,false,b9))!==undefined){return cc}return b6[b7]}},css:function(cb,b9,b6,ca){var b8,cc,e,b7=bI.camelCase(b9);b9=bI.cssProps[b7]||(bI.cssProps[b7]=c(cb.style,b7));e=bI.cssHooks[b9]||bI.cssHooks[b7];if(e&&"get" in e){cc=e.get(cb,true,b6)}if(cc===undefined){cc=G(cb,b9,ca)}if(cc==="normal"&&b9 in bD){cc=bD[b9]}if(b6===""||b6){b8=parseFloat(cc);return b6===true||bI.isNumeric(b8)?b8||0:cc}return cc}});bI.each(["height","width"],function(b6,e){bI.cssHooks[e]={get:function(b9,b8,b7){if(b8){return H.test(bI.css(b9,"display"))&&b9.offsetWidth===0?bI.swap(b9,be,function(){return v(b9,e,b7)}):v(b9,e,b7)}},set:function(b9,ca,b7){var b8=b7&&bq(b9);return aN(b9,ca,b7?ax(b9,e,b7,D.boxSizing&&bI.css(b9,"boxSizing",false,b8)==="border-box",b8):0)}}});if(!D.opacity){bI.cssHooks.opacity={get:function(b6,e){return aU.test((e&&b6.currentStyle?b6.currentStyle.filter:b6.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b9,ca){var b8=b9.style,b6=b9.currentStyle,e=bI.isNumeric(ca)?"alpha(opacity="+ca*100+")":"",b7=b6&&b6.filter||b8.filter||"";b8.zoom=1;if((ca>=1||ca==="")&&bI.trim(b7.replace(bj,""))===""&&b8.removeAttribute){b8.removeAttribute("filter");if(ca===""||b6&&!b6.filter){return}}b8.filter=bj.test(b7)?b7.replace(bj,e):b7+" "+e}}}bI.cssHooks.marginRight=a7(D.reliableMarginRight,function(b6,e){if(e){return bI.swap(b6,{display:"inline-block"},G,[b6,"marginRight"])}});bI.each({margin:"",padding:"",border:"Width"},function(e,b6){bI.cssHooks[e+b6]={expand:function(b9){var b8=0,b7={},ca=typeof b9==="string"?b9.split(" "):[b9];for(;b8<4;b8++){b7[e+bT[b8]+b6]=ca[b8]||ca[b8-2]||ca[0]}return b7}};if(!aZ.test(e)){bI.cssHooks[e+b6].set=aN}});bI.fn.extend({css:function(e,b6){return aB(this,function(cb,b8,cc){var ca,b7,cd={},b9=0;if(bI.isArray(b8)){ca=bq(cb);b7=b8.length;for(;b9<b7;b9++){cd[b8[b9]]=bI.css(cb,b8[b9],false,ca)}return cd}return cc!==undefined?bI.style(cb,b8,cc):bI.css(cb,b8)},e,b6,arguments.length>1)},show:function(){return s(this,true)},hide:function(){return s(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(S(this)){bI(this).show()}else{bI(this).hide()}})}});function J(b7,b6,b9,e,b8){return new J.prototype.init(b7,b6,b9,e,b8)}bI.Tween=J;J.prototype={constructor:J,init:function(b8,b6,ca,e,b9,b7){this.elem=b8;this.prop=ca;this.easing=b9||"swing";this.options=b6;this.start=this.now=this.cur();this.end=e;this.unit=b7||(bI.cssNumber[ca]?"":"px")},cur:function(){var e=J.propHooks[this.prop];return e&&e.get?e.get(this):J.propHooks._default.get(this)},run:function(b7){var b6,e=J.propHooks[this.prop];if(this.options.duration){this.pos=b6=bI.easing[this.easing](b7,this.options.duration*b7,0,1,this.options.duration)}else{this.pos=b6=b7}this.now=(this.end-this.start)*b6+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{J.propHooks._default.set(this)}return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(b6){var e;if(b6.elem[b6.prop]!=null&&(!b6.elem.style||b6.elem.style[b6.prop]==null)){return b6.elem[b6.prop]}e=bI.css(b6.elem,b6.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bI.fx.step[e.prop]){bI.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bI.cssProps[e.prop]]!=null||bI.cssHooks[e.prop])){bI.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bI.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bI.fx=J.prototype.init;bI.fx.step={};var N,ae,bR=/^(?:toggle|show|hide)$/,bJ=new RegExp("^(?:([+-])=|)("+aE+")([a-z%]*)$","i"),bP=/queueHooks$/,aG=[h],a2={"*":[function(e,cb){var cd=this.createTween(e,cb),b9=cd.cur(),b8=bJ.exec(cb),cc=b8&&b8[3]||(bI.cssNumber[e]?"":"px"),b6=(bI.cssNumber[e]||cc!=="px"&&+b9)&&bJ.exec(bI.css(cd.elem,e)),b7=1,ca=20;if(b6&&b6[3]!==cc){cc=cc||b6[3];b8=b8||[];b6=+b9||1;do{b7=b7||".5";b6=b6/b7;bI.style(cd.elem,e,b6+cc)}while(b7!==(b7=cd.cur()/b9)&&b7!==1&&--ca)}if(b8){b6=cd.start=+b6||+b9||0;cd.unit=cc;cd.end=b8[1]?b6+(b8[1]+1)*b8[2]:+b8[2]}return cd}]};function bn(){setTimeout(function(){N=undefined});return(N=bI.now())}function bH(b7,b9){var b8,e={height:b7},b6=0;b9=b9?1:0;for(;b6<4;b6+=2-b9){b8=bT[b6];e["margin"+b8]=e["padding"+b8]=b7}if(b9){e.opacity=e.width=b7}return e}function bd(b9,cb,b8){var b6,ca=(a2[cb]||[]).concat(a2["*"]),e=0,b7=ca.length;for(;e<b7;e++){if((b6=ca[e].call(b8,cb,b9))){return b6}}}function h(b8,cd,e){var b7,cg,ca,cj,ck,ch,cc,cf,b9=this,ce={},b6=b8.style,cb=b8.nodeType&&S(b8),ci=bI._data(b8,"fxshow");if(!e.queue){ck=bI._queueHooks(b8,"fx");if(ck.unqueued==null){ck.unqueued=0;ch=ck.empty.fire;ck.empty.fire=function(){if(!ck.unqueued){ch()}}}ck.unqueued++;b9.always(function(){b9.always(function(){ck.unqueued--;if(!bI.queue(b8,"fx").length){ck.empty.fire()}})})}if(b8.nodeType===1&&("height" in cd||"width" in cd)){e.overflow=[b6.overflow,b6.overflowX,b6.overflowY];cc=bI.css(b8,"display");cf=cc==="none"?bI._data(b8,"olddisplay")||a0(b8.nodeName):cc;if(cf==="inline"&&bI.css(b8,"float")==="none"){if(!D.inlineBlockNeedsLayout||a0(b8.nodeName)==="inline"){b6.display="inline-block"}else{b6.zoom=1}}}if(e.overflow){b6.overflow="hidden";if(!D.shrinkWrapBlocks()){b9.always(function(){b6.overflow=e.overflow[0];b6.overflowX=e.overflow[1];b6.overflowY=e.overflow[2]})}}for(b7 in cd){cg=cd[b7];if(bR.exec(cg)){delete cd[b7];ca=ca||cg==="toggle";if(cg===(cb?"hide":"show")){if(cg==="show"&&ci&&ci[b7]!==undefined){cb=true}else{continue}}ce[b7]=ci&&ci[b7]||bI.style(b8,b7)}else{cc=undefined}}if(!bI.isEmptyObject(ce)){if(ci){if("hidden" in ci){cb=ci.hidden}}else{ci=bI._data(b8,"fxshow",{})}if(ca){ci.hidden=!cb}if(cb){bI(b8).show()}else{b9.done(function(){bI(b8).hide()})}b9.done(function(){var cl;bI._removeData(b8,"fxshow");for(cl in ce){bI.style(b8,cl,ce[cl])}});for(b7 in ce){cj=bd(cb?ci[b7]:0,b7,b9);if(!(b7 in ci)){ci[b7]=cj.start;if(cb){cj.end=cj.start;cj.start=b7==="width"||b7==="height"?1:0}}}}else{if((cc==="none"?a0(b8.nodeName):cc)==="inline"){b6.display=cc}}}function ao(b8,ca){var b7,b6,cb,b9,e;for(b7 in b8){b6=bI.camelCase(b7);cb=ca[b6];b9=b8[b7];if(bI.isArray(b9)){cb=b9[1];b9=b8[b7]=b9[0]}if(b7!==b6){b8[b6]=b9;delete b8[b7]}e=bI.cssHooks[b6];if(e&&"expand" in e){b9=e.expand(b9);delete b8[b6];for(b7 in b9){if(!(b7 in b8)){b8[b7]=b9[b7];ca[b7]=cb}}}else{ca[b6]=cb}}}function f(b7,cb,ce){var cf,e,ca=0,b6=aG.length,cd=bI.Deferred().always(function(){delete b9.elem}),b9=function(){if(e){return false}var cl=N||bn(),ci=Math.max(0,b8.startTime+b8.duration-cl),cg=ci/b8.duration||0,ck=1-cg,ch=0,cj=b8.tweens.length;for(;ch<cj;ch++){b8.tweens[ch].run(ck)}cd.notifyWith(b7,[b8,ck,ci]);if(ck<1&&cj){return ci}else{cd.resolveWith(b7,[b8]);return false}},b8=cd.promise({elem:b7,props:bI.extend({},cb),opts:bI.extend(true,{specialEasing:{}},ce),originalProperties:cb,originalOptions:ce,startTime:N||bn(),duration:ce.duration,tweens:[],createTween:function(ci,cg){var ch=bI.Tween(b7,b8.opts,ci,cg,b8.opts.specialEasing[ci]||b8.opts.easing);b8.tweens.push(ch);return ch},stop:function(ch){var cg=0,ci=ch?b8.tweens.length:0;if(e){return this}e=true;for(;cg<ci;cg++){b8.tweens[cg].run(1)}if(ch){cd.resolveWith(b7,[b8,ch])}else{cd.rejectWith(b7,[b8,ch])}return this}}),cc=b8.props;ao(cc,b8.opts.specialEasing);for(;ca<b6;ca++){cf=aG[ca].call(b8,b7,cc,b8.opts);if(cf){return cf}}bI.map(cc,bd,b8);if(bI.isFunction(b8.opts.start)){b8.opts.start.call(b7,b8)}bI.fx.timer(bI.extend(b9,{elem:b7,anim:b8,queue:b8.opts.queue}));return b8.progress(b8.opts.progress).done(b8.opts.done,b8.opts.complete).fail(b8.opts.fail).always(b8.opts.always)}bI.Animation=bI.extend(f,{tweener:function(b6,b9){if(bI.isFunction(b6)){b9=b6;b6=["*"]}else{b6=b6.split(" ")}var b8,e=0,b7=b6.length;for(;e<b7;e++){b8=b6[e];a2[b8]=a2[b8]||[];a2[b8].unshift(b9)}},prefilter:function(b6,e){if(e){aG.unshift(b6)}else{aG.push(b6)}}});bI.speed=function(b7,b8,b6){var e=b7&&typeof b7==="object"?bI.extend({},b7):{complete:b6||!b6&&b8||bI.isFunction(b7)&&b7,duration:b7,easing:b6&&b8||b8&&!bI.isFunction(b8)&&b8};e.duration=bI.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bI.fx.speeds?bI.fx.speeds[e.duration]:bI.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bI.isFunction(e.old)){e.old.call(this)}if(e.queue){bI.dequeue(this,e.queue)}};return e};bI.fn.extend({fadeTo:function(e,b8,b7,b6){return this.filter(S).css("opacity",0).show().end().animate({opacity:b8},e,b7,b6)},animate:function(cb,b8,ca,b9){var b7=bI.isEmptyObject(cb),e=bI.speed(b8,ca,b9),b6=function(){var cc=f(this,bI.extend({},cb),e);if(b7||bI._data(this,"finish")){cc.stop(true)}};b6.finish=b6;return b7||e.queue===false?this.each(b6):this.queue(e.queue,b6)},stop:function(b7,b6,e){var b8=function(b9){var ca=b9.stop;delete b9.stop;ca(e)};if(typeof b7!=="string"){e=b6;b6=b7;b7=undefined}if(b6&&b7!==false){this.queue(b7||"fx",[])}return this.each(function(){var cc=true,b9=b7!=null&&b7+"queueHooks",cb=bI.timers,ca=bI._data(this);if(b9){if(ca[b9]&&ca[b9].stop){b8(ca[b9])}}else{for(b9 in ca){if(ca[b9]&&ca[b9].stop&&bP.test(b9)){b8(ca[b9])}}}for(b9=cb.length;b9--;){if(cb[b9].elem===this&&(b7==null||cb[b9].queue===b7)){cb[b9].anim.stop(e);cc=false;cb.splice(b9,1)}}if(cc||!e){bI.dequeue(this,b7)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b8,cb=bI._data(this),b7=cb[e+"queue"],b6=cb[e+"queueHooks"],ca=bI.timers,b9=b7?b7.length:0;cb.finish=true;bI.queue(this,e,[]);if(b6&&b6.stop){b6.stop.call(this,true)}for(b8=ca.length;b8--;){if(ca[b8].elem===this&&ca[b8].queue===e){ca[b8].anim.stop(true);ca.splice(b8,1)}}for(b8=0;b8<b9;b8++){if(b7[b8]&&b7[b8].finish){b7[b8].finish.call(this)}}delete cb.finish})}});bI.each(["toggle","show","hide"],function(b6,e){var b7=bI.fn[e];bI.fn[e]=function(b8,ca,b9){return b8==null||typeof b8==="boolean"?b7.apply(this,arguments):this.animate(bH(e,true),b8,ca,b9)}});bI.each({slideDown:bH("show"),slideUp:bH("hide"),slideToggle:bH("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b6){bI.fn[e]=function(b7,b9,b8){return this.animate(b6,b7,b9,b8)}});bI.timers=[];bI.fx.tick=function(){var b7,b6=bI.timers,e=0;N=bI.now();for(;e<b6.length;e++){b7=b6[e];if(!b7()&&b6[e]===b7){b6.splice(e--,1)}}if(!b6.length){bI.fx.stop()}N=undefined};bI.fx.timer=function(e){bI.timers.push(e);if(e()){bI.fx.start()}else{bI.timers.pop()}};bI.fx.interval=13;bI.fx.start=function(){if(!ae){ae=setInterval(bI.fx.tick,bI.fx.interval)}};bI.fx.stop=function(){clearInterval(ae);ae=null};bI.fx.speeds={slow:600,fast:200,_default:400};bI.fn.delay=function(b6,e){b6=bI.fx?bI.fx.speeds[b6]||b6:b6;e=e||"fx";return this.queue(e,function(b8,b7){var b9=setTimeout(b8,b6);b7.stop=function(){clearTimeout(b9)}})};(function(){var b7,b9,e,b6,b8;b9=n.createElement("div");b9.setAttribute("className","t");b9.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b6=b9.getElementsByTagName("a")[0];e=n.createElement("select");b8=e.appendChild(n.createElement("option"));b7=b9.getElementsByTagName("input")[0];b6.style.cssText="top:1px";D.getSetAttribute=b9.className!=="t";D.style=/top/.test(b6.getAttribute("style"));D.hrefNormalized=b6.getAttribute("href")==="/a";D.checkOn=!!b7.value;D.optSelected=b8.selected;D.enctype=!!n.createElement("form").enctype;e.disabled=true;D.optDisabled=!b8.disabled;b7=n.createElement("input");b7.setAttribute("value","");D.input=b7.getAttribute("value")==="";b7.value="t";b7.setAttribute("type","radio");D.radioValue=b7.value==="t"})();var al=/\r/g;bI.fn.extend({val:function(b8){var e,b6,b9,b7=this[0];if(!arguments.length){if(b7){e=bI.valHooks[b7.type]||bI.valHooks[b7.nodeName.toLowerCase()];if(e&&"get" in e&&(b6=e.get(b7,"value"))!==undefined){return b6}b6=b7.value;return typeof b6==="string"?b6.replace(al,""):b6==null?"":b6}return}b9=bI.isFunction(b8);return this.each(function(ca){var cb;if(this.nodeType!==1){return}if(b9){cb=b8.call(this,ca,bI(this).val())}else{cb=b8}if(cb==null){cb=""}else{if(typeof cb==="number"){cb+=""}else{if(bI.isArray(cb)){cb=bI.map(cb,function(cc){return cc==null?"":cc+""})}}}e=bI.valHooks[this.type]||bI.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,cb,"value")===undefined){this.value=cb}})}});bI.extend({valHooks:{option:{get:function(e){var b6=bI.find.attr(e,"value");return b6!=null?b6:bI.trim(bI.text(e))}},select:{get:function(e){var cb,b7,cd=e.options,b9=e.selectedIndex,b8=e.type==="select-one"||b9<0,cc=b8?null:[],ca=b8?b9+1:cd.length,b6=b9<0?ca:b8?b9:0;for(;b6<ca;b6++){b7=cd[b6];if((b7.selected||b6===b9)&&(D.optDisabled?!b7.disabled:b7.getAttribute("disabled")===null)&&(!b7.parentNode.disabled||!bI.nodeName(b7.parentNode,"optgroup"))){cb=bI(b7).val();if(b8){return cb}cc.push(cb)}}return cc},set:function(ca,cb){var cc,b9,b7=ca.options,e=bI.makeArray(cb),b8=b7.length;while(b8--){b9=b7[b8];if(bI.inArray(bI.valHooks.option.get(b9),e)>=0){try{b9.selected=cc=true}catch(b6){b9.scrollHeight}}else{b9.selected=false}}if(!cc){ca.selectedIndex=-1}return b7}}}});bI.each(["radio","checkbox"],function(){bI.valHooks[this]={set:function(e,b6){if(bI.isArray(b6)){return(e.checked=bI.inArray(bI(e).val(),b6)>=0)}}};if(!D.checkOn){bI.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var ba,b3,bO=bI.expr.attrHandle,aq=/^(?:checked|selected)$/i,bN=D.getSetAttribute,bF=D.input;bI.fn.extend({attr:function(e,b6){return aB(this,bI.attr,e,b6,arguments.length>1)},removeAttr:function(e){return this.each(function(){bI.removeAttr(this,e)})}});bI.extend({attr:function(b9,b8,ca){var e,b7,b6=b9.nodeType;if(!b9||b6===3||b6===8||b6===2){return}if(typeof b9.getAttribute===aC){return bI.prop(b9,b8,ca)}if(b6!==1||!bI.isXMLDoc(b9)){b8=b8.toLowerCase();e=bI.attrHooks[b8]||(bI.expr.match.bool.test(b8)?b3:ba)}if(ca!==undefined){if(ca===null){bI.removeAttr(b9,b8)}else{if(e&&"set" in e&&(b7=e.set(b9,ca,b8))!==undefined){return b7}else{b9.setAttribute(b8,ca+"");return ca}}}else{if(e&&"get" in e&&(b7=e.get(b9,b8))!==null){return b7}else{b7=bI.find.attr(b9,b8);return b7==null?undefined:b7}}},removeAttr:function(b7,b9){var e,b8,b6=0,ca=b9&&b9.match(aF);if(ca&&b7.nodeType===1){while((e=ca[b6++])){b8=bI.propFix[e]||e;if(bI.expr.match.bool.test(e)){if(bF&&bN||!aq.test(e)){b7[b8]=false}else{b7[bI.camelCase("default-"+e)]=b7[b8]=false}}else{bI.attr(b7,e,"")}b7.removeAttribute(bN?e:b8)}}},attrHooks:{type:{set:function(e,b6){if(!D.radioValue&&b6==="radio"&&bI.nodeName(e,"input")){var b7=e.value;e.setAttribute("type",b6);if(b7){e.value=b7}return b6}}}}});b3={set:function(b6,b7,e){if(b7===false){bI.removeAttr(b6,e)}else{if(bF&&bN||!aq.test(e)){b6.setAttribute(!bN&&bI.propFix[e]||e,e)}else{b6[bI.camelCase("default-"+e)]=b6[e]=true}}return e}};bI.each(bI.expr.match.bool.source.match(/\w+/g),function(b7,b6){var e=bO[b6]||bI.find.attr;bO[b6]=bF&&bN||!aq.test(b6)?function(ca,b9,cc){var b8,cb;if(!cc){cb=bO[b9];bO[b9]=b8;b8=e(ca,b9,cc)!=null?b9.toLowerCase():null;bO[b9]=cb}return b8}:function(b9,b8,ca){if(!ca){return b9[bI.camelCase("default-"+b8)]?b8.toLowerCase():null}}});if(!bF||!bN){bI.attrHooks.value={set:function(b6,b7,e){if(bI.nodeName(b6,"input")){b6.defaultValue=b7}else{return ba&&ba.set(b6,b7,e)}}}}if(!bN){ba={set:function(b7,b8,b6){var e=b7.getAttributeNode(b6);if(!e){b7.setAttributeNode((e=b7.ownerDocument.createAttribute(b6)))}e.value=b8+="";if(b6==="value"||b8===b7.getAttribute(b6)){return b8}}};bO.id=bO.name=bO.coords=function(b7,b6,b8){var e;if(!b8){return(e=b7.getAttributeNode(b6))&&e.value!==""?e.value:null}};bI.valHooks.button={get:function(b7,b6){var e=b7.getAttributeNode(b6);if(e&&e.specified){return e.value}},set:ba.set};bI.attrHooks.contenteditable={set:function(b6,b7,e){ba.set(b6,b7===""?false:b7,e)}};bI.each(["width","height"],function(b6,e){bI.attrHooks[e]={set:function(b7,b8){if(b8===""){b7.setAttribute(e,"auto");return b8}}}})}if(!D.style){bI.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,b6){return(e.style.cssText=b6+"")}}}var aJ=/^(?:input|select|textarea|button|object)$/i,F=/^(?:a|area)$/i;bI.fn.extend({prop:function(e,b6){return aB(this,bI.prop,e,b6,arguments.length>1)},removeProp:function(e){e=bI.propFix[e]||e;return this.each(function(){try{this[e]=undefined;delete this[e]}catch(b6){}})}});bI.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(ca,b8,cb){var b7,e,b9,b6=ca.nodeType;if(!ca||b6===3||b6===8||b6===2){return}b9=b6!==1||!bI.isXMLDoc(ca);if(b9){b8=bI.propFix[b8]||b8;e=bI.propHooks[b8]}if(cb!==undefined){return e&&"set" in e&&(b7=e.set(ca,cb,b8))!==undefined?b7:(ca[b8]=cb)}else{return e&&"get" in e&&(b7=e.get(ca,b8))!==null?b7:ca[b8]}},propHooks:{tabIndex:{get:function(b6){var e=bI.find.attr(b6,"tabindex");return e?parseInt(e,10):aJ.test(b6.nodeName)||F.test(b6.nodeName)&&b6.href?0:-1}}}});if(!D.hrefNormalized){bI.each(["href","src"],function(b6,e){bI.propHooks[e]={get:function(b7){return b7.getAttribute(e,4)}}})}if(!D.optSelected){bI.propHooks.selected={get:function(b6){var e=b6.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}}}bI.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bI.propFix[this.toLowerCase()]=this});if(!D.enctype){bI.propFix.enctype="encoding"}var bL=/[\t\r\n\f]/g;bI.fn.extend({addClass:function(cd){var b7,b6,ce,cb,b8,e,b9=0,ca=this.length,cc=typeof cd==="string"&&cd;if(bI.isFunction(cd)){return this.each(function(cf){bI(this).addClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(aF)||[];for(;b9<ca;b9++){b6=this[b9];ce=b6.nodeType===1&&(b6.className?(" "+b6.className+" ").replace(bL," "):" ");if(ce){b8=0;while((cb=b7[b8++])){if(ce.indexOf(" "+cb+" ")<0){ce+=cb+" "}}e=bI.trim(ce);if(b6.className!==e){b6.className=e}}}}return this},removeClass:function(cd){var b7,b6,ce,cb,b8,e,b9=0,ca=this.length,cc=arguments.length===0||typeof cd==="string"&&cd;if(bI.isFunction(cd)){return this.each(function(cf){bI(this).removeClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(aF)||[];for(;b9<ca;b9++){b6=this[b9];ce=b6.nodeType===1&&(b6.className?(" "+b6.className+" ").replace(bL," "):"");if(ce){b8=0;while((cb=b7[b8++])){while(ce.indexOf(" "+cb+" ")>=0){ce=ce.replace(" "+cb+" "," ")}}e=cd?bI.trim(ce):"";if(b6.className!==e){b6.className=e}}}}return this},toggleClass:function(b7,e){var b6=typeof b7;if(typeof e==="boolean"&&b6==="string"){return e?this.addClass(b7):this.removeClass(b7)}if(bI.isFunction(b7)){return this.each(function(b8){bI(this).toggleClass(b7.call(this,b8,this.className,e),e)})}return this.each(function(){if(b6==="string"){var ca,b9=0,b8=bI(this),cb=b7.match(aF)||[];while((ca=cb[b9++])){if(b8.hasClass(ca)){b8.removeClass(ca)}else{b8.addClass(ca)}}}else{if(b6===aC||b6==="boolean"){if(this.className){bI._data(this,"__className__",this.className)}this.className=this.className||b7===false?"":bI._data(this,"__className__")||""}}})},hasClass:function(e){var b8=" "+e+" ",b7=0,b6=this.length;for(;b7<b6;b7++){if(this[b7].nodeType===1&&(" "+this[b7].className+" ").replace(bL," ").indexOf(b8)>=0){return true}}return false}});bI.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b6,e){bI.fn[e]=function(b8,b7){return arguments.length>0?this.on(e,null,b8,b7):this.trigger(e)}});bI.fn.extend({hover:function(e,b6){return this.mouseenter(e).mouseleave(b6||e)},bind:function(e,b7,b6){return this.on(e,null,b7,b6)},unbind:function(e,b6){return this.off(e,null,b6)},delegate:function(e,b6,b8,b7){return this.on(b6,e,b8,b7)},undelegate:function(e,b6,b7){return arguments.length===1?this.off(e,"**"):this.off(b6,e||"**",b7)}});var bp=bI.now();var bQ=(/\?/);var a1=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;bI.parseJSON=function(e){if(a5.JSON&&a5.JSON.parse){return a5.JSON.parse(e+"")}var b8,b7=null,b6=bI.trim(e+"");return b6&&!bI.trim(b6.replace(a1,function(cb,b9,ca,cc){if(b8&&b9){b7=0}if(b7===0){return cb}b8=ca||b9;b7+=!cc-!ca;return""}))?(Function("return "+b6))():bI.error("Invalid JSON: "+e)};bI.parseXML=function(b8){var b6,b7;if(!b8||typeof b8!=="string"){return null}try{if(a5.DOMParser){b7=new DOMParser();b6=b7.parseFromString(b8,"text/xml")}else{b6=new ActiveXObject("Microsoft.XMLDOM");b6.async="false";b6.loadXML(b8)}}catch(b9){b6=undefined}if(!b6||!b6.documentElement||b6.getElementsByTagName("parsererror").length){bI.error("Invalid XML: "+b8)}return b6};var b4,aa,ap=/#.*$/,R=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q=/^(?:GET|HEAD)$/,aK=/^\/\//,aV=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,w={},a9={},aX="*/".concat("*");try{aa=location.href}catch(bi){aa=n.createElement("a");aa.href="";aa=aa.href}b4=aV.exec(aa.toLowerCase())||[];function bK(e){return function(b9,ca){if(typeof b9!=="string"){ca=b9;b9="*"}var b6,b7=0,b8=b9.toLowerCase().match(aF)||[];if(bI.isFunction(ca)){while((b6=b8[b7++])){if(b6.charAt(0)==="+"){b6=b6.slice(1)||"*";(e[b6]=e[b6]||[]).unshift(ca)}else{(e[b6]=e[b6]||[]).push(ca)}}}}}function p(e,b7,cb,b8){var b6={},b9=(e===a9);function ca(cc){var cd;b6[cc]=true;bI.each(e[cc]||[],function(cf,ce){var cg=ce(b7,cb,b8);if(typeof cg==="string"&&!b9&&!b6[cg]){b7.dataTypes.unshift(cg);ca(cg);return false}else{if(b9){return !(cd=cg)}}});return cd}return ca(b7.dataTypes[0])||!b6["*"]&&ca("*")}function t(b7,b8){var e,b6,b9=bI.ajaxSettings.flatOptions||{};for(b6 in b8){if(b8[b6]!==undefined){(b9[b6]?b7:(e||(e={})))[b6]=b8[b6]}}if(e){bI.extend(true,b7,e)}return b7}function g(cd,cc,b9){var e,b8,b7,ca,b6=cd.contents,cb=cd.dataTypes;while(cb[0]==="*"){cb.shift();if(b8===undefined){b8=cd.mimeType||cc.getResponseHeader("Content-Type")}}if(b8){for(ca in b6){if(b6[ca]&&b6[ca].test(b8)){cb.unshift(ca);break}}}if(cb[0] in b9){b7=cb[0]}else{for(ca in b9){if(!cb[0]||cd.converters[ca+" "+cb[0]]){b7=ca;break}if(!e){e=ca}}b7=b7||e}if(b7){if(b7!==cb[0]){cb.unshift(b7)}return b9[b7]}}function ag(ch,b9,ce,b7){var b6,cc,cf,ca,b8,cg={},cd=ch.dataTypes.slice();if(cd[1]){for(cf in ch.converters){cg[cf.toLowerCase()]=ch.converters[cf]}}cc=cd.shift();while(cc){if(ch.responseFields[cc]){ce[ch.responseFields[cc]]=b9}if(!b8&&b7&&ch.dataFilter){b9=ch.dataFilter(b9,ch.dataType)}b8=cc;cc=cd.shift();if(cc){if(cc==="*"){cc=b8}else{if(b8!=="*"&&b8!==cc){cf=cg[b8+" "+cc]||cg["* "+cc];if(!cf){for(b6 in cg){ca=b6.split(" ");if(ca[1]===cc){cf=cg[b8+" "+ca[0]]||cg["* "+ca[0]];if(cf){if(cf===true){cf=cg[b6]}else{if(cg[b6]!==true){cc=ca[0];cd.unshift(ca[1])}}break}}}}if(cf!==true){if(cf&&ch["throws"]){b9=cf(b9)}else{try{b9=cf(b9)}catch(cb){return{state:"parsererror",error:cf?cb:"No conversion from "+b8+" to "+cc}}}}}}}}return{state:"success",data:b9}}bI.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:aa,type:"GET",isLocal:C.test(b4[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aX,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bI.parseJSON,"text xml":bI.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b6,e){return e?t(t(b6,bI.ajaxSettings),e):t(bI.ajaxSettings,b6)},ajaxPrefilter:bK(w),ajaxTransport:bK(a9),ajax:function(ca,b7){if(typeof ca==="object"){b7=ca;ca=undefined}b7=b7||{};var cj,cl,cb,cq,cf,b6,cm,b8,ce=bI.ajaxSetup({},b7),cs=ce.context||ce,ch=ce.context&&(cs.nodeType||cs.jquery)?bI(cs):bI.event,cr=bI.Deferred(),co=bI.Callbacks("once memory"),cc=ce.statusCode||{},ci={},cp={},b9=0,cd="canceled",ck={readyState:0,getResponseHeader:function(ct){var e;if(b9===2){if(!b8){b8={};while((e=ah.exec(cq))){b8[e[1].toLowerCase()]=e[2]}}e=b8[ct.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b9===2?cq:null},setRequestHeader:function(ct,cu){var e=ct.toLowerCase();if(!b9){ct=cp[e]=cp[e]||ct;ci[ct]=cu}return this},overrideMimeType:function(e){if(!b9){ce.mimeType=e}return this},statusCode:function(ct){var e;if(ct){if(b9<2){for(e in ct){cc[e]=[cc[e],ct[e]]}}else{ck.always(ct[ck.status])}}return this},abort:function(ct){var e=ct||cd;if(cm){cm.abort(e)}cg(0,e);return this}};cr.promise(ck).complete=co.add;ck.success=ck.done;ck.error=ck.fail;ce.url=((ca||ce.url||aa)+"").replace(ap,"").replace(aK,b4[1]+"//");ce.type=b7.method||b7.type||ce.method||ce.type;ce.dataTypes=bI.trim(ce.dataType||"*").toLowerCase().match(aF)||[""];if(ce.crossDomain==null){cj=aV.exec(ce.url.toLowerCase());ce.crossDomain=!!(cj&&(cj[1]!==b4[1]||cj[2]!==b4[2]||(cj[3]||(cj[1]==="http:"?"80":"443"))!==(b4[3]||(b4[1]==="http:"?"80":"443"))))}if(ce.data&&ce.processData&&typeof ce.data!=="string"){ce.data=bI.param(ce.data,ce.traditional)}p(w,ce,b7,ck);if(b9===2){return ck}b6=bI.event&&ce.global;if(b6&&bI.active++===0){bI.event.trigger("ajaxStart")}ce.type=ce.type.toUpperCase();ce.hasContent=!q.test(ce.type);cb=ce.url;if(!ce.hasContent){if(ce.data){cb=(ce.url+=(bQ.test(cb)?"&":"?")+ce.data);delete ce.data}if(ce.cache===false){ce.url=R.test(cb)?cb.replace(R,"$1_="+bp++):cb+(bQ.test(cb)?"&":"?")+"_="+bp++}}if(ce.ifModified){if(bI.lastModified[cb]){ck.setRequestHeader("If-Modified-Since",bI.lastModified[cb])}if(bI.etag[cb]){ck.setRequestHeader("If-None-Match",bI.etag[cb])}}if(ce.data&&ce.hasContent&&ce.contentType!==false||b7.contentType){ck.setRequestHeader("Content-Type",ce.contentType)}ck.setRequestHeader("Accept",ce.dataTypes[0]&&ce.accepts[ce.dataTypes[0]]?ce.accepts[ce.dataTypes[0]]+(ce.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):ce.accepts["*"]);for(cl in ce.headers){ck.setRequestHeader(cl,ce.headers[cl])}if(ce.beforeSend&&(ce.beforeSend.call(cs,ck,ce)===false||b9===2)){return ck.abort()}cd="abort";for(cl in {success:1,error:1,complete:1}){ck[cl](ce[cl])}cm=p(a9,ce,b7,ck);if(!cm){cg(-1,"No Transport")}else{ck.readyState=1;if(b6){ch.trigger("ajaxSend",[ck,ce])}if(ce.async&&ce.timeout>0){cf=setTimeout(function(){ck.abort("timeout")},ce.timeout)}try{b9=1;cm.send(ci,cg)}catch(cn){if(b9<2){cg(-1,cn)}else{throw cn}}}function cg(cx,ct,cy,cv){var e,cB,cz,cw,cA,cu=ct;if(b9===2){return}b9=2;if(cf){clearTimeout(cf)}cm=undefined;cq=cv||"";ck.readyState=cx>0?4:0;e=cx>=200&&cx<300||cx===304;if(cy){cw=g(ce,ck,cy)}cw=ag(ce,cw,ck,e);if(e){if(ce.ifModified){cA=ck.getResponseHeader("Last-Modified");if(cA){bI.lastModified[cb]=cA}cA=ck.getResponseHeader("etag");if(cA){bI.etag[cb]=cA}}if(cx===204||ce.type==="HEAD"){cu="nocontent"}else{if(cx===304){cu="notmodified"}else{cu=cw.state;cB=cw.data;cz=cw.error;e=!cz}}}else{cz=cu;if(cx||!cu){cu="error";if(cx<0){cx=0}}}ck.status=cx;ck.statusText=(ct||cu)+"";if(e){cr.resolveWith(cs,[cB,cu,ck])}else{cr.rejectWith(cs,[ck,cu,cz])}ck.statusCode(cc);cc=undefined;if(b6){ch.trigger(e?"ajaxSuccess":"ajaxError",[ck,ce,e?cB:cz])}co.fireWith(cs,[ck,cu]);if(b6){ch.trigger("ajaxComplete",[ck,ce]);if(!(--bI.active)){bI.event.trigger("ajaxStop")}}}return ck},getJSON:function(e,b6,b7){return bI.get(e,b6,b7,"json")},getScript:function(e,b6){return bI.get(e,undefined,b6,"script")}});bI.each(["get","post"],function(e,b6){bI[b6]=function(b7,b9,ca,b8){if(bI.isFunction(b9)){b8=b8||ca;ca=b9;b9=undefined}return bI.ajax({url:b7,type:b6,dataType:b8,data:b9,success:ca})}});bI._evalUrl=function(e){return bI.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})};bI.fn.extend({wrapAll:function(e){if(bI.isFunction(e)){return this.each(function(b7){bI(this).wrapAll(e.call(this,b7))})}if(this[0]){var b6=bI(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b6.insertBefore(this[0])}b6.map(function(){var b7=this;while(b7.firstChild&&b7.firstChild.nodeType===1){b7=b7.firstChild}return b7}).append(this)}return this},wrapInner:function(e){if(bI.isFunction(e)){return this.each(function(b6){bI(this).wrapInner(e.call(this,b6))})}return this.each(function(){var b6=bI(this),b7=b6.contents();if(b7.length){b7.wrapAll(e)}else{b6.append(e)}})},wrap:function(e){var b6=bI.isFunction(e);return this.each(function(b7){bI(this).wrapAll(b6?e.call(this,b7):e)})},unwrap:function(){return this.parent().each(function(){if(!bI.nodeName(this,"body")){bI(this).replaceWith(this.childNodes)}}).end()}});bI.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!D.reliableHiddenOffsets()&&((e.style&&e.style.display)||bI.css(e,"display"))==="none")};bI.expr.filters.visible=function(e){return !bI.expr.filters.hidden(e)};var bw=/%20/g,aS=/\[\]$/,X=/\r?\n/g,b=/^(?:submit|button|image|reset|file)$/i,au=/^(?:input|select|textarea|keygen)/i;function j(b7,b9,b6,b8){var e;if(bI.isArray(b9)){bI.each(b9,function(cb,ca){if(b6||aS.test(b7)){b8(b7,ca)}else{j(b7+"["+(typeof ca==="object"?cb:"")+"]",ca,b6,b8)}})}else{if(!b6&&bI.type(b9)==="object"){for(e in b9){j(b7+"["+e+"]",b9[e],b6,b8)}}else{b8(b7,b9)}}}bI.param=function(e,b7){var b8,b6=[],b9=function(ca,cb){cb=bI.isFunction(cb)?cb():(cb==null?"":cb);b6[b6.length]=encodeURIComponent(ca)+"="+encodeURIComponent(cb)};if(b7===undefined){b7=bI.ajaxSettings&&bI.ajaxSettings.traditional}if(bI.isArray(e)||(e.jquery&&!bI.isPlainObject(e))){bI.each(e,function(){b9(this.name,this.value)})}else{for(b8 in e){j(b8,e[b8],b7,b9)}}return b6.join("&").replace(bw,"+")};bI.fn.extend({serialize:function(){return bI.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bI.prop(this,"elements");return e?bI.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bI(this).is(":disabled")&&au.test(this.nodeName)&&!b.test(e)&&(this.checked||!aM.test(e))}).map(function(e,b6){var b7=bI(this).val();return b7==null?null:bI.isArray(b7)?bI.map(b7,function(b8){return{name:b6.name,value:b8.replace(X,"\r\n")}}):{name:b6.name,value:b7.replace(X,"\r\n")}}).get()}});bI.ajaxSettings.xhr=a5.ActiveXObject!==undefined?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&bE()||bg()}:bE;var aA=0,aj={},ay=bI.ajaxSettings.xhr();if(a5.attachEvent){a5.attachEvent("onunload",function(){for(var e in aj){aj[e](undefined,true)}})}D.cors=!!ay&&("withCredentials" in ay);ay=D.ajax=!!ay;if(ay){bI.ajaxTransport(function(e){if(!e.crossDomain||D.cors){var b6;return{send:function(ca,b7){var b8,b9=e.xhr(),cb=++aA;b9.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields){for(b8 in e.xhrFields){b9[b8]=e.xhrFields[b8]}}if(e.mimeType&&b9.overrideMimeType){b9.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ca["X-Requested-With"]){ca["X-Requested-With"]="XMLHttpRequest"}for(b8 in ca){if(ca[b8]!==undefined){b9.setRequestHeader(b8,ca[b8]+"")}}b9.send((e.hasContent&&e.data)||null);b6=function(ce,cd){var cc,ch,cf;if(b6&&(cd||b9.readyState===4)){delete aj[cb];b6=undefined;b9.onreadystatechange=bI.noop;if(cd){if(b9.readyState!==4){b9.abort()}}else{cf={};cc=b9.status;if(typeof b9.responseText==="string"){cf.text=b9.responseText}try{ch=b9.statusText}catch(cg){ch=""}if(!cc&&e.isLocal&&!e.crossDomain){cc=cf.text?200:404}else{if(cc===1223){cc=204}}}}if(cf){b7(cc,ch,cf,b9.getAllResponseHeaders())}};if(!e.async){b6()}else{if(b9.readyState===4){setTimeout(b6)}else{b9.onreadystatechange=aj[cb]=b6}}},abort:function(){if(b6){b6(undefined,true)}}}}})}function bE(){try{return new a5.XMLHttpRequest()}catch(b6){}}function bg(){try{return new a5.ActiveXObject("Microsoft.XMLHTTP")}catch(b6){}}bI.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bI.globalEval(e);return e}}});bI.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bI.ajaxTransport("script",function(b7){if(b7.crossDomain){var e,b6=n.head||bI("head")[0]||n.documentElement;return{send:function(b8,b9){e=n.createElement("script");e.async=true;if(b7.scriptCharset){e.charset=b7.scriptCharset}e.src=b7.url;e.onload=e.onreadystatechange=function(cb,ca){if(ca||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!ca){b9(200,"success")}}};b6.insertBefore(e,b6.firstChild)},abort:function(){if(e){e.onload(undefined,true)}}}}});var bs=[],a8=/(=)\?(?=&|$)|\?\?/;bI.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bs.pop()||(bI.expando+"_"+(bp++));this[e]=true;return e}});bI.ajaxPrefilter("json jsonp",function(b8,e,b9){var cb,b6,b7,ca=b8.jsonp!==false&&(a8.test(b8.url)?"url":typeof b8.data==="string"&&!(b8.contentType||"").indexOf("application/x-www-form-urlencoded")&&a8.test(b8.data)&&"data");if(ca||b8.dataTypes[0]==="jsonp"){cb=b8.jsonpCallback=bI.isFunction(b8.jsonpCallback)?b8.jsonpCallback():b8.jsonpCallback;if(ca){b8[ca]=b8[ca].replace(a8,"$1"+cb)}else{if(b8.jsonp!==false){b8.url+=(bQ.test(b8.url)?"&":"?")+b8.jsonp+"="+cb}}b8.converters["script json"]=function(){if(!b7){bI.error(cb+" was not called")}return b7[0]};b8.dataTypes[0]="json";b6=a5[cb];a5[cb]=function(){b7=arguments};b9.always(function(){a5[cb]=b6;if(b8[cb]){b8.jsonpCallback=e.jsonpCallback;bs.push(cb)}if(b7&&bI.isFunction(b6)){b6(b7[0])}b7=b6=undefined});return"script"}});bI.parseHTML=function(b9,b7,b8){if(!b9||typeof b9!=="string"){return null}if(typeof b7==="boolean"){b8=b7;b7=false}b7=b7||n;var b6=a.exec(b9),e=!b8&&[];if(b6){return[b7.createElement(b6[1])]}b6=bI.buildFragment([b9],b7,e);if(e&&e.length){bI(e).remove()}return bI.merge([],b6.childNodes)};var b1=bI.fn.load;bI.fn.load=function(b8,cb,cc){if(typeof b8!=="string"&&b1){return b1.apply(this,arguments)}var e,b7,b9,b6=this,ca=b8.indexOf(" ");if(ca>=0){e=bI.trim(b8.slice(ca,b8.length));b8=b8.slice(0,ca)}if(bI.isFunction(cb)){cc=cb;cb=undefined}else{if(cb&&typeof cb==="object"){b9="POST"}}if(b6.length>0){bI.ajax({url:b8,type:b9,dataType:"html",data:cb}).done(function(cd){b7=arguments;b6.html(e?bI("<div>").append(bI.parseHTML(cd)).find(e):cd)}).complete(cc&&function(ce,cd){b6.each(cc,b7||[ce.responseText,cd,ce])})}return this};bI.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b6){bI.fn[b6]=function(b7){return this.on(b6,b7)}});bI.expr.filters.animated=function(e){return bI.grep(bI.timers,function(b6){return e===b6.elem}).length};var bX=a5.document.documentElement;function br(e){return bI.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bI.offset={setOffset:function(b7,ch,cb){var cd,ca,e,b8,b6,cf,cg,cc=bI.css(b7,"position"),b9=bI(b7),ce={};if(cc==="static"){b7.style.position="relative"}b6=b9.offset();e=bI.css(b7,"top");cf=bI.css(b7,"left");cg=(cc==="absolute"||cc==="fixed")&&bI.inArray("auto",[e,cf])>-1;if(cg){cd=b9.position();b8=cd.top;ca=cd.left}else{b8=parseFloat(e)||0;ca=parseFloat(cf)||0}if(bI.isFunction(ch)){ch=ch.call(b7,cb,b6)}if(ch.top!=null){ce.top=(ch.top-b6.top)+b8}if(ch.left!=null){ce.left=(ch.left-b6.left)+ca}if("using" in ch){ch.using.call(b7,ce)}else{b9.css(ce)}}};bI.fn.extend({offset:function(b6){if(arguments.length){return b6===undefined?this:this.each(function(cb){bI.offset.setOffset(this,b6,cb)})}var e,ca,b8={top:0,left:0},b7=this[0],b9=b7&&b7.ownerDocument;if(!b9){return}e=b9.documentElement;if(!bI.contains(e,b7)){return b8}if(typeof b7.getBoundingClientRect!==aC){b8=b7.getBoundingClientRect()}ca=br(b9);return{top:b8.top+(ca.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b8.left+(ca.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},position:function(){if(!this[0]){return}var b7,b8,e={top:0,left:0},b6=this[0];if(bI.css(b6,"position")==="fixed"){b8=b6.getBoundingClientRect()}else{b7=this.offsetParent();b8=this.offset();if(!bI.nodeName(b7[0],"html")){e=b7.offset()}e.top+=bI.css(b7[0],"borderTopWidth",true);e.left+=bI.css(b7[0],"borderLeftWidth",true)}return{top:b8.top-e.top-bI.css(b6,"marginTop",true),left:b8.left-e.left-bI.css(b6,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||bX;while(e&&(!bI.nodeName(e,"html")&&bI.css(e,"position")==="static")){e=e.offsetParent}return e||bX})}});bI.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b7,b6){var e=/Y/.test(b6);bI.fn[b7]=function(b8){return aB(this,function(b9,cc,cb){var ca=br(b9);if(cb===undefined){return ca?(b6 in ca)?ca[b6]:ca.document.documentElement[cc]:b9[cc]}if(ca){ca.scrollTo(!e?cb:bI(ca).scrollLeft(),e?cb:bI(ca).scrollTop())}else{b9[cc]=cb}},b7,b8,arguments.length,null)}});bI.each(["top","left"],function(e,b6){bI.cssHooks[b6]=a7(D.pixelPosition,function(b8,b7){if(b7){b7=G(b8,b6);return Y.test(b7)?bI(b8).position()[b6]+"px":b7}})});bI.each({Height:"height",Width:"width"},function(e,b6){bI.each({padding:"inner"+e,content:b6,"":"outer"+e},function(b7,b8){bI.fn[b8]=function(cc,cb){var ca=arguments.length&&(b7||typeof cc!=="boolean"),b9=b7||(cc===true||cb===true?"margin":"border");return aB(this,function(ce,cd,cf){var cg;if(bI.isWindow(ce)){return ce.document.documentElement["client"+e]}if(ce.nodeType===9){cg=ce.documentElement;return Math.max(ce.body["scroll"+e],cg["scroll"+e],ce.body["offset"+e],cg["offset"+e],cg["client"+e])}return cf===undefined?bI.css(ce,cd,b9):bI.style(ce,cd,cf,b9)},b6,ca?cc:undefined,ca,null)}})});bI.fn.size=function(){return this.length};bI.fn.andSelf=bI.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bI})}var bk=a5.jQuery,I=a5.$;bI.noConflict=function(e){if(a5.$===bI){a5.$=I}if(e&&a5.jQuery===bI){a5.jQuery=bk}return bI};if(typeof av===aC){a5.jQuery=a5.$=bI}return bI}));
/*
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
(function(u,q,j){var F={};u.migrateWarnings=[];if(!u.migrateMute&&q.console&&q.console.log){q.console.log("JQMIGRATE: Logging is active")}if(u.migrateTrace===j){u.migrateTrace=true}u.migrateReset=function(){F={};u.migrateWarnings.length=0};function h(J){var I=q.console;if(!F[J]){F[J]=true;u.migrateWarnings.push(J);if(I&&I.warn&&!u.migrateMute){I.warn("JQMIGRATE: "+J);if(u.migrateTrace&&I.trace){I.trace()}}}}function a(K,M,J,L){if(Object.defineProperty){try{Object.defineProperty(K,M,{configurable:true,enumerable:true,get:function(){h(L);return J},set:function(N){h(L);J=N}});return}catch(I){}}u._definePropertyBroken=true;K[M]=J}if(document.compatMode==="BackCompat"){h("jQuery is not compatible with Quirks Mode")}var f=u("<input/>",{size:1}).attr("size")&&u.attrFn,z=u.attr,y=u.attrHooks.value&&u.attrHooks.value.get||function(){return null},k=u.attrHooks.value&&u.attrHooks.value.set||function(){return j},v=/^(?:input|button)$/i,A=/^[238]$/,D=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,l=/^(?:checked|selected)$/i;a(u,"attrFn",f||{},"jQuery.attrFn is deprecated");u.attr=function(M,K,N,L){var J=K.toLowerCase(),I=M&&M.nodeType;if(L){if(z.length<4){h("jQuery.fn.attr( props, pass ) is deprecated")}if(M&&!A.test(I)&&(f?K in f:u.isFunction(u.fn[K]))){return u(M)[K](N)}}if(K==="type"&&N!==j&&v.test(M.nodeName)&&M.parentNode){h("Can't change the 'type' of an input or button in IE 6/7/8")}if(!u.attrHooks[J]&&D.test(J)){u.attrHooks[J]={get:function(P,O){var R,Q=u.prop(P,O);return Q===true||typeof Q!=="boolean"&&(R=P.getAttributeNode(O))&&R.nodeValue!==false?O.toLowerCase():j},set:function(P,R,O){var Q;if(R===false){u.removeAttr(P,O)}else{Q=u.propFix[O]||O;if(Q in P){P[Q]=true}P.setAttribute(O,O.toLowerCase())}return O}};if(l.test(J)){h("jQuery.fn.attr('"+J+"') may use property instead of attribute")}}return z.call(u,M,K,N)};u.attrHooks.value={get:function(J,I){var K=(J.nodeName||"").toLowerCase();if(K==="button"){return y.apply(this,arguments)}if(K!=="input"&&K!=="option"){h("jQuery.fn.attr('value') no longer gets properties")}return I in J?J.value:null},set:function(I,J){var K=(I.nodeName||"").toLowerCase();if(K==="button"){return k.apply(this,arguments)}if(K!=="input"&&K!=="option"){h("jQuery.fn.attr('value', val) no longer sets properties")}I.value=J}};var s,G,B=u.fn.init,C=u.parseJSON,x=/^([^<]*)(<[\w\W]+>)([^>]*)$/;u.fn.init=function(I,L,K){var J;if(I&&typeof I==="string"&&!u.isPlainObject(L)&&(J=x.exec(u.trim(I)))&&J[0]){if(I.charAt(0)!=="<"){h("$(html) HTML strings must start with '<' character")}if(J[3]){h("$(html) HTML text after last tag is ignored")}if(J[0].charAt(0)==="#"){h("HTML string cannot start with a '#' character");u.error("JQMIGRATE: Invalid selector string (XSS)")}if(L&&L.context){L=L.context}if(u.parseHTML){return B.call(this,u.parseHTML(J[2],L,true),L,K)}}return B.apply(this,arguments)};u.fn.init.prototype=u.fn;u.parseJSON=function(I){if(!I&&I!==null){h("jQuery.parseJSON requires a valid JSON string");return null}return C.apply(this,arguments)};u.uaMatch=function(J){J=J.toLowerCase();var I=/(chrome)[ \/]([\w.]+)/.exec(J)||/(webkit)[ \/]([\w.]+)/.exec(J)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(J)||/(msie) ([\w.]+)/.exec(J)||J.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(J)||[];return{browser:I[1]||"",version:I[2]||"0"}};if(!u.browser){s=u.uaMatch(navigator.userAgent);G={};if(s.browser){G[s.browser]=true;G.version=s.version}if(G.chrome){G.webkit=true}else{if(G.webkit){G.safari=true}}u.browser=G}a(u,"browser",u.browser,"jQuery.browser is deprecated");u.sub=function(){function I(L,M){return new I.fn.init(L,M)}u.extend(true,I,this);I.superclass=this;I.fn=I.prototype=this();I.fn.constructor=I;I.sub=this.sub;I.fn.init=function K(L,M){if(M&&M instanceof u&&!(M instanceof I)){M=I(M)}return u.fn.init.call(this,L,M,J)};I.fn.init.prototype=I.fn;var J=I(document);h("jQuery.sub() is deprecated");return I};u.ajaxSetup({converters:{"text json":u.parseJSON}});var o=u.fn.data;u.fn.data=function(K){var J,I,L=this[0];if(L&&K==="events"&&arguments.length===1){J=u.data(L,K);I=u._data(L,K);if((J===j||J===I)&&I!==j){h("Use of jQuery.fn.data('events') is deprecated");return I}}return o.apply(this,arguments)};var p=/\/(java|ecma)script/i,w=u.fn.andSelf||u.fn.addBack;u.fn.andSelf=function(){h("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");return w.apply(this,arguments)};if(!u.clean){u.clean=function(I,J,P,L){J=J||document;J=!J.nodeType&&J[0]||J;J=J.ownerDocument||J;h("jQuery.clean() is deprecated");var M,K,N,Q,O=[];u.merge(O,u.buildFragment(I,J).childNodes);if(P){N=function(R){if(!R.type||p.test(R.type)){return L?L.push(R.parentNode?R.parentNode.removeChild(R):R):P.appendChild(R)}};for(M=0;(K=O[M])!=null;M++){if(!(u.nodeName(K,"script")&&N(K))){P.appendChild(K);if(typeof K.getElementsByTagName!=="undefined"){Q=u.grep(u.merge([],K.getElementsByTagName("script")),N);O.splice.apply(O,[M+1,0].concat(Q));M+=Q.length}}}}return O}}var c=u.event.add,b=u.event.remove,g=u.event.trigger,t=u.fn.toggle,d=u.fn.live,n=u.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",e=new RegExp("\\b(?:"+E+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,m=function(I){if(typeof(I)!=="string"||u.event.special.hover){return I}if(H.test(I)){h("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'")}return I&&I.replace(H,"mouseenter$1 mouseleave$1")};if(u.event.props&&u.event.props[0]!=="attrChange"){u.event.props.unshift("attrChange","attrName","relatedNode","srcElement")}if(u.event.dispatch){a(u.event,"handle",u.event.dispatch,"jQuery.event.handle is undocumented and deprecated")}u.event.add=function(L,J,K,M,I){if(L!==document&&e.test(J)){h("AJAX events should be attached to document: "+J)}c.call(this,L,m(J||""),K,M,I)};u.event.remove=function(M,K,L,I,J){b.call(this,M,m(K)||"",L,I,J)};u.fn.error=function(){var I=Array.prototype.slice.call(arguments,0);h("jQuery.fn.error() is deprecated");I.splice(0,0,"error");if(arguments.length){return this.bind.apply(this,I)}this.triggerHandler.apply(this,I);return this};u.fn.toggle=function(M,K){if(!u.isFunction(M)||!u.isFunction(K)){return t.apply(this,arguments)}h("jQuery.fn.toggle(handler, handler...) is deprecated");var J=arguments,I=M.guid||u.guid++,L=0,N=function(O){var P=(u._data(this,"lastToggle"+M.guid)||0)%L;u._data(this,"lastToggle"+M.guid,P+1);O.preventDefault();return J[P].apply(this,arguments)||false};N.guid=I;while(L<J.length){J[L++].guid=I}return this.click(N)};u.fn.live=function(I,K,J){h("jQuery.fn.live() is deprecated");if(d){return d.apply(this,arguments)}u(this.context).on(I,this.selector,K,J);return this};u.fn.die=function(I,J){h("jQuery.fn.die() is deprecated");if(n){return n.apply(this,arguments)}u(this.context).off(I,this.selector||"**",J);return this};u.event.trigger=function(K,L,J,I){if(!J&&!e.test(K)){h("Global events are undocumented and deprecated")}return g.call(this,K,L,J||document,I)};u.each(E.split("|"),function(J,I){u.event.special[I]={setup:function(){var K=this;if(K!==document){u.event.add(document,I+"."+u.guid,function(){u.event.trigger(I,null,K,true)});u._data(this,I,u.guid++)}return false},teardown:function(){if(this!==document){u.event.remove(document,I+"."+u._data(this,I))}return false}}})})(jQuery,window);
/* jQuery UI - v1.11.4 - 2015-04-26
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(K){
/*
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
K.ui=K.ui||{};K.extend(K.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});K.fn.extend({scrollParent:function(ai){var ah=this.css("position"),ag=ah==="absolute",aj=ai?/(auto|scroll|hidden)/:/(auto|scroll)/,ak=this.parents().filter(function(){var al=K(this);if(ag&&al.css("position")==="static"){return false}return aj.test(al.css("overflow")+al.css("overflow-y")+al.css("overflow-x"))}).eq(0);return ah==="fixed"||!ak.length?K(this[0].ownerDocument||document):ak},uniqueId:(function(){var ag=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++ag)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){K(this).removeAttr("id")}})}});function x(ai,ag){var ak,aj,ah,al=ai.nodeName.toLowerCase();if("area"===al){ak=ai.parentNode;aj=ak.name;if(!ai.href||!aj||ak.nodeName.toLowerCase()!=="map"){return false}ah=K("img[usemap='#"+aj+"']")[0];return !!ah&&y(ah)}return(/^(input|select|textarea|button|object)$/.test(al)?!ai.disabled:"a"===al?ai.href||ag:ag)&&y(ai)}function y(ag){return K.expr.filters.visible(ag)&&!K(ag).parents().addBack().filter(function(){return K.css(this,"visibility")==="hidden"}).length}K.extend(K.expr[":"],{data:K.expr.createPseudo?K.expr.createPseudo(function(ag){return function(ah){return !!K.data(ah,ag)}}):function(ai,ah,ag){return !!K.data(ai,ag[3])},focusable:function(ag){return x(ag,!isNaN(K.attr(ag,"tabindex")))},tabbable:function(ai){var ag=K.attr(ai,"tabindex"),ah=isNaN(ag);return(ah||ag>=0)&&x(ai,!ah)}});if(!K("<a>").outerWidth(1).jquery){K.each(["Width","Height"],function(ai,ag){var ah=ag==="Width"?["Left","Right"]:["Top","Bottom"],aj=ag.toLowerCase(),al={innerWidth:K.fn.innerWidth,innerHeight:K.fn.innerHeight,outerWidth:K.fn.outerWidth,outerHeight:K.fn.outerHeight};function ak(ao,an,am,ap){K.each(ah,function(){an-=parseFloat(K.css(ao,"padding"+this))||0;if(am){an-=parseFloat(K.css(ao,"border"+this+"Width"))||0}if(ap){an-=parseFloat(K.css(ao,"margin"+this))||0}});return an}K.fn["inner"+ag]=function(am){if(am===undefined){return al["inner"+ag].call(this)}return this.each(function(){K(this).css(aj,ak(this,am)+"px")})};K.fn["outer"+ag]=function(am,an){if(typeof am!=="number"){return al["outer"+ag].call(this,am)}return this.each(function(){K(this).css(aj,ak(this,am,true,an)+"px")})}})}if(!K.fn.addBack){K.fn.addBack=function(ag){return this.add(ag==null?this.prevObject:this.prevObject.filter(ag))}}if(K("<a>").data("a-b","a").removeData("a-b").data("a-b")){K.fn.removeData=(function(ag){return function(ah){if(arguments.length){return ag.call(this,K.camelCase(ah))}else{return ag.call(this)}}})(K.fn.removeData)}K.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());K.fn.extend({focus:(function(ag){return function(ah,ai){return typeof ah==="number"?this.each(function(){var aj=this;setTimeout(function(){K(aj).focus();if(ai){ai.call(aj)}},ah)}):ag.apply(this,arguments)}})(K.fn.focus),disableSelection:(function(){var ag="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(ag+".ui-disableSelection",function(ah){ah.preventDefault()})}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(aj){if(aj!==undefined){return this.css("zIndex",aj)}if(this.length){var ah=K(this[0]),ag,ai;while(ah.length&&ah[0]!==document){ag=ah.css("position");if(ag==="absolute"||ag==="relative"||ag==="fixed"){ai=parseInt(ah.css("zIndex"),10);if(!isNaN(ai)&&ai!==0){return ai}}ah=ah.parent()}}return 0}});K.ui.plugin={add:function(ah,ai,ak){var ag,aj=K.ui[ah].prototype;for(ag in ak){aj.plugins[ag]=aj.plugins[ag]||[];aj.plugins[ag].push([ai,ak[ag]])}},call:function(ag,aj,ai,ah){var ak,al=ag.plugins[aj];if(!al){return}if(!ah&&(!ag.element[0].parentNode||ag.element[0].parentNode.nodeType===11)){return}for(ak=0;ak<al.length;ak++){if(ag.options[al[ak][0]]){al[ak][1].apply(ag.element,ai)}}}};
/*
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var Q=0,j=Array.prototype.slice;K.cleanData=(function(ag){return function(ah){var aj,ak,ai;for(ai=0;(ak=ah[ai])!=null;ai++){try{aj=K._data(ak,"events");if(aj&&aj.remove){K(ak).triggerHandler("remove")}}catch(al){}}ag(ah)}})(K.cleanData);K.widget=function(ag,ah,ao){var al,am,aj,an,ai={},ak=ag.split(".")[0];ag=ag.split(".")[1];al=ak+"-"+ag;if(!ao){ao=ah;ah=K.Widget}K.expr[":"][al.toLowerCase()]=function(ap){return !!K.data(ap,al)};K[ak]=K[ak]||{};am=K[ak][ag];aj=K[ak][ag]=function(ap,aq){if(!this._createWidget){return new aj(ap,aq)}if(arguments.length){this._createWidget(ap,aq)}};K.extend(aj,am,{version:ao.version,_proto:K.extend({},ao),_childConstructors:[]});an=new ah();an.options=K.widget.extend({},an.options);K.each(ao,function(aq,ap){if(!K.isFunction(ap)){ai[aq]=ap;return}ai[aq]=(function(){var ar=function(){return ah.prototype[aq].apply(this,arguments)},at=function(au){return ah.prototype[aq].apply(this,au)};return function(){var aw=this._super,au=this._superApply,av;this._super=ar;this._superApply=at;av=ap.apply(this,arguments);this._super=aw;this._superApply=au;return av}})()});aj.prototype=K.widget.extend(an,{widgetEventPrefix:am?(an.widgetEventPrefix||ag):ag},ai,{constructor:aj,namespace:ak,widgetName:ag,widgetFullName:al});if(am){K.each(am._childConstructors,function(aq,ar){var ap=ar.prototype;K.widget(ap.namespace+"."+ap.widgetName,aj,ar._proto)});delete am._childConstructors}else{ah._childConstructors.push(aj)}K.widget.bridge(ag,aj);return aj};K.widget.extend=function(al){var ah=j.call(arguments,1),ak=0,ag=ah.length,ai,aj;for(;ak<ag;ak++){for(ai in ah[ak]){aj=ah[ak][ai];if(ah[ak].hasOwnProperty(ai)&&aj!==undefined){if(K.isPlainObject(aj)){al[ai]=K.isPlainObject(al[ai])?K.widget.extend({},al[ai],aj):K.widget.extend({},aj)}else{al[ai]=aj}}}}return al};K.widget.bridge=function(ah,ag){var ai=ag.prototype.widgetFullName||ah;K.fn[ah]=function(al){var aj=typeof al==="string",ak=j.call(arguments,1),am=this;if(aj){this.each(function(){var ao,an=K.data(this,ai);if(al==="instance"){am=an;return false}if(!an){return K.error("cannot call methods on "+ah+" prior to initialization; attempted to call method '"+al+"'")}if(!K.isFunction(an[al])||al.charAt(0)==="_"){return K.error("no such method '"+al+"' for "+ah+" widget instance")}ao=an[al].apply(an,ak);if(ao!==an&&ao!==undefined){am=ao&&ao.jquery?am.pushStack(ao.get()):ao;return false}})}else{if(ak.length){al=K.widget.extend.apply(null,[al].concat(ak))}this.each(function(){var an=K.data(this,ai);if(an){an.option(al||{});if(an._init){an._init()}}else{K.data(this,ai,new ag(al,this))}})}return am}};K.Widget=function(){};K.Widget._childConstructors=[];K.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(ag,ah){ah=K(ah||this.defaultElement||this)[0];this.element=K(ah);this.uuid=Q++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=K();this.hoverable=K();this.focusable=K();if(ah!==this){K.data(ah,this.widgetFullName,this);this._on(true,this.element,{remove:function(ai){if(ai.target===ah){this.destroy()}}});this.document=K(ah.style?ah.ownerDocument:ah.document||ah);this.window=K(this.document[0].defaultView||this.document[0].parentWindow)}this.options=K.widget.extend({},this.options,this._getCreateOptions(),ag);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:K.noop,_getCreateEventData:K.noop,_create:K.noop,_init:K.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(K.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:K.noop,widget:function(){return this.element},option:function(aj,ak){var ag=aj,al,ai,ah;if(arguments.length===0){return K.widget.extend({},this.options)}if(typeof aj==="string"){ag={};al=aj.split(".");aj=al.shift();if(al.length){ai=ag[aj]=K.widget.extend({},this.options[aj]);for(ah=0;ah<al.length-1;ah++){ai[al[ah]]=ai[al[ah]]||{};ai=ai[al[ah]]}aj=al.pop();if(arguments.length===1){return ai[aj]===undefined?null:ai[aj]}ai[aj]=ak}else{if(arguments.length===1){return this.options[aj]===undefined?null:this.options[aj]}ag[aj]=ak}}this._setOptions(ag);return this},_setOptions:function(ag){var ah;for(ah in ag){this._setOption(ah,ag[ah])}return this},_setOption:function(ag,ah){this.options[ag]=ah;if(ag==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!ah);if(ah){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(aj,ai,ah){var ak,ag=this;if(typeof aj!=="boolean"){ah=ai;ai=aj;aj=false}if(!ah){ah=ai;ai=this.element;ak=this.widget()}else{ai=ak=K(ai);this.bindings=this.bindings.add(ai)}K.each(ah,function(aq,ap){function an(){if(!aj&&(ag.options.disabled===true||K(this).hasClass("ui-state-disabled"))){return}return(typeof ap==="string"?ag[ap]:ap).apply(ag,arguments)}if(typeof ap!=="string"){an.guid=ap.guid=ap.guid||an.guid||K.guid++}var ao=aq.match(/^([\w:-]*)\s*(.*)$/),am=ao[1]+ag.eventNamespace,al=ao[2];if(al){ak.delegate(al,am,an)}else{ai.bind(am,an)}})},_off:function(ah,ag){ag=(ag||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;ah.unbind(ag).undelegate(ag);this.bindings=K(this.bindings.not(ah).get());this.focusable=K(this.focusable.not(ah).get());this.hoverable=K(this.hoverable.not(ah).get())},_delay:function(aj,ai){function ah(){return(typeof aj==="string"?ag[aj]:aj).apply(ag,arguments)}var ag=this;return setTimeout(ah,ai||0)},_hoverable:function(ag){this.hoverable=this.hoverable.add(ag);this._on(ag,{mouseenter:function(ah){K(ah.currentTarget).addClass("ui-state-hover")},mouseleave:function(ah){K(ah.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(ag){this.focusable=this.focusable.add(ag);this._on(ag,{focusin:function(ah){K(ah.currentTarget).addClass("ui-state-focus")},focusout:function(ah){K(ah.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(ag,ah,ai){var al,ak,aj=this.options[ag];ai=ai||{};ah=K.Event(ah);ah.type=(ag===this.widgetEventPrefix?ag:this.widgetEventPrefix+ag).toLowerCase();ah.target=this.element[0];ak=ah.originalEvent;if(ak){for(al in ak){if(!(al in ah)){ah[al]=ak[al]}}}this.element.trigger(ah,ai);return !(K.isFunction(aj)&&aj.apply(this.element[0],[ah].concat(ai))===false||ah.isDefaultPrevented())}};K.each({show:"fadeIn",hide:"fadeOut"},function(ah,ag){K.Widget.prototype["_"+ah]=function(ak,aj,am){if(typeof aj==="string"){aj={effect:aj}}var al,ai=!aj?ah:aj===true||typeof aj==="number"?ag:aj.effect||ag;aj=aj||{};if(typeof aj==="number"){aj={duration:aj}}al=!K.isEmptyObject(aj);aj.complete=am;if(aj.delay){ak.delay(aj.delay)}if(al&&K.effects&&K.effects.effect[ai]){ak[ah](aj)}else{if(ai!==ah&&ak[ai]){ak[ai](aj.duration,aj.easing,am)}else{ak.queue(function(an){K(this)[ah]();if(am){am.call(ak[0])}an()})}}}});var L=K.widget;
/*
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
var b=false;K(document).mouseup(function(){b=false});var I=K.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var ag=this;this.element.bind("mousedown."+this.widgetName,function(ah){return ag._mouseDown(ah)}).bind("click."+this.widgetName,function(ah){if(true===K.data(ah.target,ag.widgetName+".preventClickEvent")){K.removeData(ah.target,ag.widgetName+".preventClickEvent");ah.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(ai){if(b){return}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(ai));this._mouseDownEvent=ai;var ah=this,aj=(ai.which===1),ag=(typeof this.options.cancel==="string"&&ai.target.nodeName?K(ai.target).closest(this.options.cancel).length:false);if(!aj||ag||!this._mouseCapture(ai)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){ah.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(ai)&&this._mouseDelayMet(ai)){this._mouseStarted=(this._mouseStart(ai)!==false);if(!this._mouseStarted){ai.preventDefault();return true}}if(true===K.data(ai.target,this.widgetName+".preventClickEvent")){K.removeData(ai.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(ak){return ah._mouseMove(ak)};this._mouseUpDelegate=function(ak){return ah._mouseUp(ak)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);ai.preventDefault();b=true;return true},_mouseMove:function(ag){if(this._mouseMoved){if(K.ui.ie&&(!document.documentMode||document.documentMode<9)&&!ag.button){return this._mouseUp(ag)}else{if(!ag.which){return this._mouseUp(ag)}}}if(ag.which||ag.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(ag);return ag.preventDefault()}if(this._mouseDistanceMet(ag)&&this._mouseDelayMet(ag)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,ag)!==false);(this._mouseStarted?this._mouseDrag(ag):this._mouseUp(ag))}return !this._mouseStarted},_mouseUp:function(ag){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(ag.target===this._mouseDownEvent.target){K.data(ag.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(ag)}b=false;return false},_mouseDistanceMet:function(ag){return(Math.max(Math.abs(this._mouseDownEvent.pageX-ag.pageX),Math.abs(this._mouseDownEvent.pageY-ag.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});
/*
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(){K.ui=K.ui||{};var an,aq,ao=Math.max,au=Math.abs,ar=Math.round,ai=/left|center|right/,al=/top|center|bottom/,ag=/[\+\-]\d+(\.[\d]+)?%?/,ap=/^\w+/,ah=/%$/,ak=K.fn.position;function at(ax,aw,av){return[parseFloat(ax[0])*(ah.test(ax[0])?aw/100:1),parseFloat(ax[1])*(ah.test(ax[1])?av/100:1)]}function am(av,aw){return parseInt(K.css(av,aw),10)||0}function aj(aw){var av=aw[0];if(av.nodeType===9){return{width:aw.width(),height:aw.height(),offset:{top:0,left:0}}}if(K.isWindow(av)){return{width:aw.width(),height:aw.height(),offset:{top:aw.scrollTop(),left:aw.scrollLeft()}}}if(av.preventDefault){return{width:0,height:0,offset:{top:av.pageY,left:av.pageX}}}return{width:aw.outerWidth(),height:aw.outerHeight(),offset:aw.offset()}}K.position={scrollbarWidth:function(){if(an!==undefined){return an}var aw,av,ay=K("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),ax=ay.children()[0];K("body").append(ay);aw=ax.offsetWidth;ay.css("overflow","scroll");av=ax.offsetWidth;if(aw===av){av=ay[0].clientWidth}ay.remove();return(an=aw-av)},getScrollInfo:function(az){var ay=az.isWindow||az.isDocument?"":az.element.css("overflow-x"),ax=az.isWindow||az.isDocument?"":az.element.css("overflow-y"),aw=ay==="scroll"||(ay==="auto"&&az.width<az.element[0].scrollWidth),av=ax==="scroll"||(ax==="auto"&&az.height<az.element[0].scrollHeight);return{width:av?K.position.scrollbarWidth():0,height:aw?K.position.scrollbarWidth():0}},getWithinInfo:function(aw){var ax=K(aw||window),av=K.isWindow(ax[0]),ay=!!ax[0]&&ax[0].nodeType===9;return{element:ax,isWindow:av,isDocument:ay,offset:ax.offset()||{left:0,top:0},scrollLeft:ax.scrollLeft(),scrollTop:ax.scrollTop(),width:av||ay?ax.width():ax.outerWidth(),height:av||ay?ax.height():ax.outerHeight()}}};K.fn.position=function(aF){if(!aF||!aF.of){return ak.apply(this,arguments)}aF=K.extend({},aF);var aG,aC,aA,aE,az,av,aB=K(aF.of),ay=K.position.getWithinInfo(aF.within),aw=K.position.getScrollInfo(ay),aD=(aF.collision||"flip").split(" "),ax={};av=aj(aB);if(aB[0].preventDefault){aF.at="left top"}aC=av.width;aA=av.height;aE=av.offset;az=K.extend({},aE);K.each(["my","at"],function(){var aJ=(aF[this]||"").split(" "),aI,aH;if(aJ.length===1){aJ=ai.test(aJ[0])?aJ.concat(["center"]):al.test(aJ[0])?["center"].concat(aJ):["center","center"]}aJ[0]=ai.test(aJ[0])?aJ[0]:"center";aJ[1]=al.test(aJ[1])?aJ[1]:"center";aI=ag.exec(aJ[0]);aH=ag.exec(aJ[1]);ax[this]=[aI?aI[0]:0,aH?aH[0]:0];aF[this]=[ap.exec(aJ[0])[0],ap.exec(aJ[1])[0]]});if(aD.length===1){aD[1]=aD[0]}if(aF.at[0]==="right"){az.left+=aC}else{if(aF.at[0]==="center"){az.left+=aC/2}}if(aF.at[1]==="bottom"){az.top+=aA}else{if(aF.at[1]==="center"){az.top+=aA/2}}aG=at(ax.at,aC,aA);az.left+=aG[0];az.top+=aG[1];return this.each(function(){var aI,aR,aK=K(this),aM=aK.outerWidth(),aJ=aK.outerHeight(),aL=am(this,"marginLeft"),aH=am(this,"marginTop"),aQ=aM+aL+am(this,"marginRight")+aw.width,aP=aJ+aH+am(this,"marginBottom")+aw.height,aN=K.extend({},az),aO=at(ax.my,aK.outerWidth(),aK.outerHeight());if(aF.my[0]==="right"){aN.left-=aM}else{if(aF.my[0]==="center"){aN.left-=aM/2}}if(aF.my[1]==="bottom"){aN.top-=aJ}else{if(aF.my[1]==="center"){aN.top-=aJ/2}}aN.left+=aO[0];aN.top+=aO[1];if(!aq){aN.left=ar(aN.left);aN.top=ar(aN.top)}aI={marginLeft:aL,marginTop:aH};K.each(["left","top"],function(aT,aS){if(K.ui.position[aD[aT]]){K.ui.position[aD[aT]][aS](aN,{targetWidth:aC,targetHeight:aA,elemWidth:aM,elemHeight:aJ,collisionPosition:aI,collisionWidth:aQ,collisionHeight:aP,offset:[aG[0]+aO[0],aG[1]+aO[1]],my:aF.my,at:aF.at,within:ay,elem:aK})}});if(aF.using){aR=function(aV){var aX=aE.left-aN.left,aU=aX+aC-aM,aW=aE.top-aN.top,aT=aW+aA-aJ,aS={target:{element:aB,left:aE.left,top:aE.top,width:aC,height:aA},element:{element:aK,left:aN.left,top:aN.top,width:aM,height:aJ},horizontal:aU<0?"left":aX>0?"right":"center",vertical:aT<0?"top":aW>0?"bottom":"middle"};if(aC<aM&&au(aX+aU)<aC){aS.horizontal="center"}if(aA<aJ&&au(aW+aT)<aA){aS.vertical="middle"}if(ao(au(aX),au(aU))>ao(au(aW),au(aT))){aS.important="horizontal"}else{aS.important="vertical"}aF.using.call(this,aV,aS)}}aK.offset(K.extend(aN,{using:aR}))})};K.ui.position={fit:{left:function(az,ay){var ax=ay.within,aB=ax.isWindow?ax.scrollLeft:ax.offset.left,aD=ax.width,aA=az.left-ay.collisionPosition.marginLeft,aC=aB-aA,aw=aA+ay.collisionWidth-aD-aB,av;if(ay.collisionWidth>aD){if(aC>0&&aw<=0){av=az.left+aC+ay.collisionWidth-aD-aB;az.left+=aC-av}else{if(aw>0&&aC<=0){az.left=aB}else{if(aC>aw){az.left=aB+aD-ay.collisionWidth}else{az.left=aB}}}}else{if(aC>0){az.left+=aC}else{if(aw>0){az.left-=aw}else{az.left=ao(az.left-aA,az.left)}}}},top:function(ay,ax){var aw=ax.within,aC=aw.isWindow?aw.scrollTop:aw.offset.top,aD=ax.within.height,aA=ay.top-ax.collisionPosition.marginTop,aB=aC-aA,az=aA+ax.collisionHeight-aD-aC,av;if(ax.collisionHeight>aD){if(aB>0&&az<=0){av=ay.top+aB+ax.collisionHeight-aD-aC;ay.top+=aB-av}else{if(az>0&&aB<=0){ay.top=aC}else{if(aB>az){ay.top=aC+aD-ax.collisionHeight}else{ay.top=aC}}}}else{if(aB>0){ay.top+=aB}else{if(az>0){ay.top-=az}else{ay.top=ao(ay.top-aA,ay.top)}}}}},flip:{left:function(aB,aA){var az=aA.within,aF=az.offset.left+az.scrollLeft,aI=az.width,ax=az.isWindow?az.scrollLeft:az.offset.left,aC=aB.left-aA.collisionPosition.marginLeft,aG=aC-ax,aw=aC+aA.collisionWidth-aI-ax,aE=aA.my[0]==="left"?-aA.elemWidth:aA.my[0]==="right"?aA.elemWidth:0,aH=aA.at[0]==="left"?aA.targetWidth:aA.at[0]==="right"?-aA.targetWidth:0,ay=-2*aA.offset[0],av,aD;if(aG<0){av=aB.left+aE+aH+ay+aA.collisionWidth-aI-aF;if(av<0||av<au(aG)){aB.left+=aE+aH+ay}}else{if(aw>0){aD=aB.left-aA.collisionPosition.marginLeft+aE+aH+ay-ax;if(aD>0||au(aD)<aw){aB.left+=aE+aH+ay}}}},top:function(aA,az){var ay=az.within,aH=ay.offset.top+ay.scrollTop,aI=ay.height,av=ay.isWindow?ay.scrollTop:ay.offset.top,aC=aA.top-az.collisionPosition.marginTop,aE=aC-av,aB=aC+az.collisionHeight-aI-av,aF=az.my[1]==="top",aD=aF?-az.elemHeight:az.my[1]==="bottom"?az.elemHeight:0,aJ=az.at[1]==="top"?az.targetHeight:az.at[1]==="bottom"?-az.targetHeight:0,ax=-2*az.offset[1],aG,aw;if(aE<0){aw=aA.top+aD+aJ+ax+az.collisionHeight-aI-aH;if(aw<0||aw<au(aE)){aA.top+=aD+aJ+ax}}else{if(aB>0){aG=aA.top-az.collisionPosition.marginTop+aD+aJ+ax-av;if(aG>0||au(aG)<aB){aA.top+=aD+aJ+ax}}}}},flipfit:{left:function(){K.ui.position.flip.left.apply(this,arguments);K.ui.position.fit.left.apply(this,arguments)},top:function(){K.ui.position.flip.top.apply(this,arguments);K.ui.position.fit.top.apply(this,arguments)}}};(function(){var az,aB,aw,ay,ax,av=document.getElementsByTagName("body")[0],aA=document.createElement("div");az=document.createElement(av?"div":"body");aw={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(av){K.extend(aw,{position:"absolute",left:"-1000px",top:"-1000px"})}for(ax in aw){az.style[ax]=aw[ax]}az.appendChild(aA);aB=av||document.documentElement;aB.insertBefore(az,aB.firstChild);aA.style.cssText="position: absolute; left: 10.7432222px;";ay=K(aA).offset().left;aq=ay>10&&ay<11;az.innerHTML="";aB.removeChild(az)})()})();var R=K.ui.position;
/*
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
K.widget("ui.draggable",K.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._setHandleClassName();this._mouseInit()},_setOption:function(ag,ah){this._super(ag,ah);if(ag==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(ag){var ah=this.options;this._blurActiveElement(ag);if(this.helper||ah.disabled||K(ag.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(ag);if(!this.handle){return false}this._blockFrames(ah.iframeFix===true?"iframe":ah.iframeFix);return true},_blockFrames:function(ag){this.iframeBlocks=this.document.find(ag).map(function(){var ah=K(this);return K("<div>").css("position","absolute").appendTo(ah.parent()).outerWidth(ah.outerWidth()).outerHeight(ah.outerHeight()).offset(ah.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(ai){var ag=this.document[0];if(!this.handleElement.is(ai.target)){return}try{if(ag.activeElement&&ag.activeElement.nodeName.toLowerCase()!=="body"){K(ag.activeElement).blur()}}catch(ah){}},_mouseStart:function(ag){var ah=this.options;this.helper=this._createHelper(ag);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(K.ui.ddmanager){K.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return K(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(ag);this.originalPosition=this.position=this._generatePosition(ag,false);this.originalPageX=ag.pageX;this.originalPageY=ag.pageY;(ah.cursorAt&&this._adjustOffsetFromHelper(ah.cursorAt));this._setContainment();if(this._trigger("start",ag)===false){this._clear();return false}this._cacheHelperProportions();if(K.ui.ddmanager&&!ah.dropBehaviour){K.ui.ddmanager.prepareOffsets(this,ag)}this._normalizeRightBottom();this._mouseDrag(ag,true);if(K.ui.ddmanager){K.ui.ddmanager.dragStart(this,ag)}return true},_refreshOffsets:function(ag){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:ag.pageX-this.offset.left,top:ag.pageY-this.offset.top}},_mouseDrag:function(ag,ai){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(ag,true);this.positionAbs=this._convertPositionTo("absolute");if(!ai){var ah=this._uiHash();if(this._trigger("drag",ag,ah)===false){this._mouseUp({});return false}this.position=ah.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(K.ui.ddmanager){K.ui.ddmanager.drag(this,ag)}return false},_mouseStop:function(ah){var ag=this,ai=false;if(K.ui.ddmanager&&!this.options.dropBehaviour){ai=K.ui.ddmanager.drop(this,ah)}if(this.dropped){ai=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!ai)||(this.options.revert==="valid"&&ai)||this.options.revert===true||(K.isFunction(this.options.revert)&&this.options.revert.call(this.element,ai))){K(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(ag._trigger("stop",ah)!==false){ag._clear()}})}else{if(this._trigger("stop",ah)!==false){this._clear()}}return false},_mouseUp:function(ag){this._unblockFrames();if(K.ui.ddmanager){K.ui.ddmanager.dragStop(this,ag)}if(this.handleElement.is(ag.target)){this.element.focus()}return K.ui.mouse.prototype._mouseUp.call(this,ag)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(ag){return this.options.handle?!!K(ag.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(ah){var aj=this.options,ai=K.isFunction(aj.helper),ag=ai?K(aj.helper.apply(this.element[0],[ah])):(aj.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!ag.parents("body").length){ag.appendTo((aj.appendTo==="parent"?this.element[0].parentNode:aj.appendTo))}if(ai&&ag[0]===this.element[0]){this._setPositionRelative()}if(ag[0]!==this.element[0]&&!(/(fixed|absolute)/).test(ag.css("position"))){ag.css("position","absolute")}return ag},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(ag){if(typeof ag==="string"){ag=ag.split(" ")}if(K.isArray(ag)){ag={left:+ag[0],top:+ag[1]||0}}if("left" in ag){this.offset.click.left=ag.left+this.margins.left}if("right" in ag){this.offset.click.left=this.helperProportions.width-ag.right+this.margins.left}if("top" in ag){this.offset.click.top=ag.top+this.margins.top}if("bottom" in ag){this.offset.click.top=this.helperProportions.height-ag.bottom+this.margins.top}},_isRootNode:function(ag){return(/(html|body)/i).test(ag.tagName)||ag===this.document[0]},_getParentOffset:function(){var ah=this.offsetParent.offset(),ag=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==ag&&K.contains(this.scrollParent[0],this.offsetParent[0])){ah.left+=this.scrollParent.scrollLeft();ah.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){ah={top:0,left:0}}return{top:ah.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:ah.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var ag=this.element.position(),ah=this._isRootNode(this.scrollParent[0]);return{top:ag.top-(parseInt(this.helper.css("top"),10)||0)+(!ah?this.scrollParent.scrollTop():0),left:ag.left-(parseInt(this.helper.css("left"),10)||0)+(!ah?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ah,ak,ai,aj=this.options,ag=this.document[0];this.relativeContainer=null;if(!aj.containment){this.containment=null;return}if(aj.containment==="window"){this.containment=[K(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,K(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,K(window).scrollLeft()+K(window).width()-this.helperProportions.width-this.margins.left,K(window).scrollTop()+(K(window).height()||ag.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(aj.containment==="document"){this.containment=[0,0,K(ag).width()-this.helperProportions.width-this.margins.left,(K(ag).height()||ag.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(aj.containment.constructor===Array){this.containment=aj.containment;return}if(aj.containment==="parent"){aj.containment=this.helper[0].parentNode}ak=K(aj.containment);ai=ak[0];if(!ai){return}ah=/(scroll|auto)/.test(ak.css("overflow"));this.containment=[(parseInt(ak.css("borderLeftWidth"),10)||0)+(parseInt(ak.css("paddingLeft"),10)||0),(parseInt(ak.css("borderTopWidth"),10)||0)+(parseInt(ak.css("paddingTop"),10)||0),(ah?Math.max(ai.scrollWidth,ai.offsetWidth):ai.offsetWidth)-(parseInt(ak.css("borderRightWidth"),10)||0)-(parseInt(ak.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(ah?Math.max(ai.scrollHeight,ai.offsetHeight):ai.offsetHeight)-(parseInt(ak.css("borderBottomWidth"),10)||0)-(parseInt(ak.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=ak},_convertPositionTo:function(ah,aj){if(!aj){aj=this.position}var ag=ah==="absolute"?1:-1,ai=this._isRootNode(this.scrollParent[0]);return{top:(aj.top+this.offset.relative.top*ag+this.offset.parent.top*ag-((this.cssPosition==="fixed"?-this.offset.scroll.top:(ai?0:this.offset.scroll.top))*ag)),left:(aj.left+this.offset.relative.left*ag+this.offset.parent.left*ag-((this.cssPosition==="fixed"?-this.offset.scroll.left:(ai?0:this.offset.scroll.left))*ag))}},_generatePosition:function(ah,an){var ag,ao,ap,aj,ai=this.options,am=this._isRootNode(this.scrollParent[0]),al=ah.pageX,ak=ah.pageY;if(!am||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(an){if(this.containment){if(this.relativeContainer){ao=this.relativeContainer.offset();ag=[this.containment[0]+ao.left,this.containment[1]+ao.top,this.containment[2]+ao.left,this.containment[3]+ao.top]}else{ag=this.containment}if(ah.pageX-this.offset.click.left<ag[0]){al=ag[0]+this.offset.click.left}if(ah.pageY-this.offset.click.top<ag[1]){ak=ag[1]+this.offset.click.top}if(ah.pageX-this.offset.click.left>ag[2]){al=ag[2]+this.offset.click.left}if(ah.pageY-this.offset.click.top>ag[3]){ak=ag[3]+this.offset.click.top}}if(ai.grid){ap=ai.grid[1]?this.originalPageY+Math.round((ak-this.originalPageY)/ai.grid[1])*ai.grid[1]:this.originalPageY;ak=ag?((ap-this.offset.click.top>=ag[1]||ap-this.offset.click.top>ag[3])?ap:((ap-this.offset.click.top>=ag[1])?ap-ai.grid[1]:ap+ai.grid[1])):ap;aj=ai.grid[0]?this.originalPageX+Math.round((al-this.originalPageX)/ai.grid[0])*ai.grid[0]:this.originalPageX;al=ag?((aj-this.offset.click.left>=ag[0]||aj-this.offset.click.left>ag[2])?aj:((aj-this.offset.click.left>=ag[0])?aj-ai.grid[0]:aj+ai.grid[0])):aj}if(ai.axis==="y"){al=this.originalPageX}if(ai.axis==="x"){ak=this.originalPageY}}return{top:(ak-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(am?0:this.offset.scroll.top))),left:(al-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(am?0:this.offset.scroll.left)))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto")}if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto")}},_trigger:function(ag,ah,ai){ai=ai||this._uiHash();K.ui.plugin.call(this,ag,[ah,ai,this],true);if(/^(drag|start|stop)/.test(ag)){this.positionAbs=this._convertPositionTo("absolute");ai.offset=this.positionAbs}return K.Widget.prototype._trigger.call(this,ag,ah,ai)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});K.ui.plugin.add("draggable","connectToSortable",{start:function(ai,aj,ag){var ah=K.extend({},aj,{item:ag.element});ag.sortables=[];K(ag.options.connectToSortable).each(function(){var ak=K(this).sortable("instance");if(ak&&!ak.options.disabled){ag.sortables.push(ak);ak.refreshPositions();ak._trigger("activate",ai,ah)}})},stop:function(ai,aj,ag){var ah=K.extend({},aj,{item:ag.element});ag.cancelHelperRemoval=false;K.each(ag.sortables,function(){var ak=this;if(ak.isOver){ak.isOver=0;ag.cancelHelperRemoval=true;ak.cancelHelperRemoval=false;ak._storedCSS={position:ak.placeholder.css("position"),top:ak.placeholder.css("top"),left:ak.placeholder.css("left")};ak._mouseStop(ai);ak.options.helper=ak.options._helper}else{ak.cancelHelperRemoval=true;ak._trigger("deactivate",ai,ah)}})},drag:function(ah,ai,ag){K.each(ag.sortables,function(){var aj=false,ak=this;ak.positionAbs=ag.positionAbs;ak.helperProportions=ag.helperProportions;ak.offset.click=ag.offset.click;if(ak._intersectsWith(ak.containerCache)){aj=true;K.each(ag.sortables,function(){this.positionAbs=ag.positionAbs;this.helperProportions=ag.helperProportions;this.offset.click=ag.offset.click;if(this!==ak&&this._intersectsWith(this.containerCache)&&K.contains(ak.element[0],this.element[0])){aj=false}return aj})}if(aj){if(!ak.isOver){ak.isOver=1;ag._parent=ai.helper.parent();ak.currentItem=ai.helper.appendTo(ak.element).data("ui-sortable-item",true);ak.options._helper=ak.options.helper;ak.options.helper=function(){return ai.helper[0]};ah.target=ak.currentItem[0];ak._mouseCapture(ah,true);ak._mouseStart(ah,true,true);ak.offset.click.top=ag.offset.click.top;ak.offset.click.left=ag.offset.click.left;ak.offset.parent.left-=ag.offset.parent.left-ak.offset.parent.left;ak.offset.parent.top-=ag.offset.parent.top-ak.offset.parent.top;ag._trigger("toSortable",ah);ag.dropped=ak.element;K.each(ag.sortables,function(){this.refreshPositions()});ag.currentItem=ag.element;ak.fromOutside=ag}if(ak.currentItem){ak._mouseDrag(ah);ai.position=ak.position}}else{if(ak.isOver){ak.isOver=0;ak.cancelHelperRemoval=true;ak.options._revert=ak.options.revert;ak.options.revert=false;ak._trigger("out",ah,ak._uiHash(ak));ak._mouseStop(ah,true);ak.options.revert=ak.options._revert;ak.options.helper=ak.options._helper;if(ak.placeholder){ak.placeholder.remove()}ai.helper.appendTo(ag._parent);ag._refreshOffsets(ah);ai.position=ag._generatePosition(ah,true);ag._trigger("fromSortable",ah);ag.dropped=false;K.each(ag.sortables,function(){this.refreshPositions()})}}})}});K.ui.plugin.add("draggable","cursor",{start:function(ai,aj,ag){var ah=K("body"),ak=ag.options;if(ah.css("cursor")){ak._cursor=ah.css("cursor")}ah.css("cursor",ak.cursor)},stop:function(ah,ai,ag){var aj=ag.options;if(aj._cursor){K("body").css("cursor",aj._cursor)}}});K.ui.plugin.add("draggable","opacity",{start:function(ai,aj,ag){var ah=K(aj.helper),ak=ag.options;if(ah.css("opacity")){ak._opacity=ah.css("opacity")}ah.css("opacity",ak.opacity)},stop:function(ah,ai,ag){var aj=ag.options;if(aj._opacity){K(ai.helper).css("opacity",aj._opacity)}}});K.ui.plugin.add("draggable","scroll",{start:function(ah,ai,ag){if(!ag.scrollParentNotHidden){ag.scrollParentNotHidden=ag.helper.scrollParent(false)}if(ag.scrollParentNotHidden[0]!==ag.document[0]&&ag.scrollParentNotHidden[0].tagName!=="HTML"){ag.overflowOffset=ag.scrollParentNotHidden.offset()}},drag:function(aj,ak,ai){var al=ai.options,ah=false,am=ai.scrollParentNotHidden[0],ag=ai.document[0];if(am!==ag&&am.tagName!=="HTML"){if(!al.axis||al.axis!=="x"){if((ai.overflowOffset.top+am.offsetHeight)-aj.pageY<al.scrollSensitivity){am.scrollTop=ah=am.scrollTop+al.scrollSpeed}else{if(aj.pageY-ai.overflowOffset.top<al.scrollSensitivity){am.scrollTop=ah=am.scrollTop-al.scrollSpeed}}}if(!al.axis||al.axis!=="y"){if((ai.overflowOffset.left+am.offsetWidth)-aj.pageX<al.scrollSensitivity){am.scrollLeft=ah=am.scrollLeft+al.scrollSpeed}else{if(aj.pageX-ai.overflowOffset.left<al.scrollSensitivity){am.scrollLeft=ah=am.scrollLeft-al.scrollSpeed}}}}else{if(!al.axis||al.axis!=="x"){if(aj.pageY-K(ag).scrollTop()<al.scrollSensitivity){ah=K(ag).scrollTop(K(ag).scrollTop()-al.scrollSpeed)}else{if(K(window).height()-(aj.pageY-K(ag).scrollTop())<al.scrollSensitivity){ah=K(ag).scrollTop(K(ag).scrollTop()+al.scrollSpeed)}}}if(!al.axis||al.axis!=="y"){if(aj.pageX-K(ag).scrollLeft()<al.scrollSensitivity){ah=K(ag).scrollLeft(K(ag).scrollLeft()-al.scrollSpeed)}else{if(K(window).width()-(aj.pageX-K(ag).scrollLeft())<al.scrollSensitivity){ah=K(ag).scrollLeft(K(ag).scrollLeft()+al.scrollSpeed)}}}}if(ah!==false&&K.ui.ddmanager&&!al.dropBehaviour){K.ui.ddmanager.prepareOffsets(ai,aj)}}});K.ui.plugin.add("draggable","snap",{start:function(ah,ai,ag){var aj=ag.options;ag.snapElements=[];K(aj.snap.constructor!==String?(aj.snap.items||":data(ui-draggable)"):aj.snap).each(function(){var al=K(this),ak=al.offset();if(this!==ag.element[0]){ag.snapElements.push({item:this,width:al.outerWidth(),height:al.outerHeight(),top:ak.top,left:ak.left})}})},drag:function(at,ap,aj){var ag,ay,al,am,ar,ao,an,az,au,ak,aq=aj.options,ax=aq.snapTolerance,aw=ap.offset.left,av=aw+aj.helperProportions.width,ai=ap.offset.top,ah=ai+aj.helperProportions.height;for(au=aj.snapElements.length-1;au>=0;au--){ar=aj.snapElements[au].left-aj.margins.left;ao=ar+aj.snapElements[au].width;an=aj.snapElements[au].top-aj.margins.top;az=an+aj.snapElements[au].height;if(av<ar-ax||aw>ao+ax||ah<an-ax||ai>az+ax||!K.contains(aj.snapElements[au].item.ownerDocument,aj.snapElements[au].item)){if(aj.snapElements[au].snapping){(aj.options.snap.release&&aj.options.snap.release.call(aj.element,at,K.extend(aj._uiHash(),{snapItem:aj.snapElements[au].item})))}aj.snapElements[au].snapping=false;continue}if(aq.snapMode!=="inner"){ag=Math.abs(an-ah)<=ax;ay=Math.abs(az-ai)<=ax;al=Math.abs(ar-av)<=ax;am=Math.abs(ao-aw)<=ax;if(ag){ap.position.top=aj._convertPositionTo("relative",{top:an-aj.helperProportions.height,left:0}).top}if(ay){ap.position.top=aj._convertPositionTo("relative",{top:az,left:0}).top}if(al){ap.position.left=aj._convertPositionTo("relative",{top:0,left:ar-aj.helperProportions.width}).left}if(am){ap.position.left=aj._convertPositionTo("relative",{top:0,left:ao}).left}}ak=(ag||ay||al||am);if(aq.snapMode!=="outer"){ag=Math.abs(an-ai)<=ax;ay=Math.abs(az-ah)<=ax;al=Math.abs(ar-aw)<=ax;am=Math.abs(ao-av)<=ax;if(ag){ap.position.top=aj._convertPositionTo("relative",{top:an,left:0}).top}if(ay){ap.position.top=aj._convertPositionTo("relative",{top:az-aj.helperProportions.height,left:0}).top}if(al){ap.position.left=aj._convertPositionTo("relative",{top:0,left:ar}).left}if(am){ap.position.left=aj._convertPositionTo("relative",{top:0,left:ao-aj.helperProportions.width}).left}}if(!aj.snapElements[au].snapping&&(ag||ay||al||am||ak)){(aj.options.snap.snap&&aj.options.snap.snap.call(aj.element,at,K.extend(aj._uiHash(),{snapItem:aj.snapElements[au].item})))}aj.snapElements[au].snapping=(ag||ay||al||am||ak)}}});K.ui.plugin.add("draggable","stack",{start:function(ai,aj,ag){var ah,al=ag.options,ak=K.makeArray(K(al.stack)).sort(function(an,am){return(parseInt(K(an).css("zIndex"),10)||0)-(parseInt(K(am).css("zIndex"),10)||0)});if(!ak.length){return}ah=parseInt(K(ak[0]).css("zIndex"),10)||0;K(ak).each(function(am){K(this).css("zIndex",ah+am)});this.css("zIndex",(ah+ak.length))}});K.ui.plugin.add("draggable","zIndex",{start:function(ai,aj,ag){var ah=K(aj.helper),ak=ag.options;if(ah.css("zIndex")){ak._zIndex=ah.css("zIndex")}ah.css("zIndex",ak.zIndex)},stop:function(ah,ai,ag){var aj=ag.options;if(aj._zIndex){K(ai.helper).css("zIndex",aj._zIndex)}}});var Z=K.ui.draggable;
/*
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
K.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var ah,ai=this.options,ag=ai.accept;this.isover=false;this.isout=true;this.accept=K.isFunction(ag)?ag:function(aj){return aj.is(ag)};this.proportions=function(){if(arguments.length){ah=arguments[0]}else{return ah?ah:ah={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(ai.scope);ai.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(ag){K.ui.ddmanager.droppables[ag]=K.ui.ddmanager.droppables[ag]||[];K.ui.ddmanager.droppables[ag].push(this)},_splice:function(ag){var ah=0;for(;ah<ag.length;ah++){if(ag[ah]===this){ag.splice(ah,1)}}},_destroy:function(){var ag=K.ui.ddmanager.droppables[this.options.scope];this._splice(ag);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(ah,ai){if(ah==="accept"){this.accept=K.isFunction(ai)?ai:function(aj){return aj.is(ai)}}else{if(ah==="scope"){var ag=K.ui.ddmanager.droppables[this.options.scope];this._splice(ag);this._addToManager(ai)}}this._super(ah,ai)},_activate:function(ah){var ag=K.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(ag){this._trigger("activate",ah,this.ui(ag))}},_deactivate:function(ah){var ag=K.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(ag){this._trigger("deactivate",ah,this.ui(ag))}},_over:function(ah){var ag=K.ui.ddmanager.current;if(!ag||(ag.currentItem||ag.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(ag.currentItem||ag.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",ah,this.ui(ag))}},_out:function(ah){var ag=K.ui.ddmanager.current;if(!ag||(ag.currentItem||ag.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(ag.currentItem||ag.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",ah,this.ui(ag))}},_drop:function(ah,ai){var ag=ai||K.ui.ddmanager.current,aj=false;if(!ag||(ag.currentItem||ag.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var ak=K(this).droppable("instance");if(ak.options.greedy&&!ak.options.disabled&&ak.options.scope===ag.options.scope&&ak.accept.call(ak.element[0],(ag.currentItem||ag.element))&&K.ui.intersect(ag,K.extend(ak,{offset:ak.element.offset()}),ak.options.tolerance,ah)){aj=true;return false}});if(aj){return false}if(this.accept.call(this.element[0],(ag.currentItem||ag.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",ah,this.ui(ag));return this.element}return false},ui:function(ag){return{draggable:(ag.currentItem||ag.element),helper:ag.helper,position:ag.position,offset:ag.positionAbs}}});K.ui.intersect=(function(){function ag(ai,ah,aj){return(ai>=ah)&&(ai<(ah+aj))}return function(at,am,aq,ai){if(!am.offset){return false}var ak=(at.positionAbs||at.position.absolute).left+at.margins.left,ap=(at.positionAbs||at.position.absolute).top+at.margins.top,aj=ak+at.helperProportions.width,ao=ap+at.helperProportions.height,al=am.offset.left,ar=am.offset.top,ah=al+am.proportions().width,an=ar+am.proportions().height;switch(aq){case"fit":return(al<=ak&&aj<=ah&&ar<=ap&&ao<=an);case"intersect":return(al<ak+(at.helperProportions.width/2)&&aj-(at.helperProportions.width/2)<ah&&ar<ap+(at.helperProportions.height/2)&&ao-(at.helperProportions.height/2)<an);case"pointer":return ag(ai.pageY,ar,am.proportions().height)&&ag(ai.pageX,al,am.proportions().width);case"touch":return((ap>=ar&&ap<=an)||(ao>=ar&&ao<=an)||(ap<ar&&ao>an))&&((ak>=al&&ak<=ah)||(aj>=al&&aj<=ah)||(ak<al&&aj>ah));default:return false}}})();K.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(aj,al){var ai,ah,ag=K.ui.ddmanager.droppables[aj.options.scope]||[],ak=al?al.type:null,am=(aj.currentItem||aj.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(ai=0;ai<ag.length;ai++){if(ag[ai].options.disabled||(aj&&!ag[ai].accept.call(ag[ai].element[0],(aj.currentItem||aj.element)))){continue}for(ah=0;ah<am.length;ah++){if(am[ah]===ag[ai].element[0]){ag[ai].proportions().height=0;continue droppablesLoop}}ag[ai].visible=ag[ai].element.css("display")!=="none";if(!ag[ai].visible){continue}if(ak==="mousedown"){ag[ai]._activate.call(ag[ai],al)}ag[ai].offset=ag[ai].element.offset();ag[ai].proportions({width:ag[ai].element[0].offsetWidth,height:ag[ai].element[0].offsetHeight})}},drop:function(ag,ah){var ai=false;K.each((K.ui.ddmanager.droppables[ag.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&K.ui.intersect(ag,this,this.options.tolerance,ah)){ai=this._drop.call(this,ah)||ai}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(ag.currentItem||ag.element))){this.isout=true;this.isover=false;this._deactivate.call(this,ah)}});return ai},dragStart:function(ag,ah){ag.element.parentsUntil("body").bind("scroll.droppable",function(){if(!ag.options.refreshPositions){K.ui.ddmanager.prepareOffsets(ag,ah)}})},drag:function(ag,ah){if(ag.options.refreshPositions){K.ui.ddmanager.prepareOffsets(ag,ah)}K.each(K.ui.ddmanager.droppables[ag.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var al,aj,ai,ak=K.ui.intersect(ag,this,this.options.tolerance,ah),am=!ak&&this.isover?"isout":(ak&&!this.isover?"isover":null);if(!am){return}if(this.options.greedy){aj=this.options.scope;ai=this.element.parents(":data(ui-droppable)").filter(function(){return K(this).droppable("instance").options.scope===aj});if(ai.length){al=K(ai[0]).droppable("instance");al.greedyChild=(am==="isover")}}if(al&&am==="isover"){al.isover=false;al.isout=true;al._out.call(al,ah)}this[am]=true;this[am==="isout"?"isover":"isout"]=false;this[am==="isover"?"_over":"_out"].call(this,ah);if(al&&am==="isout"){al.isout=false;al.isover=true;al._over.call(al,ah)}})},dragStop:function(ag,ah){ag.element.parentsUntil("body").unbind("scroll.droppable");if(!ag.options.refreshPositions){K.ui.ddmanager.prepareOffsets(ag,ah)}}};var d=K.ui.droppable;
/*
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
K.widget("ui.resizable",K.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(ag){return parseInt(ag,10)||0},_isNumber:function(ag){return !isNaN(parseInt(ag,10))},_hasScroll:function(aj,ah){if(K(aj).css("overflow")==="hidden"){return false}var ag=(ah&&ah==="left")?"scrollLeft":"scrollTop",ai=false;if(aj[ag]>0){return true}aj[ag]=1;ai=(aj[ag]>0);aj[ag]=0;return ai},_create:function(){var am,ah,ak,ai,ag,aj=this,al=this.options;this.element.addClass("ui-resizable");K.extend(this,{_aspectRatio:!!(al.aspectRatio),aspectRatio:al.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:al.helper||al.ghost||al.animate?al.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(K("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=al.handles||(!K(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=K();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}am=this.handles.split(",");this.handles={};for(ah=0;ah<am.length;ah++){ak=K.trim(am[ah]);ag="ui-resizable-"+ak;ai=K("<div class='ui-resizable-handle "+ag+"'></div>");ai.css({zIndex:al.zIndex});if("se"===ak){ai.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[ak]=".ui-resizable-"+ak;this.element.append(ai)}}this._renderAxis=function(ar){var ao,ap,an,aq;ar=ar||this.element;for(ao in this.handles){if(this.handles[ao].constructor===String){this.handles[ao]=this.element.children(this.handles[ao]).first().show()}else{if(this.handles[ao].jquery||this.handles[ao].nodeType){this.handles[ao]=K(this.handles[ao]);this._on(this.handles[ao],{mousedown:aj._mouseDown})}}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){ap=K(this.handles[ao],this.element);aq=/sw|ne|nw|se|n|s/.test(ao)?ap.outerHeight():ap.outerWidth();an=["padding",/ne|nw|n/.test(ao)?"Top":/se|sw|s/.test(ao)?"Bottom":/^e$/.test(ao)?"Right":"Left"].join("");ar.css(an,aq);this._proportionallyResize()}this._handles=this._handles.add(this.handles[ao])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){if(!aj.resizing){if(this.className){ai=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}aj.axis=ai&&ai[1]?ai[1]:"se"}});if(al.autoHide){this._handles.hide();K(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(al.disabled){return}K(this).removeClass("ui-resizable-autohide");aj._handles.show()}).mouseleave(function(){if(al.disabled){return}if(!aj.resizing){K(this).addClass("ui-resizable-autohide");aj._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var ah,ag=function(ai){K(ai).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){ag(this.element);ah=this.element;this.originalElement.css({position:ah.css("position"),width:ah.outerWidth(),height:ah.outerHeight(),top:ah.css("top"),left:ah.css("left")}).insertAfter(ah);ah.remove()}this.originalElement.css("resize",this.originalResizeStyle);ag(this.originalElement);return this},_mouseCapture:function(ai){var ah,aj,ag=false;for(ah in this.handles){aj=K(this.handles[ah])[0];if(aj===ai.target||K.contains(aj,ai.target)){ag=true}}return !this.options.disabled&&ag},_mouseStart:function(ah){var al,ai,ak,aj=this.options,ag=this.element;this.resizing=true;this._renderProxy();al=this._num(this.helper.css("left"));ai=this._num(this.helper.css("top"));if(aj.containment){al+=K(aj.containment).scrollLeft()||0;ai+=K(aj.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:al,top:ai};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:ag.width(),height:ag.height()};this.originalSize=this._helper?{width:ag.outerWidth(),height:ag.outerHeight()}:{width:ag.width(),height:ag.height()};this.sizeDiff={width:ag.outerWidth()-ag.width(),height:ag.outerHeight()-ag.height()};this.originalPosition={left:al,top:ai};this.originalMousePosition={left:ah.pageX,top:ah.pageY};this.aspectRatio=(typeof aj.aspectRatio==="number")?aj.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);ak=K(".ui-resizable-"+this.axis).css("cursor");K("body").css("cursor",ak==="auto"?this.axis+"-resize":ak);ag.addClass("ui-resizable-resizing");this._propagate("start",ah);return true},_mouseDrag:function(al){var am,ak,an=this.originalMousePosition,ah=this.axis,ai=(al.pageX-an.left)||0,ag=(al.pageY-an.top)||0,aj=this._change[ah];this._updatePrevProperties();if(!aj){return false}am=aj.apply(this,[al,ai,ag]);this._updateVirtualBoundaries(al.shiftKey);if(this._aspectRatio||al.shiftKey){am=this._updateRatio(am,al)}am=this._respectSize(am,al);this._updateCache(am);this._propagate("resize",al);ak=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!K.isEmptyObject(ak)){this._updatePrevProperties();this._trigger("resize",al,this.ui());this._applyChanges()}return false},_mouseStop:function(aj){this.resizing=false;var ai,ag,ah,am,ap,al,ao,ak=this.options,an=this;if(this._helper){ai=this._proportionallyResizeElements;ag=ai.length&&(/textarea/i).test(ai[0].nodeName);ah=ag&&this._hasScroll(ai[0],"left")?0:an.sizeDiff.height;am=ag?0:an.sizeDiff.width;ap={width:(an.helper.width()-am),height:(an.helper.height()-ah)};al=(parseInt(an.element.css("left"),10)+(an.position.left-an.originalPosition.left))||null;ao=(parseInt(an.element.css("top"),10)+(an.position.top-an.originalPosition.top))||null;if(!ak.animate){this.element.css(K.extend(ap,{top:ao,left:al}))}an.helper.height(an.size.height);an.helper.width(an.size.width);if(this._helper&&!ak.animate){this._proportionallyResize()}}K("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",aj);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var ag={};if(this.position.top!==this.prevPosition.top){ag.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){ag.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){ag.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){ag.height=this.size.height+"px"}this.helper.css(ag);return ag},_updateVirtualBoundaries:function(ai){var ak,aj,ah,am,ag,al=this.options;ag={minWidth:this._isNumber(al.minWidth)?al.minWidth:0,maxWidth:this._isNumber(al.maxWidth)?al.maxWidth:Infinity,minHeight:this._isNumber(al.minHeight)?al.minHeight:0,maxHeight:this._isNumber(al.maxHeight)?al.maxHeight:Infinity};if(this._aspectRatio||ai){ak=ag.minHeight*this.aspectRatio;ah=ag.minWidth/this.aspectRatio;aj=ag.maxHeight*this.aspectRatio;am=ag.maxWidth/this.aspectRatio;if(ak>ag.minWidth){ag.minWidth=ak}if(ah>ag.minHeight){ag.minHeight=ah}if(aj<ag.maxWidth){ag.maxWidth=aj}if(am<ag.maxHeight){ag.maxHeight=am}}this._vBoundaries=ag},_updateCache:function(ag){this.offset=this.helper.offset();if(this._isNumber(ag.left)){this.position.left=ag.left}if(this._isNumber(ag.top)){this.position.top=ag.top}if(this._isNumber(ag.height)){this.size.height=ag.height}if(this._isNumber(ag.width)){this.size.width=ag.width}},_updateRatio:function(ai){var aj=this.position,ah=this.size,ag=this.axis;if(this._isNumber(ai.height)){ai.width=(ai.height*this.aspectRatio)}else{if(this._isNumber(ai.width)){ai.height=(ai.width/this.aspectRatio)}}if(ag==="sw"){ai.left=aj.left+(ah.width-ai.width);ai.top=null}if(ag==="nw"){ai.top=aj.top+(ah.height-ai.height);ai.left=aj.left+(ah.width-ai.width)}return ai},_respectSize:function(al){var ai=this._vBoundaries,ao=this.axis,aq=this._isNumber(al.width)&&ai.maxWidth&&(ai.maxWidth<al.width),am=this._isNumber(al.height)&&ai.maxHeight&&(ai.maxHeight<al.height),aj=this._isNumber(al.width)&&ai.minWidth&&(ai.minWidth>al.width),ap=this._isNumber(al.height)&&ai.minHeight&&(ai.minHeight>al.height),ah=this.originalPosition.left+this.originalSize.width,an=this.position.top+this.size.height,ak=/sw|nw|w/.test(ao),ag=/nw|ne|n/.test(ao);if(aj){al.width=ai.minWidth}if(ap){al.height=ai.minHeight}if(aq){al.width=ai.maxWidth}if(am){al.height=ai.maxHeight}if(aj&&ak){al.left=ah-ai.minWidth}if(aq&&ak){al.left=ah-ai.maxWidth}if(ap&&ag){al.top=an-ai.minHeight}if(am&&ag){al.top=an-ai.maxHeight}if(!al.width&&!al.height&&!al.left&&al.top){al.top=null}else{if(!al.width&&!al.height&&!al.top&&al.left){al.left=null}}return al},_getPaddingPlusBorderDimensions:function(ai){var ah=0,aj=[],ak=[ai.css("borderTopWidth"),ai.css("borderRightWidth"),ai.css("borderBottomWidth"),ai.css("borderLeftWidth")],ag=[ai.css("paddingTop"),ai.css("paddingRight"),ai.css("paddingBottom"),ai.css("paddingLeft")];for(;ah<4;ah++){aj[ah]=(parseInt(ak[ah],10)||0);aj[ah]+=(parseInt(ag[ah],10)||0)}return{height:aj[0]+aj[2],width:aj[1]+aj[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var ai,ah=0,ag=this.helper||this.element;for(;ah<this._proportionallyResizeElements.length;ah++){ai=this._proportionallyResizeElements[ah];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(ai)}ai.css({height:(ag.height()-this.outerDimensions.height)||0,width:(ag.width()-this.outerDimensions.width)||0})}},_renderProxy:function(){var ag=this.element,ah=this.options;this.elementOffset=ag.offset();if(this._helper){this.helper=this.helper||K("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++ah.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(ah,ag){return{width:this.originalSize.width+ag}},w:function(ai,ag){var ah=this.originalSize,aj=this.originalPosition;return{left:aj.left+ag,width:ah.width-ag}},n:function(aj,ah,ag){var ai=this.originalSize,ak=this.originalPosition;return{top:ak.top+ag,height:ai.height-ag}},s:function(ai,ah,ag){return{height:this.originalSize.height+ag}},se:function(ai,ah,ag){return K.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[ai,ah,ag]))},sw:function(ai,ah,ag){return K.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[ai,ah,ag]))},ne:function(ai,ah,ag){return K.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[ai,ah,ag]))},nw:function(ai,ah,ag){return K.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[ai,ah,ag]))}},_propagate:function(ah,ag){K.ui.plugin.call(this,ah,[ag,this.ui()]);(ah!=="resize"&&this._trigger(ah,ag,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});K.ui.plugin.add("resizable","animate",{stop:function(aj){var ao=K(this).resizable("instance"),al=ao.options,ai=ao._proportionallyResizeElements,ag=ai.length&&(/textarea/i).test(ai[0].nodeName),ah=ag&&ao._hasScroll(ai[0],"left")?0:ao.sizeDiff.height,an=ag?0:ao.sizeDiff.width,ak={width:(ao.size.width-an),height:(ao.size.height-ah)},am=(parseInt(ao.element.css("left"),10)+(ao.position.left-ao.originalPosition.left))||null,ap=(parseInt(ao.element.css("top"),10)+(ao.position.top-ao.originalPosition.top))||null;ao.element.animate(K.extend(ak,ap&&am?{top:ap,left:am}:{}),{duration:al.animateDuration,easing:al.animateEasing,step:function(){var aq={width:parseInt(ao.element.css("width"),10),height:parseInt(ao.element.css("height"),10),top:parseInt(ao.element.css("top"),10),left:parseInt(ao.element.css("left"),10)};if(ai&&ai.length){K(ai[0]).css({width:aq.width,height:aq.height})}ao._updateCache(aq);ao._propagate("resize",aj)}})}});K.ui.plugin.add("resizable","containment",{start:function(){var ao,ai,aq,ag,an,aj,ar,ap=K(this).resizable("instance"),am=ap.options,al=ap.element,ah=am.containment,ak=(ah instanceof K)?ah.get(0):(/parent/.test(ah))?al.parent().get(0):ah;if(!ak){return}ap.containerElement=K(ak);if(/document/.test(ah)||ah===document){ap.containerOffset={left:0,top:0};ap.containerPosition={left:0,top:0};ap.parentData={element:K(document),left:0,top:0,width:K(document).width(),height:K(document).height()||document.body.parentNode.scrollHeight}}else{ao=K(ak);ai=[];K(["Top","Right","Left","Bottom"]).each(function(au,at){ai[au]=ap._num(ao.css("padding"+at))});ap.containerOffset=ao.offset();ap.containerPosition=ao.position();ap.containerSize={height:(ao.innerHeight()-ai[3]),width:(ao.innerWidth()-ai[1])};aq=ap.containerOffset;ag=ap.containerSize.height;an=ap.containerSize.width;aj=(ap._hasScroll(ak,"left")?ak.scrollWidth:an);ar=(ap._hasScroll(ak)?ak.scrollHeight:ag);ap.parentData={element:ak,left:aq.left,top:aq.top,width:aj,height:ar}}},resize:function(ah){var an,at,am,ak,ao=K(this).resizable("instance"),aj=ao.options,aq=ao.containerOffset,ap=ao.position,ar=ao._aspectRatio||ah.shiftKey,ag={top:0,left:0},ai=ao.containerElement,al=true;if(ai[0]!==document&&(/static/).test(ai.css("position"))){ag=aq}if(ap.left<(ao._helper?aq.left:0)){ao.size.width=ao.size.width+(ao._helper?(ao.position.left-aq.left):(ao.position.left-ag.left));if(ar){ao.size.height=ao.size.width/ao.aspectRatio;al=false}ao.position.left=aj.helper?aq.left:0}if(ap.top<(ao._helper?aq.top:0)){ao.size.height=ao.size.height+(ao._helper?(ao.position.top-aq.top):ao.position.top);if(ar){ao.size.width=ao.size.height*ao.aspectRatio;al=false}ao.position.top=ao._helper?aq.top:0}am=ao.containerElement.get(0)===ao.element.parent().get(0);ak=/relative|absolute/.test(ao.containerElement.css("position"));if(am&&ak){ao.offset.left=ao.parentData.left+ao.position.left;ao.offset.top=ao.parentData.top+ao.position.top}else{ao.offset.left=ao.element.offset().left;ao.offset.top=ao.element.offset().top}an=Math.abs(ao.sizeDiff.width+(ao._helper?ao.offset.left-ag.left:(ao.offset.left-aq.left)));at=Math.abs(ao.sizeDiff.height+(ao._helper?ao.offset.top-ag.top:(ao.offset.top-aq.top)));if(an+ao.size.width>=ao.parentData.width){ao.size.width=ao.parentData.width-an;if(ar){ao.size.height=ao.size.width/ao.aspectRatio;al=false}}if(at+ao.size.height>=ao.parentData.height){ao.size.height=ao.parentData.height-at;if(ar){ao.size.width=ao.size.height*ao.aspectRatio;al=false}}if(!al){ao.position.left=ao.prevPosition.left;ao.position.top=ao.prevPosition.top;ao.size.width=ao.prevSize.width;ao.size.height=ao.prevSize.height}},stop:function(){var al=K(this).resizable("instance"),ah=al.options,am=al.containerOffset,ag=al.containerPosition,ai=al.containerElement,aj=K(al.helper),ao=aj.offset(),an=aj.outerWidth()-al.sizeDiff.width,ak=aj.outerHeight()-al.sizeDiff.height;if(al._helper&&!ah.animate&&(/relative/).test(ai.css("position"))){K(this).css({left:ao.left-ag.left-am.left,width:an,height:ak})}if(al._helper&&!ah.animate&&(/static/).test(ai.css("position"))){K(this).css({left:ao.left-ag.left-am.left,width:an,height:ak})}}});K.ui.plugin.add("resizable","alsoResize",{start:function(){var ag=K(this).resizable("instance"),ah=ag.options;K(ah.alsoResize).each(function(){var ai=K(this);ai.data("ui-resizable-alsoresize",{width:parseInt(ai.width(),10),height:parseInt(ai.height(),10),left:parseInt(ai.css("left"),10),top:parseInt(ai.css("top"),10)})})},resize:function(ah,aj){var ag=K(this).resizable("instance"),ak=ag.options,ai=ag.originalSize,am=ag.originalPosition,al={height:(ag.size.height-ai.height)||0,width:(ag.size.width-ai.width)||0,top:(ag.position.top-am.top)||0,left:(ag.position.left-am.left)||0};K(ak.alsoResize).each(function(){var ap=K(this),aq=K(this).data("ui-resizable-alsoresize"),ao={},an=ap.parents(aj.originalElement[0]).length?["width","height"]:["width","height","top","left"];K.each(an,function(ar,au){var at=(aq[au]||0)+(al[au]||0);if(at&&at>=0){ao[au]=at||null}});ap.css(ao)})},stop:function(){K(this).removeData("resizable-alsoresize")}});K.ui.plugin.add("resizable","ghost",{start:function(){var ah=K(this).resizable("instance"),ai=ah.options,ag=ah.size;ah.ghost=ah.originalElement.clone();ah.ghost.css({opacity:0.25,display:"block",position:"relative",height:ag.height,width:ag.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof ai.ghost==="string"?ai.ghost:"");ah.ghost.appendTo(ah.helper)},resize:function(){var ag=K(this).resizable("instance");if(ag.ghost){ag.ghost.css({position:"relative",height:ag.size.height,width:ag.size.width})}},stop:function(){var ag=K(this).resizable("instance");if(ag.ghost&&ag.helper){ag.helper.get(0).removeChild(ag.ghost.get(0))}}});K.ui.plugin.add("resizable","grid",{resize:function(){var aj,ao=K(this).resizable("instance"),at=ao.options,am=ao.size,an=ao.originalSize,ap=ao.originalPosition,ay=ao.axis,ag=typeof at.grid==="number"?[at.grid,at.grid]:at.grid,aw=(ag[0]||1),av=(ag[1]||1),al=Math.round((am.width-an.width)/aw)*aw,ak=Math.round((am.height-an.height)/av)*av,aq=an.width+al,au=an.height+ak,ai=at.maxWidth&&(at.maxWidth<aq),ar=at.maxHeight&&(at.maxHeight<au),ax=at.minWidth&&(at.minWidth>aq),ah=at.minHeight&&(at.minHeight>au);at.grid=ag;if(ax){aq+=aw}if(ah){au+=av}if(ai){aq-=aw}if(ar){au-=av}if(/^(se|s|e)$/.test(ay)){ao.size.width=aq;ao.size.height=au}else{if(/^(ne)$/.test(ay)){ao.size.width=aq;ao.size.height=au;ao.position.top=ap.top-ak}else{if(/^(sw)$/.test(ay)){ao.size.width=aq;ao.size.height=au;ao.position.left=ap.left-al}else{if(au-av<=0||aq-aw<=0){aj=ao._getPaddingPlusBorderDimensions(this)}if(au-av>0){ao.size.height=au;ao.position.top=ap.top-ak}else{au=av-aj.height;ao.size.height=au;ao.position.top=ap.top+an.height-au}if(aq-aw>0){ao.size.width=aq;ao.position.left=ap.left-al}else{aq=aw-aj.width;ao.size.width=aq;ao.position.left=ap.left+an.width-aq}}}}}});var P=K.ui.resizable;
/*
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */
var e=K.widget("ui.selectable",K.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var ah,ag=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){ah=K(ag.options.filter,ag.element[0]);ah.addClass("ui-selectee");ah.each(function(){var ai=K(this),aj=ai.offset();K.data(this,"selectable-item",{element:this,$element:ai,left:aj.left,top:aj.top,right:aj.left+ai.outerWidth(),bottom:aj.top+ai.outerHeight(),startselected:false,selected:ai.hasClass("ui-selected"),selecting:ai.hasClass("ui-selecting"),unselecting:ai.hasClass("ui-unselecting")})})};this.refresh();this.selectees=ah.addClass("ui-selectee");this._mouseInit();this.helper=K("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(ai){var ah=this,ag=this.options;this.opos=[ai.pageX,ai.pageY];if(this.options.disabled){return}this.selectees=K(ag.filter,this.element[0]);this._trigger("start",ai);K(ag.appendTo).append(this.helper);this.helper.css({left:ai.pageX,top:ai.pageY,width:0,height:0});if(ag.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var aj=K.data(this,"selectable-item");aj.startselected=true;if(!ai.metaKey&&!ai.ctrlKey){aj.$element.removeClass("ui-selected");aj.selected=false;aj.$element.addClass("ui-unselecting");aj.unselecting=true;ah._trigger("unselecting",ai,{unselecting:aj.element})}});K(ai.target).parents().addBack().each(function(){var aj,ak=K.data(this,"selectable-item");if(ak){aj=(!ai.metaKey&&!ai.ctrlKey)||!ak.$element.hasClass("ui-selected");ak.$element.removeClass(aj?"ui-unselecting":"ui-selected").addClass(aj?"ui-selecting":"ui-unselecting");ak.unselecting=!aj;ak.selecting=aj;ak.selected=aj;if(aj){ah._trigger("selecting",ai,{selecting:ak.element})}else{ah._trigger("unselecting",ai,{unselecting:ak.element})}return false}})},_mouseDrag:function(an){this.dragged=true;if(this.options.disabled){return}var ak,am=this,ai=this.options,ah=this.opos[0],al=this.opos[1],ag=an.pageX,aj=an.pageY;if(ah>ag){ak=ag;ag=ah;ah=ak}if(al>aj){ak=aj;aj=al;al=ak}this.helper.css({left:ah,top:al,width:ag-ah,height:aj-al});this.selectees.each(function(){var ao=K.data(this,"selectable-item"),ap=false;if(!ao||ao.element===am.element[0]){return}if(ai.tolerance==="touch"){ap=(!(ao.left>ag||ao.right<ah||ao.top>aj||ao.bottom<al))}else{if(ai.tolerance==="fit"){ap=(ao.left>ah&&ao.right<ag&&ao.top>al&&ao.bottom<aj)}}if(ap){if(ao.selected){ao.$element.removeClass("ui-selected");ao.selected=false}if(ao.unselecting){ao.$element.removeClass("ui-unselecting");ao.unselecting=false}if(!ao.selecting){ao.$element.addClass("ui-selecting");ao.selecting=true;am._trigger("selecting",an,{selecting:ao.element})}}else{if(ao.selecting){if((an.metaKey||an.ctrlKey)&&ao.startselected){ao.$element.removeClass("ui-selecting");ao.selecting=false;ao.$element.addClass("ui-selected");ao.selected=true}else{ao.$element.removeClass("ui-selecting");ao.selecting=false;if(ao.startselected){ao.$element.addClass("ui-unselecting");ao.unselecting=true}am._trigger("unselecting",an,{unselecting:ao.element})}}if(ao.selected){if(!an.metaKey&&!an.ctrlKey&&!ao.startselected){ao.$element.removeClass("ui-selected");ao.selected=false;ao.$element.addClass("ui-unselecting");ao.unselecting=true;am._trigger("unselecting",an,{unselecting:ao.element})}}}});return false},_mouseStop:function(ah){var ag=this;this.dragged=false;K(".ui-unselecting",this.element[0]).each(function(){var ai=K.data(this,"selectable-item");ai.$element.removeClass("ui-unselecting");ai.unselecting=false;ai.startselected=false;ag._trigger("unselected",ah,{unselected:ai.element})});K(".ui-selecting",this.element[0]).each(function(){var ai=K.data(this,"selectable-item");ai.$element.removeClass("ui-selecting").addClass("ui-selected");ai.selecting=false;ai.selected=true;ai.startselected=true;ag._trigger("selected",ah,{selected:ai.element})});this._trigger("stop",ah);this.helper.remove();return false}});
/*
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
var E=K.widget("ui.sortable",K.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(ah,ag,ai){return(ah>=ag)&&(ah<(ag+ai))},_isFloating:function(ag){return(/left|right/).test(ag.css("float"))||(/inline|table-cell/).test(ag.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(ag,ah){this._super(ag,ah);if(ag==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");K.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var ag=this.items.length-1;ag>=0;ag--){this.items[ag].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(ai,aj){var ag=null,ak=false,ah=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(ai);K(ai.target).parents().each(function(){if(K.data(this,ah.widgetName+"-item")===ah){ag=K(this);return false}});if(K.data(ai.target,ah.widgetName+"-item")===ah){ag=K(ai.target)}if(!ag){return false}if(this.options.handle&&!aj){K(this.options.handle,ag).find("*").addBack().each(function(){if(this===ai.target){ak=true}});if(!ak){return false}}this.currentItem=ag;this._removeCurrentsFromItems();return true},_mouseStart:function(aj,ak,ah){var ai,ag,al=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(aj);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};K.extend(this.offset,{click:{left:aj.pageX-this.offset.left,top:aj.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(aj);this.originalPageX=aj.pageX;this.originalPageY=aj.pageY;(al.cursorAt&&this._adjustOffsetFromHelper(al.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(al.containment){this._setContainment()}if(al.cursor&&al.cursor!=="auto"){ag=this.document.find("body");this.storedCursor=ag.css("cursor");ag.css("cursor",al.cursor);this.storedStylesheet=K("<style>*{ cursor: "+al.cursor+" !important; }</style>").appendTo(ag)}if(al.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",al.opacity)}if(al.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",al.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",aj,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!ah){for(ai=this.containers.length-1;ai>=0;ai--){this.containers[ai]._trigger("activate",aj,this._uiHash(this))}}if(K.ui.ddmanager){K.ui.ddmanager.current=this}if(K.ui.ddmanager&&!al.dropBehaviour){K.ui.ddmanager.prepareOffsets(this,aj)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(aj);return true},_mouseDrag:function(ak){var ai,aj,ah,am,al=this.options,ag=false;this.position=this._generatePosition(ak);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-ak.pageY<al.scrollSensitivity){this.scrollParent[0].scrollTop=ag=this.scrollParent[0].scrollTop+al.scrollSpeed}else{if(ak.pageY-this.overflowOffset.top<al.scrollSensitivity){this.scrollParent[0].scrollTop=ag=this.scrollParent[0].scrollTop-al.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-ak.pageX<al.scrollSensitivity){this.scrollParent[0].scrollLeft=ag=this.scrollParent[0].scrollLeft+al.scrollSpeed}else{if(ak.pageX-this.overflowOffset.left<al.scrollSensitivity){this.scrollParent[0].scrollLeft=ag=this.scrollParent[0].scrollLeft-al.scrollSpeed}}}else{if(ak.pageY-this.document.scrollTop()<al.scrollSensitivity){ag=this.document.scrollTop(this.document.scrollTop()-al.scrollSpeed)}else{if(this.window.height()-(ak.pageY-this.document.scrollTop())<al.scrollSensitivity){ag=this.document.scrollTop(this.document.scrollTop()+al.scrollSpeed)}}if(ak.pageX-this.document.scrollLeft()<al.scrollSensitivity){ag=this.document.scrollLeft(this.document.scrollLeft()-al.scrollSpeed)}else{if(this.window.width()-(ak.pageX-this.document.scrollLeft())<al.scrollSensitivity){ag=this.document.scrollLeft(this.document.scrollLeft()+al.scrollSpeed)}}}if(ag!==false&&K.ui.ddmanager&&!al.dropBehaviour){K.ui.ddmanager.prepareOffsets(this,ak)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(ai=this.items.length-1;ai>=0;ai--){aj=this.items[ai];ah=aj.item[0];am=this._intersectsWithPointer(aj);if(!am){continue}if(aj.instance!==this.currentContainer){continue}if(ah!==this.currentItem[0]&&this.placeholder[am===1?"next":"prev"]()[0]!==ah&&!K.contains(this.placeholder[0],ah)&&(this.options.type==="semi-dynamic"?!K.contains(this.element[0],ah):true)){this.direction=am===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(aj)){this._rearrange(ak,aj)}else{break}this._trigger("change",ak,this._uiHash());break}}this._contactContainers(ak);if(K.ui.ddmanager){K.ui.ddmanager.drag(this,ak)}this._trigger("sort",ak,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(ai,ak){if(!ai){return}if(K.ui.ddmanager&&!this.options.dropBehaviour){K.ui.ddmanager.drop(this,ai)}if(this.options.revert){var ah=this,al=this.placeholder.offset(),ag=this.options.axis,aj={};if(!ag||ag==="x"){aj.left=al.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!ag||ag==="y"){aj.top=al.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;K(this.helper).animate(aj,parseInt(this.options.revert,10)||500,function(){ah._clear(ai)})}else{this._clear(ai,ak)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var ag=this.containers.length-1;ag>=0;ag--){this.containers[ag]._trigger("deactivate",null,this._uiHash(this));if(this.containers[ag].containerCache.over){this.containers[ag]._trigger("out",null,this._uiHash(this));this.containers[ag].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}K.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){K(this.domPosition.prev).after(this.currentItem)}else{K(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(ai){var ag=this._getItemsAsjQuery(ai&&ai.connected),ah=[];ai=ai||{};K(ag).each(function(){var aj=(K(ai.item||this).attr(ai.attribute||"id")||"").match(ai.expression||(/(.+)[\-=_](.+)/));if(aj){ah.push((ai.key||aj[1]+"[]")+"="+(ai.key&&ai.expression?aj[1]:aj[2]))}});if(!ah.length&&ai.key){ah.push(ai.key+"=")}return ah.join("&")},toArray:function(ai){var ag=this._getItemsAsjQuery(ai&&ai.connected),ah=[];ai=ai||{};ag.each(function(){ah.push(K(ai.item||this).attr(ai.attribute||"id")||"")});return ah},_intersectsWith:function(ar){var ai=this.positionAbs.left,ah=ai+this.helperProportions.width,ap=this.positionAbs.top,ao=ap+this.helperProportions.height,aj=ar.left,ag=aj+ar.width,at=ar.top,an=at+ar.height,au=this.offset.click.top,am=this.offset.click.left,al=(this.options.axis==="x")||((ap+au)>at&&(ap+au)<an),aq=(this.options.axis==="y")||((ai+am)>aj&&(ai+am)<ag),ak=al&&aq;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>ar[this.floating?"width":"height"])){return ak}else{return(aj<ai+(this.helperProportions.width/2)&&ah-(this.helperProportions.width/2)<ag&&at<ap+(this.helperProportions.height/2)&&ao-(this.helperProportions.height/2)<an)}},_intersectsWithPointer:function(ai){var aj=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,ai.top,ai.height),ah=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,ai.left,ai.width),al=aj&&ah,ag=this._getDragVerticalDirection(),ak=this._getDragHorizontalDirection();if(!al){return false}return this.floating?(((ak&&ak==="right")||ag==="down")?2:1):(ag&&(ag==="down"?2:1))},_intersectsWithSides:function(aj){var ah=this._isOverAxis(this.positionAbs.top+this.offset.click.top,aj.top+(aj.height/2),aj.height),ai=this._isOverAxis(this.positionAbs.left+this.offset.click.left,aj.left+(aj.width/2),aj.width),ag=this._getDragVerticalDirection(),ak=this._getDragHorizontalDirection();if(this.floating&&ak){return((ak==="right"&&ai)||(ak==="left"&&!ai))}else{return ag&&((ag==="down"&&ah)||(ag==="up"&&!ah))}},_getDragVerticalDirection:function(){var ag=this.positionAbs.top-this.lastPositionAbs.top;return ag!==0&&(ag>0?"down":"up")},_getDragHorizontalDirection:function(){var ag=this.positionAbs.left-this.lastPositionAbs.left;return ag!==0&&(ag>0?"right":"left")},refresh:function(ag){this._refreshItems(ag);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var ag=this.options;return ag.connectWith.constructor===String?[ag.connectWith]:ag.connectWith},_getItemsAsjQuery:function(ag){var ai,ah,an,ak,al=[],aj=[],am=this._connectWith();if(am&&ag){for(ai=am.length-1;ai>=0;ai--){an=K(am[ai],this.document[0]);for(ah=an.length-1;ah>=0;ah--){ak=K.data(an[ah],this.widgetFullName);if(ak&&ak!==this&&!ak.options.disabled){aj.push([K.isFunction(ak.options.items)?ak.options.items.call(ak.element):K(ak.options.items,ak.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),ak])}}}}aj.push([K.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):K(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function ao(){al.push(this)}for(ai=aj.length-1;ai>=0;ai--){aj[ai][0].each(ao)}return K(al)},_removeCurrentsFromItems:function(){var ag=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=K.grep(this.items,function(ai){for(var ah=0;ah<ag.length;ah++){if(ag[ah]===ai.item[0]){return false}}return true})},_refreshItems:function(ag){this.items=[];this.containers=[this];var ak,ai,ap,al,ao,ah,ar,aq,am=this.items,aj=[[K.isFunction(this.options.items)?this.options.items.call(this.element[0],ag,{item:this.currentItem}):K(this.options.items,this.element),this]],an=this._connectWith();if(an&&this.ready){for(ak=an.length-1;ak>=0;ak--){ap=K(an[ak],this.document[0]);for(ai=ap.length-1;ai>=0;ai--){al=K.data(ap[ai],this.widgetFullName);if(al&&al!==this&&!al.options.disabled){aj.push([K.isFunction(al.options.items)?al.options.items.call(al.element[0],ag,{item:this.currentItem}):K(al.options.items,al.element),al]);this.containers.push(al)}}}}for(ak=aj.length-1;ak>=0;ak--){ao=aj[ak][1];ah=aj[ak][0];for(ai=0,aq=ah.length;ai<aq;ai++){ar=K(ah[ai]);ar.data(this.widgetName+"-item",ao);am.push({item:ar,instance:ao,width:0,height:0,left:0,top:0})}}},refreshPositions:function(ag){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var ai,aj,ah,ak;for(ai=this.items.length-1;ai>=0;ai--){aj=this.items[ai];if(aj.instance!==this.currentContainer&&this.currentContainer&&aj.item[0]!==this.currentItem[0]){continue}ah=this.options.toleranceElement?K(this.options.toleranceElement,aj.item):aj.item;if(!ag){aj.width=ah.outerWidth();aj.height=ah.outerHeight()}ak=ah.offset();aj.left=ak.left;aj.top=ak.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(ai=this.containers.length-1;ai>=0;ai--){ak=this.containers[ai].element.offset();this.containers[ai].containerCache.left=ak.left;this.containers[ai].containerCache.top=ak.top;this.containers[ai].containerCache.width=this.containers[ai].element.outerWidth();this.containers[ai].containerCache.height=this.containers[ai].element.outerHeight()}}return this},_createPlaceholder:function(ah){ah=ah||this;var ag,ai=ah.options;if(!ai.placeholder||ai.placeholder.constructor===String){ag=ai.placeholder;ai.placeholder={element:function(){var ak=ah.currentItem[0].nodeName.toLowerCase(),aj=K("<"+ak+">",ah.document[0]).addClass(ag||ah.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(ak==="tbody"){ah._createTrPlaceholder(ah.currentItem.find("tr").eq(0),K("<tr>",ah.document[0]).appendTo(aj))}else{if(ak==="tr"){ah._createTrPlaceholder(ah.currentItem,aj)}else{if(ak==="img"){aj.attr("src",ah.currentItem.attr("src"))}}}if(!ag){aj.css("visibility","hidden")}return aj},update:function(aj,ak){if(ag&&!ai.forcePlaceholderSize){return}if(!ak.height()){ak.height(ah.currentItem.innerHeight()-parseInt(ah.currentItem.css("paddingTop")||0,10)-parseInt(ah.currentItem.css("paddingBottom")||0,10))}if(!ak.width()){ak.width(ah.currentItem.innerWidth()-parseInt(ah.currentItem.css("paddingLeft")||0,10)-parseInt(ah.currentItem.css("paddingRight")||0,10))}}}}ah.placeholder=K(ai.placeholder.element.call(ah.element,ah.currentItem));ah.currentItem.after(ah.placeholder);ai.placeholder.update(ah,ah.placeholder)},_createTrPlaceholder:function(ah,ag){var ai=this;ah.children().each(function(){K("<td>&#160;</td>",ai.document[0]).attr("colspan",K(this).attr("colspan")||1).appendTo(ag)})},_contactContainers:function(ag){var al,aj,ap,am,an,ar,at,ak,ao,ai,ah=null,aq=null;for(al=this.containers.length-1;al>=0;al--){if(K.contains(this.currentItem[0],this.containers[al].element[0])){continue}if(this._intersectsWith(this.containers[al].containerCache)){if(ah&&K.contains(this.containers[al].element[0],ah.element[0])){continue}ah=this.containers[al];aq=al}else{if(this.containers[al].containerCache.over){this.containers[al]._trigger("out",ag,this._uiHash(this));this.containers[al].containerCache.over=0}}}if(!ah){return}if(this.containers.length===1){if(!this.containers[aq].containerCache.over){this.containers[aq]._trigger("over",ag,this._uiHash(this));this.containers[aq].containerCache.over=1}}else{ap=10000;am=null;ao=ah.floating||this._isFloating(this.currentItem);an=ao?"left":"top";ar=ao?"width":"height";ai=ao?"clientX":"clientY";for(aj=this.items.length-1;aj>=0;aj--){if(!K.contains(this.containers[aq].element[0],this.items[aj].item[0])){continue}if(this.items[aj].item[0]===this.currentItem[0]){continue}at=this.items[aj].item.offset()[an];ak=false;if(ag[ai]-at>this.items[aj][ar]/2){ak=true}if(Math.abs(ag[ai]-at)<ap){ap=Math.abs(ag[ai]-at);am=this.items[aj];this.direction=ak?"up":"down"}}if(!am&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[aq]){if(!this.currentContainer.containerCache.over){this.containers[aq]._trigger("over",ag,this._uiHash());this.currentContainer.containerCache.over=1}return}am?this._rearrange(ag,am,null,true):this._rearrange(ag,null,this.containers[aq].element,true);this._trigger("change",ag,this._uiHash());this.containers[aq]._trigger("change",ag,this._uiHash(this));this.currentContainer=this.containers[aq];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[aq]._trigger("over",ag,this._uiHash(this));this.containers[aq].containerCache.over=1}},_createHelper:function(ah){var ai=this.options,ag=K.isFunction(ai.helper)?K(ai.helper.apply(this.element[0],[ah,this.currentItem])):(ai.helper==="clone"?this.currentItem.clone():this.currentItem);if(!ag.parents("body").length){K(ai.appendTo!=="parent"?ai.appendTo:this.currentItem[0].parentNode)[0].appendChild(ag[0])}if(ag[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!ag[0].style.width||ai.forceHelperSize){ag.width(this.currentItem.width())}if(!ag[0].style.height||ai.forceHelperSize){ag.height(this.currentItem.height())}return ag},_adjustOffsetFromHelper:function(ag){if(typeof ag==="string"){ag=ag.split(" ")}if(K.isArray(ag)){ag={left:+ag[0],top:+ag[1]||0}}if("left" in ag){this.offset.click.left=ag.left+this.margins.left}if("right" in ag){this.offset.click.left=this.helperProportions.width-ag.right+this.margins.left}if("top" in ag){this.offset.click.top=ag.top+this.margins.top}if("bottom" in ag){this.offset.click.top=this.helperProportions.height-ag.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var ag=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&K.contains(this.scrollParent[0],this.offsetParent[0])){ag.left+=this.scrollParent.scrollLeft();ag.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&K.ui.ie)){ag={top:0,left:0}}return{top:ag.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:ag.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var ag=this.currentItem.position();return{top:ag.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:ag.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ah,aj,ag,ai=this.options;if(ai.containment==="parent"){ai.containment=this.helper[0].parentNode}if(ai.containment==="document"||ai.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,ai.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(ai.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(ai.containment)){ah=K(ai.containment)[0];aj=K(ai.containment).offset();ag=(K(ah).css("overflow")!=="hidden");this.containment=[aj.left+(parseInt(K(ah).css("borderLeftWidth"),10)||0)+(parseInt(K(ah).css("paddingLeft"),10)||0)-this.margins.left,aj.top+(parseInt(K(ah).css("borderTopWidth"),10)||0)+(parseInt(K(ah).css("paddingTop"),10)||0)-this.margins.top,aj.left+(ag?Math.max(ah.scrollWidth,ah.offsetWidth):ah.offsetWidth)-(parseInt(K(ah).css("borderLeftWidth"),10)||0)-(parseInt(K(ah).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,aj.top+(ag?Math.max(ah.scrollHeight,ah.offsetHeight):ah.offsetHeight)-(parseInt(K(ah).css("borderTopWidth"),10)||0)-(parseInt(K(ah).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(ai,ak){if(!ak){ak=this.position}var ah=ai==="absolute"?1:-1,ag=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&K.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,aj=(/(html|body)/i).test(ag[0].tagName);return{top:(ak.top+this.offset.relative.top*ah+this.offset.parent.top*ah-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(aj?0:ag.scrollTop()))*ah)),left:(ak.left+this.offset.relative.left*ah+this.offset.parent.left*ah-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():aj?0:ag.scrollLeft())*ah))}},_generatePosition:function(aj){var al,ak,am=this.options,ai=aj.pageX,ah=aj.pageY,ag=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&K.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,an=(/(html|body)/i).test(ag[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(aj.pageX-this.offset.click.left<this.containment[0]){ai=this.containment[0]+this.offset.click.left}if(aj.pageY-this.offset.click.top<this.containment[1]){ah=this.containment[1]+this.offset.click.top}if(aj.pageX-this.offset.click.left>this.containment[2]){ai=this.containment[2]+this.offset.click.left}if(aj.pageY-this.offset.click.top>this.containment[3]){ah=this.containment[3]+this.offset.click.top}}if(am.grid){al=this.originalPageY+Math.round((ah-this.originalPageY)/am.grid[1])*am.grid[1];ah=this.containment?((al-this.offset.click.top>=this.containment[1]&&al-this.offset.click.top<=this.containment[3])?al:((al-this.offset.click.top>=this.containment[1])?al-am.grid[1]:al+am.grid[1])):al;ak=this.originalPageX+Math.round((ai-this.originalPageX)/am.grid[0])*am.grid[0];ai=this.containment?((ak-this.offset.click.left>=this.containment[0]&&ak-this.offset.click.left<=this.containment[2])?ak:((ak-this.offset.click.left>=this.containment[0])?ak-am.grid[0]:ak+am.grid[0])):ak}}return{top:(ah-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(an?0:ag.scrollTop())))),left:(ai-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():an?0:ag.scrollLeft())))}},_rearrange:function(ak,aj,ah,ai){ah?ah[0].appendChild(this.placeholder[0]):aj.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?aj.item[0]:aj.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var ag=this.counter;this._delay(function(){if(ag===this.counter){this.refreshPositions(!ai)}})},_clear:function(ah,aj){this.reverting=false;var ag,ak=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(ag in this._storedCSS){if(this._storedCSS[ag]==="auto"||this._storedCSS[ag]==="static"){this._storedCSS[ag]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!aj){ak.push(function(al){this._trigger("receive",al,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!aj){ak.push(function(al){this._trigger("update",al,this._uiHash())})}if(this!==this.currentContainer){if(!aj){ak.push(function(al){this._trigger("remove",al,this._uiHash())});ak.push((function(al){return function(am){al._trigger("receive",am,this._uiHash(this))}}).call(this,this.currentContainer));ak.push((function(al){return function(am){al._trigger("update",am,this._uiHash(this))}}).call(this,this.currentContainer))}}function ai(an,al,am){return function(ao){am._trigger(an,ao,al._uiHash(al))}}for(ag=this.containers.length-1;ag>=0;ag--){if(!aj){ak.push(ai("deactivate",this,this.containers[ag]))}if(this.containers[ag].containerCache.over){ak.push(ai("out",this,this.containers[ag]));this.containers[ag].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!aj){this._trigger("beforeStop",ah,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!aj){for(ag=0;ag<ak.length;ag++){ak[ag].call(this,ah)}this._trigger("stop",ah,this._uiHash())}this.fromOutside=false;return !this.cancelHelperRemoval},_trigger:function(){if(K.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(ag){var ah=ag||this;return{helper:ah.helper,placeholder:ah.placeholder||K([]),position:ah.position,originalPosition:ah.originalPosition,offset:ah.positionAbs,item:ah.currentItem,sender:ag?ag.element:null}}});
/*
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */
var af=K.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var ag=this.options;this.prevShow=this.prevHide=K();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!ag.collapsible&&(ag.active===false||ag.active==null)){ag.active=0}this._processPanels();if(ag.active<0){ag.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?K():this.active.next()}},_createIcons:function(){var ag=this.options.icons;if(ag){K("<span>").addClass("ui-accordion-header-icon ui-icon "+ag.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(ag.header).addClass(ag.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var ag;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();ag=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){ag.css("height","")}},_setOption:function(ag,ah){if(ag==="active"){this._activate(ah);return}if(ag==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(ah)}this._super(ag,ah);if(ag==="collapsible"&&!ah&&this.options.active===false){this._activate(0)}if(ag==="icons"){this._destroyIcons();if(ah){this._createIcons()}}if(ag==="disabled"){this.element.toggleClass("ui-state-disabled",!!ah).attr("aria-disabled",ah);this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!ah)}},_keydown:function(aj){if(aj.altKey||aj.ctrlKey){return}var ak=K.ui.keyCode,ai=this.headers.length,ag=this.headers.index(aj.target),ah=false;switch(aj.keyCode){case ak.RIGHT:case ak.DOWN:ah=this.headers[(ag+1)%ai];break;case ak.LEFT:case ak.UP:ah=this.headers[(ag-1+ai)%ai];break;case ak.SPACE:case ak.ENTER:this._eventHandler(aj);break;case ak.HOME:ah=this.headers[0];break;case ak.END:ah=this.headers[ai-1];break}if(ah){K(aj.target).attr("tabIndex",-1);K(ah).attr("tabIndex",0);ah.focus();aj.preventDefault()}},_panelKeyDown:function(ag){if(ag.keyCode===K.ui.keyCode.UP&&ag.ctrlKey){K(ag.currentTarget).prev().focus()}},refresh:function(){var ag=this.options;this._processPanels();if((ag.active===false&&ag.collapsible===true)||!this.headers.length){ag.active=false;this.active=K()}else{if(ag.active===false){this._activate(0)}else{if(this.active.length&&!K.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){ag.active=false;this.active=K()}else{this._activate(Math.max(0,ag.active-1))}}else{ag.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){var ah=this.headers,ag=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();if(ag){this._off(ah.not(this.headers));this._off(ag.not(this.panels))}},_refresh:function(){var aj,ah=this.options,ag=ah.heightStyle,ai=this.element.parent();this.active=this._findActive(ah.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var an=K(this),am=an.uniqueId().attr("id"),ak=an.next(),al=ak.uniqueId().attr("id");an.attr("aria-controls",al);ak.attr("aria-labelledby",am)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(ah.event);if(ag==="fill"){aj=ai.height();this.element.siblings(":visible").each(function(){var al=K(this),ak=al.css("position");if(ak==="absolute"||ak==="fixed"){return}aj-=al.outerHeight(true)});this.headers.each(function(){aj-=K(this).outerHeight(true)});this.headers.next().each(function(){K(this).height(Math.max(0,aj-K(this).innerHeight()+K(this).height()))}).css("overflow","auto")}else{if(ag==="auto"){aj=0;this.headers.next().each(function(){aj=Math.max(aj,K(this).css("height","").height())}).height(aj)}}},_activate:function(ag){var ah=this._findActive(ag)[0];if(ah===this.active[0]){return}ah=ah||this.active[0];this._eventHandler({target:ah,currentTarget:ah,preventDefault:K.noop})},_findActive:function(ag){return typeof ag==="number"?this.headers.eq(ag):K()},_setupEvents:function(ah){var ag={keydown:"_keydown"};if(ah){K.each(ah.split(" "),function(aj,ai){ag[ai]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,ag);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(ag){var ao=this.options,aj=this.active,ak=K(ag.currentTarget),am=ak[0]===aj[0],ah=am&&ao.collapsible,ai=ah?K():ak.next(),al=aj.next(),an={oldHeader:aj,oldPanel:al,newHeader:ah?K():ak,newPanel:ai};ag.preventDefault();if((am&&!ao.collapsible)||(this._trigger("beforeActivate",ag,an)===false)){return}ao.active=ah?false:this.headers.index(ak);this.active=am?K():ak;this._toggle(an);aj.removeClass("ui-accordion-header-active ui-state-active");if(ao.icons){aj.children(".ui-accordion-header-icon").removeClass(ao.icons.activeHeader).addClass(ao.icons.header)}if(!am){ak.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(ao.icons){ak.children(".ui-accordion-header-icon").removeClass(ao.icons.header).addClass(ao.icons.activeHeader)}ak.next().addClass("ui-accordion-content-active")}},_toggle:function(ai){var ag=ai.newPanel,ah=this.prevShow.length?this.prevShow:ai.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=ag;this.prevHide=ah;if(this.options.animate){this._animate(ag,ah,ai)}else{ah.hide();ag.show();this._toggleComplete(ai)}ah.attr({"aria-hidden":"true"});ah.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(ag.length&&ah.length){ah.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(ag.length){this.headers.filter(function(){return parseInt(K(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}}ag.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(ag,ap,al){var ao,an,ak,am=this,aq=0,aj=ag.css("box-sizing"),ar=ag.length&&(!ap.length||(ag.index()<ap.index())),ai=this.options.animate||{},at=ar&&ai.down||ai,ah=function(){am._toggleComplete(al)};if(typeof at==="number"){ak=at}if(typeof at==="string"){an=at}an=an||at.easing||ai.easing;ak=ak||at.duration||ai.duration;if(!ap.length){return ag.animate(this.showProps,ak,an,ah)}if(!ag.length){return ap.animate(this.hideProps,ak,an,ah)}ao=ag.show().outerHeight();ap.animate(this.hideProps,{duration:ak,easing:an,step:function(au,av){av.now=Math.round(au)}});ag.hide().animate(this.showProps,{duration:ak,easing:an,complete:ah,step:function(au,av){av.now=Math.round(au);if(av.prop!=="height"){if(aj==="content-box"){aq+=av.now}}else{if(am.options.heightStyle!=="content"){av.now=Math.round(ao-ap.outerHeight()-aq);aq=0}}}})},_toggleComplete:function(ah){var ag=ah.oldPanel;ag.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(ag.length){ag.parent()[0].className=ag.parent()[0].className}this._trigger("activate",null,ah)}});
/*
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
var ac=K.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item":function(ag){ag.preventDefault()},"click .ui-menu-item":function(ag){var ah=K(ag.target);if(!this.mouseHandled&&ah.not(".ui-state-disabled").length){this.select(ag);if(!ag.isPropagationStopped()){this.mouseHandled=true}if(ah.has(".ui-menu").length){this.expand(ag)}else{if(!this.element.is(":focus")&&K(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(ag){if(this.previousFilter){return}var ah=K(ag.currentTarget);ah.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(ag,ah)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(ai,ag){var ah=this.active||this.element.find(this.options.items).eq(0);if(!ag){this.focus(ai,ah)}},blur:function(ag){this._delay(function(){if(!K.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(ag)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(ag){if(this._closeOnDocumentClick(ag)){this.collapseAll(ag)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var ag=K(this);if(ag.data("ui-menu-submenu-carat")){ag.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(ak){var ah,aj,al,ai,ag=true;switch(ak.keyCode){case K.ui.keyCode.PAGE_UP:this.previousPage(ak);break;case K.ui.keyCode.PAGE_DOWN:this.nextPage(ak);break;case K.ui.keyCode.HOME:this._move("first","first",ak);break;case K.ui.keyCode.END:this._move("last","last",ak);break;case K.ui.keyCode.UP:this.previous(ak);break;case K.ui.keyCode.DOWN:this.next(ak);break;case K.ui.keyCode.LEFT:this.collapse(ak);break;case K.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(ak)}break;case K.ui.keyCode.ENTER:case K.ui.keyCode.SPACE:this._activate(ak);break;case K.ui.keyCode.ESCAPE:this.collapse(ak);break;default:ag=false;aj=this.previousFilter||"";al=String.fromCharCode(ak.keyCode);ai=false;clearTimeout(this.filterTimer);if(al===aj){ai=true}else{al=aj+al}ah=this._filterMenuItems(al);ah=ai&&ah.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):ah;if(!ah.length){al=String.fromCharCode(ak.keyCode);ah=this._filterMenuItems(al)}if(ah.length){this.focus(ak,ah);this.previousFilter=al;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}if(ag){ak.preventDefault()}},_activate:function(ag){if(!this.active.is(".ui-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(ag)}else{this.select(ag)}}},refresh:function(){var ak,ah,aj=this,ai=this.options.icons.submenu,ag=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);ag.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var an=K(this),am=an.parent(),al=K("<span>").addClass("ui-menu-icon ui-icon "+ai).data("ui-menu-submenu-carat",true);am.attr("aria-haspopup","true").prepend(al);an.attr("aria-labelledby",am.attr("id"))});ak=ag.add(this.element);ah=ak.find(this.options.items);ah.not(".ui-menu-item").each(function(){var al=K(this);if(aj._isDivider(al)){al.addClass("ui-widget-content ui-menu-divider")}});ah.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});ah.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!K.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(ag,ah){if(ag==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(ah.submenu)}if(ag==="disabled"){this.element.toggleClass("ui-state-disabled",!!ah).attr("aria-disabled",ah)}this._super(ag,ah)},focus:function(ah,ag){var aj,ai;this.blur(ah,ah&&ah.type==="focus");this._scrollIntoView(ag);this.active=ag.first();ai=this.active.addClass("ui-state-focus").removeClass("ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",ai.attr("id"))}this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(ah&&ah.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}aj=ag.children(".ui-menu");if(aj.length&&ah&&(/^mouse/.test(ah.type))){this._startOpening(aj)}this.activeMenu=ag.parent();this._trigger("focus",ah,{item:ag})},_scrollIntoView:function(aj){var am,ai,ak,ag,ah,al;if(this._hasScroll()){am=parseFloat(K.css(this.activeMenu[0],"borderTopWidth"))||0;ai=parseFloat(K.css(this.activeMenu[0],"paddingTop"))||0;ak=aj.offset().top-this.activeMenu.offset().top-am-ai;ag=this.activeMenu.scrollTop();ah=this.activeMenu.height();al=aj.outerHeight();if(ak<0){this.activeMenu.scrollTop(ag+ak)}else{if(ak+al>ah){this.activeMenu.scrollTop(ag+ak-ah+al)}}}},blur:function(ah,ag){if(!ag){clearTimeout(this.timer)}if(!this.active){return}this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",ah,{item:this.active})},_startOpening:function(ag){clearTimeout(this.timer);if(ag.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(ag)},this.delay)},_open:function(ah){var ag=K.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(ah.parents(".ui-menu")).hide().attr("aria-hidden","true");ah.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(ag)},collapseAll:function(ah,ag){clearTimeout(this.timer);this.timer=this._delay(function(){var ai=ag?this.element:K(ah&&ah.target).closest(this.element.find(".ui-menu"));if(!ai.length){ai=this.element}this._close(ai);this.blur(ah);this.activeMenu=ai},this.delay)},_close:function(ag){if(!ag){ag=this.active?this.active.parent():this.element}ag.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(ag){return !K(ag.target).closest(".ui-menu").length},_isDivider:function(ag){return !/[^\-\u2014\u2013\s]/.test(ag.text())},collapse:function(ah){var ag=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(ag&&ag.length){this._close();this.focus(ah,ag)}},expand:function(ah){var ag=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(ag&&ag.length){this._open(ag.parent());this._delay(function(){this.focus(ah,ag)})}},next:function(ag){this._move("next","first",ag)},previous:function(ag){this._move("prev","last",ag)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(aj,ah,ai){var ag;if(this.active){if(aj==="first"||aj==="last"){ag=this.active[aj==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{ag=this.active[aj+"All"](".ui-menu-item").eq(0)}}if(!ag||!ag.length||!this.active){ag=this.activeMenu.find(this.options.items)[ah]()}this.focus(ai,ag)},nextPage:function(ai){var ah,aj,ag;if(!this.active){this.next(ai);return}if(this.isLastItem()){return}if(this._hasScroll()){aj=this.active.offset().top;ag=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){ah=K(this);return ah.offset().top-aj-ag<0});this.focus(ai,ah)}else{this.focus(ai,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(ai){var ah,aj,ag;if(!this.active){this.next(ai);return}if(this.isFirstItem()){return}if(this._hasScroll()){aj=this.active.offset().top;ag=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){ah=K(this);return ah.offset().top-aj+ag>0});this.focus(ai,ah)}else{this.focus(ai,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(ag){this.active=this.active||K(ag.target).closest(".ui-menu-item");var ah={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(ag,true)}this._trigger("select",ag,ah)},_filterMenuItems:function(ai){var ag=ai.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),ah=new RegExp("^"+ag,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return ah.test(K.trim(K(this).text()))})}});
/*
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
K.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var ai,ag,aj,al=this.element[0].nodeName.toLowerCase(),ak=al==="textarea",ah=al==="input";this.isMultiLine=ak?true:ah?false:this.element.prop("isContentEditable");this.valueMethod=this.element[ak||ah?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(am){if(this.element.prop("readOnly")){ai=true;aj=true;ag=true;return}ai=false;aj=false;ag=false;var an=K.ui.keyCode;switch(am.keyCode){case an.PAGE_UP:ai=true;this._move("previousPage",am);break;case an.PAGE_DOWN:ai=true;this._move("nextPage",am);break;case an.UP:ai=true;this._keyEvent("previous",am);break;case an.DOWN:ai=true;this._keyEvent("next",am);break;case an.ENTER:if(this.menu.active){ai=true;am.preventDefault();this.menu.select(am)}break;case an.TAB:if(this.menu.active){this.menu.select(am)}break;case an.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(am);am.preventDefault()}break;default:ag=true;this._searchTimeout(am);break}},keypress:function(am){if(ai){ai=false;if(!this.isMultiLine||this.menu.element.is(":visible")){am.preventDefault()}return}if(ag){return}var an=K.ui.keyCode;switch(am.keyCode){case an.PAGE_UP:this._move("previousPage",am);break;case an.PAGE_DOWN:this._move("nextPage",am);break;case an.UP:this._keyEvent("previous",am);break;case an.DOWN:this._keyEvent("next",am);break}},input:function(am){if(aj){aj=false;am.preventDefault();return}this._searchTimeout(am)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(am){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(am);this._change(am)}});this._initSource();this.menu=K("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(am){am.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var an=this.menu.element[0];if(!K(am.target).closest(".ui-menu-item").length){this._delay(function(){var ao=this;this.document.one("mousedown",function(ap){if(ap.target!==ao.element[0]&&ap.target!==an&&!K.contains(an,ap.target)){ao.close()}})})}},menufocus:function(ao,ap){var am,an;if(this.isNewMenu){this.isNewMenu=false;if(ao.originalEvent&&/^mouse/.test(ao.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){K(ao.target).trigger(ao.originalEvent)});return}}an=ap.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",ao,{item:an})){if(ao.originalEvent&&/^key/.test(ao.originalEvent.type)){this._value(an.value)}}am=ap.item.attr("aria-label")||an.value;if(am&&K.trim(am).length){this.liveRegion.children().hide();K("<div>").text(am).appendTo(this.liveRegion)}},menuselect:function(ao,ap){var an=ap.item.data("ui-autocomplete-item"),am=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=am;this._delay(function(){this.previous=am;this.selectedItem=an})}if(false!==this._trigger("select",ao,{item:an})){this._value(an.value)}this.term=this._value();this.close(ao);this.selectedItem=an}});this.liveRegion=K("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(ag,ah){this._super(ag,ah);if(ag==="source"){this._initSource()}if(ag==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(ag==="disabled"&&ah&&this.xhr){this.xhr.abort()}},_appendTo:function(){var ag=this.options.appendTo;if(ag){ag=ag.jquery||ag.nodeType?K(ag):this.document.find(ag).eq(0)}if(!ag||!ag[0]){ag=this.element.closest(".ui-front")}if(!ag.length){ag=this.document[0].body}return ag},_initSource:function(){var ai,ag,ah=this;if(K.isArray(this.options.source)){ai=this.options.source;this.source=function(ak,aj){aj(K.ui.autocomplete.filter(ai,ak.term))}}else{if(typeof this.options.source==="string"){ag=this.options.source;this.source=function(ak,aj){if(ah.xhr){ah.xhr.abort()}ah.xhr=K.ajax({url:ag,data:ak,dataType:"json",success:function(al){aj(al)},error:function(){aj([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(ag){clearTimeout(this.searching);this.searching=this._delay(function(){var ai=this.term===this._value(),ah=this.menu.element.is(":visible"),aj=ag.altKey||ag.ctrlKey||ag.metaKey||ag.shiftKey;if(!ai||(ai&&!ah&&!aj)){this.selectedItem=null;this.search(null,ag)}},this.options.delay)},search:function(ah,ag){ah=ah!=null?ah:this._value();this.term=this._value();if(ah.length<this.options.minLength){return this.close(ag)}if(this._trigger("search",ag)===false){return}return this._search(ah)},_search:function(ag){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:ag},this._response())},_response:function(){var ag=++this.requestIndex;return K.proxy(function(ah){if(ag===this.requestIndex){this.__response(ah)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(ag){if(ag){ag=this._normalize(ag)}this._trigger("response",null,{content:ag});if(!this.options.disabled&&ag&&ag.length&&!this.cancelSearch){this._suggest(ag);this._trigger("open")}else{this._close()}},close:function(ag){this.cancelSearch=true;this._close(ag)},_close:function(ag){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",ag)}},_change:function(ag){if(this.previous!==this._value()){this._trigger("change",ag,{item:this.selectedItem})}},_normalize:function(ag){if(ag.length&&ag[0].label&&ag[0].value){return ag}return K.map(ag,function(ah){if(typeof ah==="string"){return{label:ah,value:ah}}return K.extend({},ah,{label:ah.label||ah.value,value:ah.value||ah.label})})},_suggest:function(ag){var ah=this.menu.element.empty();this._renderMenu(ah,ag);this.isNewMenu=true;this.menu.refresh();ah.show();this._resizeMenu();ah.position(K.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var ag=this.menu.element;ag.outerWidth(Math.max(ag.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ah,ag){var ai=this;K.each(ag,function(aj,ak){ai._renderItemData(ah,ak)})},_renderItemData:function(ag,ah){return this._renderItem(ag,ah).data("ui-autocomplete-item",ah)},_renderItem:function(ag,ah){return K("<li>").text(ah.label).appendTo(ag)},_move:function(ah,ag){if(!this.menu.element.is(":visible")){this.search(null,ag);return}if(this.menu.isFirstItem()&&/^previous/.test(ah)||this.menu.isLastItem()&&/^next/.test(ah)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return}this.menu[ah](ag)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(ah,ag){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(ah,ag);ag.preventDefault()}}});K.extend(K.ui.autocomplete,{escapeRegex:function(ag){return ag.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(ai,ag){var ah=new RegExp(K.ui.autocomplete.escapeRegex(ag),"i");return K.grep(ai,function(aj){return ah.test(aj.label||aj.value||aj)})}});K.widget("ui.autocomplete",K.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(ag){return ag+(ag>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(ah){var ag;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(ah&&ah.length){ag=this.options.messages.results(ah.length)}else{ag=this.options.messages.noResults}this.liveRegion.children().hide();K("<div>").text(ag).appendTo(this.liveRegion)}});var c=K.ui.autocomplete;
/*
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
var t,ab="ui-button ui-widget ui-state-default ui-corner-all",A="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var ag=K(this);setTimeout(function(){ag.find(":ui-button").button("refresh")},1)},B=function(ah){var ag=ah.name,ai=ah.form,aj=K([]);if(ag){ag=ag.replace(/'/g,"\\'");if(ai){aj=K(ai).find("[name='"+ag+"'][type=radio]")}else{aj=K("[name='"+ag+"'][type=radio]",ah.ownerDocument).filter(function(){return !this.form})}}return aj};K.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var ai=this,ag=this.options,aj=this.type==="checkbox"||this.type==="radio",ah=!aj?"ui-state-active":"";if(ag.label===null){ag.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(ab).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(ag.disabled){return}if(this===t){K(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(ag.disabled){return}K(this).removeClass(ah)}).bind("click"+this.eventNamespace,function(ak){if(ag.disabled){ak.preventDefault();ak.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});if(aj){this.element.bind("change"+this.eventNamespace,function(){ai.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(ag.disabled){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(ag.disabled){return false}K(this).addClass("ui-state-active");ai.buttonElement.attr("aria-pressed","true");var ak=ai.element[0];B(ak).not(ak).map(function(){return K(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(ag.disabled){return false}K(this).addClass("ui-state-active");t=this;ai.document.one("mouseup",function(){t=null})}).bind("mouseup"+this.eventNamespace,function(){if(ag.disabled){return false}K(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(ak){if(ag.disabled){return false}if(ak.keyCode===K.ui.keyCode.SPACE||ak.keyCode===K.ui.keyCode.ENTER){K(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){K(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(ak){if(ak.keyCode===K.ui.keyCode.SPACE){K(this).click()}})}}}this._setOption("disabled",ag.disabled);this._resetButton()},_determineButtonType:function(){var ag,ai,ah;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){ag=this.element.parents().last();ai="label[for='"+this.element.attr("id")+"']";this.buttonElement=ag.find(ai);if(!this.buttonElement.length){ag=ag.length?ag.siblings():this.element.siblings();this.buttonElement=ag.filter(ai);if(!this.buttonElement.length){this.buttonElement=ag.find(ai)}}this.element.addClass("ui-helper-hidden-accessible");ah=this.element.is(":checked");if(ah){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",ah)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(ab+" ui-state-active "+A).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(ag,ah){this._super(ag,ah);if(ag==="disabled"){this.widget().toggleClass("ui-state-disabled",!!ah);this.element.prop("disabled",!!ah);if(ah){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.removeClass("ui-state-focus")}else{this.buttonElement.removeClass("ui-state-focus ui-state-active")}}return}this._resetButton()},refresh:function(){var ag=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(ag!==this.options.disabled){this._setOption("disabled",ag)}if(this.type==="radio"){B(this.element[0]).each(function(){if(K(this).is(":checked")){K(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{K(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var ak=this.buttonElement.removeClass(A),ai=K("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(ak.empty()).text(),ah=this.options.icons,ag=ah.primary&&ah.secondary,aj=[];if(ah.primary||ah.secondary){if(this.options.text){aj.push("ui-button-text-icon"+(ag?"s":(ah.primary?"-primary":"-secondary")))}if(ah.primary){ak.prepend("<span class='ui-button-icon-primary ui-icon "+ah.primary+"'></span>")}if(ah.secondary){ak.append("<span class='ui-button-icon-secondary ui-icon "+ah.secondary+"'></span>")}if(!this.options.text){aj.push(ag?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){ak.attr("title",K.trim(ai))}}}else{aj.push("ui-button-text-only")}ak.addClass(aj.join(" "))}});K.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(ag,ah){if(ag==="disabled"){this.buttons.button("option",ag,ah)}this._super(ag,ah)},refresh:function(){var ah=this.element.css("direction")==="rtl",ag=this.element.find(this.options.items),ai=ag.filter(":ui-button");ag.not(":ui-button").button();ai.button("refresh");this.buttons=ag.map(function(){return K(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(ah?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(ah?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return K(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var s=K.ui.button;
/*
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */
K.extend(K.ui,{datepicker:{version:"1.11.4"}});var m;function v(ah){var ag,ai;while(ah.length&&ah[0]!==document){ag=ah.css("position");if(ag==="absolute"||ag==="relative"||ag==="fixed"){ai=parseInt(ah.css("zIndex"),10);if(!isNaN(ai)&&ai!==0){return ai}}ah=ah.parent()}return 0}function ae(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};K.extend(this._defaults,this.regional[""]);this.regional.en=K.extend(true,{},this.regional[""]);this.regional["en-US"]=K.extend(true,{},this.regional.en);this.dpDiv=h(K("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}K.extend(ae.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(ag){z(this._defaults,ag||{});return this},_attachDatepicker:function(aj,ag){var ak,ai,ah;ak=aj.nodeName.toLowerCase();ai=(ak==="div"||ak==="span");if(!aj.id){this.uuid+=1;aj.id="dp"+this.uuid}ah=this._newInst(K(aj),ai);ah.settings=K.extend({},ag||{});if(ak==="input"){this._connectDatepicker(aj,ah)}else{if(ai){this._inlineDatepicker(aj,ah)}}},_newInst:function(ah,ag){var ai=ah[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:ai,input:ah,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:ag,dpDiv:(!ag?this.dpDiv:h(K("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(ai,ah){var ag=K(ai);ah.append=K([]);ah.trigger=K([]);if(ag.hasClass(this.markerClassName)){return}this._attachments(ag,ah);ag.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(ah);K.data(ai,"datepicker",ah);if(ah.settings.disabled){this._disableDatepicker(ai)}},_attachments:function(ai,al){var ah,ak,ag,am=this._get(al,"appendText"),aj=this._get(al,"isRTL");if(al.append){al.append.remove()}if(am){al.append=K("<span class='"+this._appendClass+"'>"+am+"</span>");ai[aj?"before":"after"](al.append)}ai.unbind("focus",this._showDatepicker);if(al.trigger){al.trigger.remove()}ah=this._get(al,"showOn");if(ah==="focus"||ah==="both"){ai.focus(this._showDatepicker)}if(ah==="button"||ah==="both"){ak=this._get(al,"buttonText");ag=this._get(al,"buttonImage");al.trigger=K(this._get(al,"buttonImageOnly")?K("<img/>").addClass(this._triggerClass).attr({src:ag,alt:ak,title:ak}):K("<button type='button'></button>").addClass(this._triggerClass).html(!ag?ak:K("<img/>").attr({src:ag,alt:ak,title:ak})));ai[aj?"before":"after"](al.trigger);al.trigger.click(function(){if(K.datepicker._datepickerShowing&&K.datepicker._lastInput===ai[0]){K.datepicker._hideDatepicker()}else{if(K.datepicker._datepickerShowing&&K.datepicker._lastInput!==ai[0]){K.datepicker._hideDatepicker();K.datepicker._showDatepicker(ai[0])}else{K.datepicker._showDatepicker(ai[0])}}return false})}},_autoSize:function(am){if(this._get(am,"autoSize")&&!am.inline){var aj,ah,ai,al,ak=new Date(2009,12-1,20),ag=this._get(am,"dateFormat");if(ag.match(/[DM]/)){aj=function(an){ah=0;ai=0;for(al=0;al<an.length;al++){if(an[al].length>ah){ah=an[al].length;ai=al}}return ai};ak.setMonth(aj(this._get(am,(ag.match(/MM/)?"monthNames":"monthNamesShort"))));ak.setDate(aj(this._get(am,(ag.match(/DD/)?"dayNames":"dayNamesShort")))+20-ak.getDay())}am.input.attr("size",this._formatDate(am,ak).length)}},_inlineDatepicker:function(ah,ag){var ai=K(ah);if(ai.hasClass(this.markerClassName)){return}ai.addClass(this.markerClassName).append(ag.dpDiv);K.data(ah,"datepicker",ag);this._setDate(ag,this._getDefaultDate(ag),true);this._updateDatepicker(ag);this._updateAlternate(ag);if(ag.settings.disabled){this._disableDatepicker(ah)}ag.dpDiv.css("display","block")},_dialogDatepicker:function(an,ah,al,ai,am){var ag,aq,ak,ap,ao,aj=this._dialogInst;if(!aj){this.uuid+=1;ag="dp"+this.uuid;this._dialogInput=K("<input type='text' id='"+ag+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);K("body").append(this._dialogInput);aj=this._dialogInst=this._newInst(this._dialogInput,false);aj.settings={};K.data(this._dialogInput[0],"datepicker",aj)}z(aj.settings,ai||{});ah=(ah&&ah.constructor===Date?this._formatDate(aj,ah):ah);this._dialogInput.val(ah);this._pos=(am?(am.length?am:[am.pageX,am.pageY]):null);if(!this._pos){aq=document.documentElement.clientWidth;ak=document.documentElement.clientHeight;ap=document.documentElement.scrollLeft||document.body.scrollLeft;ao=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(aq/2)-100+ap,(ak/2)-150+ao]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");aj.settings.onSelect=al;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(K.blockUI){K.blockUI(this.dpDiv)}K.data(this._dialogInput[0],"datepicker",aj);return this},_destroyDatepicker:function(ai){var aj,ag=K(ai),ah=K.data(ai,"datepicker");if(!ag.hasClass(this.markerClassName)){return}aj=ai.nodeName.toLowerCase();K.removeData(ai,"datepicker");if(aj==="input"){ah.append.remove();ah.trigger.remove();ag.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(aj==="div"||aj==="span"){ag.removeClass(this.markerClassName).empty()}}if(m===ah){m=null}},_enableDatepicker:function(aj){var ak,ai,ag=K(aj),ah=K.data(aj,"datepicker");if(!ag.hasClass(this.markerClassName)){return}ak=aj.nodeName.toLowerCase();if(ak==="input"){aj.disabled=false;ah.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(ak==="div"||ak==="span"){ai=ag.children("."+this._inlineClass);ai.children().removeClass("ui-state-disabled");ai.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=K.map(this._disabledInputs,function(al){return(al===aj?null:al)})},_disableDatepicker:function(aj){var ak,ai,ag=K(aj),ah=K.data(aj,"datepicker");if(!ag.hasClass(this.markerClassName)){return}ak=aj.nodeName.toLowerCase();if(ak==="input"){aj.disabled=true;ah.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(ak==="div"||ak==="span"){ai=ag.children("."+this._inlineClass);ai.children().addClass("ui-state-disabled");ai.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=K.map(this._disabledInputs,function(al){return(al===aj?null:al)});this._disabledInputs[this._disabledInputs.length]=aj},_isDisabledDatepicker:function(ah){if(!ah){return false}for(var ag=0;ag<this._disabledInputs.length;ag++){if(this._disabledInputs[ag]===ah){return true}}return false},_getInst:function(ah){try{return K.data(ah,"datepicker")}catch(ag){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(am,ah,al){var ai,ag,ak,an,aj=this._getInst(am);if(arguments.length===2&&typeof ah==="string"){return(ah==="defaults"?K.extend({},K.datepicker._defaults):(aj?(ah==="all"?K.extend({},aj.settings):this._get(aj,ah)):null))}ai=ah||{};if(typeof ah==="string"){ai={};ai[ah]=al}if(aj){if(this._curInst===aj){this._hideDatepicker()}ag=this._getDateDatepicker(am,true);ak=this._getMinMaxDate(aj,"min");an=this._getMinMaxDate(aj,"max");z(aj.settings,ai);if(ak!==null&&ai.dateFormat!==undefined&&ai.minDate===undefined){aj.settings.minDate=this._formatDate(aj,ak)}if(an!==null&&ai.dateFormat!==undefined&&ai.maxDate===undefined){aj.settings.maxDate=this._formatDate(aj,an)}if("disabled" in ai){if(ai.disabled){this._disableDatepicker(am)}else{this._enableDatepicker(am)}}this._attachments(K(am),aj);this._autoSize(aj);this._setDate(aj,ag);this._updateAlternate(aj);this._updateDatepicker(aj)}},_changeDatepicker:function(ai,ag,ah){this._optionDatepicker(ai,ag,ah)},_refreshDatepicker:function(ah){var ag=this._getInst(ah);if(ag){this._updateDatepicker(ag)}},_setDateDatepicker:function(ai,ag){var ah=this._getInst(ai);if(ah){this._setDate(ah,ag);this._updateDatepicker(ah);this._updateAlternate(ah)}},_getDateDatepicker:function(ai,ag){var ah=this._getInst(ai);if(ah&&!ah.inline){this._setDateFromField(ah,ag)}return(ah?this._getDate(ah):null)},_doKeyDown:function(aj){var ah,ag,al,ak=K.datepicker._getInst(aj.target),am=true,ai=ak.dpDiv.is(".ui-datepicker-rtl");ak._keyEvent=true;if(K.datepicker._datepickerShowing){switch(aj.keyCode){case 9:K.datepicker._hideDatepicker();am=false;break;case 13:al=K("td."+K.datepicker._dayOverClass+":not(."+K.datepicker._currentClass+")",ak.dpDiv);if(al[0]){K.datepicker._selectDay(aj.target,ak.selectedMonth,ak.selectedYear,al[0])}ah=K.datepicker._get(ak,"onSelect");if(ah){ag=K.datepicker._formatDate(ak);ah.apply((ak.input?ak.input[0]:null),[ag,ak])}else{K.datepicker._hideDatepicker()}return false;case 27:K.datepicker._hideDatepicker();break;case 33:K.datepicker._adjustDate(aj.target,(aj.ctrlKey?-K.datepicker._get(ak,"stepBigMonths"):-K.datepicker._get(ak,"stepMonths")),"M");break;case 34:K.datepicker._adjustDate(aj.target,(aj.ctrlKey?+K.datepicker._get(ak,"stepBigMonths"):+K.datepicker._get(ak,"stepMonths")),"M");break;case 35:if(aj.ctrlKey||aj.metaKey){K.datepicker._clearDate(aj.target)}am=aj.ctrlKey||aj.metaKey;break;case 36:if(aj.ctrlKey||aj.metaKey){K.datepicker._gotoToday(aj.target)}am=aj.ctrlKey||aj.metaKey;break;case 37:if(aj.ctrlKey||aj.metaKey){K.datepicker._adjustDate(aj.target,(ai?+1:-1),"D")}am=aj.ctrlKey||aj.metaKey;if(aj.originalEvent.altKey){K.datepicker._adjustDate(aj.target,(aj.ctrlKey?-K.datepicker._get(ak,"stepBigMonths"):-K.datepicker._get(ak,"stepMonths")),"M")}break;case 38:if(aj.ctrlKey||aj.metaKey){K.datepicker._adjustDate(aj.target,-7,"D")}am=aj.ctrlKey||aj.metaKey;break;case 39:if(aj.ctrlKey||aj.metaKey){K.datepicker._adjustDate(aj.target,(ai?-1:+1),"D")}am=aj.ctrlKey||aj.metaKey;if(aj.originalEvent.altKey){K.datepicker._adjustDate(aj.target,(aj.ctrlKey?+K.datepicker._get(ak,"stepBigMonths"):+K.datepicker._get(ak,"stepMonths")),"M")}break;case 40:if(aj.ctrlKey||aj.metaKey){K.datepicker._adjustDate(aj.target,+7,"D")}am=aj.ctrlKey||aj.metaKey;break;default:am=false}}else{if(aj.keyCode===36&&aj.ctrlKey){K.datepicker._showDatepicker(this)}else{am=false}}if(am){aj.preventDefault();aj.stopPropagation()}},_doKeyPress:function(ai){var ah,ag,aj=K.datepicker._getInst(ai.target);if(K.datepicker._get(aj,"constrainInput")){ah=K.datepicker._possibleChars(K.datepicker._get(aj,"dateFormat"));ag=String.fromCharCode(ai.charCode==null?ai.keyCode:ai.charCode);return ai.ctrlKey||ai.metaKey||(ag<" "||!ah||ah.indexOf(ag)>-1)}},_doKeyUp:function(ai){var ag,aj=K.datepicker._getInst(ai.target);if(aj.input.val()!==aj.lastVal){try{ag=K.datepicker.parseDate(K.datepicker._get(aj,"dateFormat"),(aj.input?aj.input.val():null),K.datepicker._getFormatConfig(aj));if(ag){K.datepicker._setDateFromField(aj);K.datepicker._updateAlternate(aj);K.datepicker._updateDatepicker(aj)}}catch(ah){}}return true},_showDatepicker:function(ah){ah=ah.target||ah;if(ah.nodeName.toLowerCase()!=="input"){ah=K("input",ah.parentNode)[0]}if(K.datepicker._isDisabledDatepicker(ah)||K.datepicker._lastInput===ah){return}var aj,an,ai,al,am,ag,ak;aj=K.datepicker._getInst(ah);if(K.datepicker._curInst&&K.datepicker._curInst!==aj){K.datepicker._curInst.dpDiv.stop(true,true);if(aj&&K.datepicker._datepickerShowing){K.datepicker._hideDatepicker(K.datepicker._curInst.input[0])}}an=K.datepicker._get(aj,"beforeShow");ai=an?an.apply(ah,[ah,aj]):{};if(ai===false){return}z(aj.settings,ai);aj.lastVal=null;K.datepicker._lastInput=ah;K.datepicker._setDateFromField(aj);if(K.datepicker._inDialog){ah.value=""}if(!K.datepicker._pos){K.datepicker._pos=K.datepicker._findPos(ah);K.datepicker._pos[1]+=ah.offsetHeight}al=false;K(ah).parents().each(function(){al|=K(this).css("position")==="fixed";return !al});am={left:K.datepicker._pos[0],top:K.datepicker._pos[1]};K.datepicker._pos=null;aj.dpDiv.empty();aj.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});K.datepicker._updateDatepicker(aj);am=K.datepicker._checkOffset(aj,am,al);aj.dpDiv.css({position:(K.datepicker._inDialog&&K.blockUI?"static":(al?"fixed":"absolute")),display:"none",left:am.left+"px",top:am.top+"px"});if(!aj.inline){ag=K.datepicker._get(aj,"showAnim");ak=K.datepicker._get(aj,"duration");aj.dpDiv.css("z-index",v(K(ah))+1);K.datepicker._datepickerShowing=true;if(K.effects&&K.effects.effect[ag]){aj.dpDiv.show(ag,K.datepicker._get(aj,"showOptions"),ak)}else{aj.dpDiv[ag||"show"](ag?ak:null)}if(K.datepicker._shouldFocusInput(aj)){aj.input.focus()}K.datepicker._curInst=aj}},_updateDatepicker:function(aj){this.maxRows=4;m=aj;aj.dpDiv.empty().append(this._generateHTML(aj));this._attachHandlers(aj);var al,ag=this._getNumberOfMonths(aj),ak=ag[1],ai=17,ah=aj.dpDiv.find("."+this._dayOverClass+" a");if(ah.length>0){q.apply(ah.get(0))}aj.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(ak>1){aj.dpDiv.addClass("ui-datepicker-multi-"+ak).css("width",(ai*ak)+"em")}aj.dpDiv[(ag[0]!==1||ag[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");aj.dpDiv[(this._get(aj,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(aj===K.datepicker._curInst&&K.datepicker._datepickerShowing&&K.datepicker._shouldFocusInput(aj)){aj.input.focus()}if(aj.yearshtml){al=aj.yearshtml;setTimeout(function(){if(al===aj.yearshtml&&aj.yearshtml){aj.dpDiv.find("select.ui-datepicker-year:first").replaceWith(aj.yearshtml)}al=aj.yearshtml=null},0)}},_shouldFocusInput:function(ag){return ag.input&&ag.input.is(":visible")&&!ag.input.is(":disabled")&&!ag.input.is(":focus")},_checkOffset:function(al,aj,ai){var ak=al.dpDiv.outerWidth(),ao=al.dpDiv.outerHeight(),an=al.input?al.input.outerWidth():0,ag=al.input?al.input.outerHeight():0,am=document.documentElement.clientWidth+(ai?0:K(document).scrollLeft()),ah=document.documentElement.clientHeight+(ai?0:K(document).scrollTop());aj.left-=(this._get(al,"isRTL")?(ak-an):0);aj.left-=(ai&&aj.left===al.input.offset().left)?K(document).scrollLeft():0;aj.top-=(ai&&aj.top===(al.input.offset().top+ag))?K(document).scrollTop():0;aj.left-=Math.min(aj.left,(aj.left+ak>am&&am>ak)?Math.abs(aj.left+ak-am):0);aj.top-=Math.min(aj.top,(aj.top+ao>ah&&ah>ao)?Math.abs(ao+ag):0);return aj},_findPos:function(aj){var ag,ai=this._getInst(aj),ah=this._get(ai,"isRTL");while(aj&&(aj.type==="hidden"||aj.nodeType!==1||K.expr.filters.hidden(aj))){aj=aj[ah?"previousSibling":"nextSibling"]}ag=K(aj).offset();return[ag.left,ag.top]},_hideDatepicker:function(ai){var ah,al,ak,ag,aj=this._curInst;if(!aj||(ai&&aj!==K.data(ai,"datepicker"))){return}if(this._datepickerShowing){ah=this._get(aj,"showAnim");al=this._get(aj,"duration");ak=function(){K.datepicker._tidyDialog(aj)};if(K.effects&&(K.effects.effect[ah]||K.effects[ah])){aj.dpDiv.hide(ah,K.datepicker._get(aj,"showOptions"),al,ak)}else{aj.dpDiv[(ah==="slideDown"?"slideUp":(ah==="fadeIn"?"fadeOut":"hide"))]((ah?al:null),ak)}if(!ah){ak()}this._datepickerShowing=false;ag=this._get(aj,"onClose");if(ag){ag.apply((aj.input?aj.input[0]:null),[(aj.input?aj.input.val():""),aj])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(K.blockUI){K.unblockUI();K("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(ag){ag.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(ah){if(!K.datepicker._curInst){return}var ag=K(ah.target),ai=K.datepicker._getInst(ag[0]);if(((ag[0].id!==K.datepicker._mainDivId&&ag.parents("#"+K.datepicker._mainDivId).length===0&&!ag.hasClass(K.datepicker.markerClassName)&&!ag.closest("."+K.datepicker._triggerClass).length&&K.datepicker._datepickerShowing&&!(K.datepicker._inDialog&&K.blockUI)))||(ag.hasClass(K.datepicker.markerClassName)&&K.datepicker._curInst!==ai)){K.datepicker._hideDatepicker()}},_adjustDate:function(ak,aj,ai){var ah=K(ak),ag=this._getInst(ah[0]);if(this._isDisabledDatepicker(ah[0])){return}this._adjustInstDate(ag,aj+(ai==="M"?this._get(ag,"showCurrentAtPos"):0),ai);this._updateDatepicker(ag)},_gotoToday:function(aj){var ag,ai=K(aj),ah=this._getInst(ai[0]);if(this._get(ah,"gotoCurrent")&&ah.currentDay){ah.selectedDay=ah.currentDay;ah.drawMonth=ah.selectedMonth=ah.currentMonth;ah.drawYear=ah.selectedYear=ah.currentYear}else{ag=new Date();ah.selectedDay=ag.getDate();ah.drawMonth=ah.selectedMonth=ag.getMonth();ah.drawYear=ah.selectedYear=ag.getFullYear()}this._notifyChange(ah);this._adjustDate(ai)},_selectMonthYear:function(ak,ag,aj){var ai=K(ak),ah=this._getInst(ai[0]);ah["selected"+(aj==="M"?"Month":"Year")]=ah["draw"+(aj==="M"?"Month":"Year")]=parseInt(ag.options[ag.selectedIndex].value,10);this._notifyChange(ah);this._adjustDate(ai)},_selectDay:function(al,aj,ag,ak){var ah,ai=K(al);if(K(ak).hasClass(this._unselectableClass)||this._isDisabledDatepicker(ai[0])){return}ah=this._getInst(ai[0]);ah.selectedDay=ah.currentDay=K("a",ak).html();ah.selectedMonth=ah.currentMonth=aj;ah.selectedYear=ah.currentYear=ag;this._selectDate(al,this._formatDate(ah,ah.currentDay,ah.currentMonth,ah.currentYear))},_clearDate:function(ah){var ag=K(ah);this._selectDate(ag,"")},_selectDate:function(ak,ag){var ah,aj=K(ak),ai=this._getInst(aj[0]);ag=(ag!=null?ag:this._formatDate(ai));if(ai.input){ai.input.val(ag)}this._updateAlternate(ai);ah=this._get(ai,"onSelect");if(ah){ah.apply((ai.input?ai.input[0]:null),[ag,ai])}else{if(ai.input){ai.input.trigger("change")}}if(ai.inline){this._updateDatepicker(ai)}else{this._hideDatepicker();this._lastInput=ai.input[0];if(typeof(ai.input[0])!=="object"){ai.input.focus()}this._lastInput=null}},_updateAlternate:function(ak){var aj,ai,ag,ah=this._get(ak,"altField");if(ah){aj=this._get(ak,"altFormat")||this._get(ak,"dateFormat");ai=this._getDate(ak);ag=this.formatDate(aj,ai,this._getFormatConfig(ak));K(ah).each(function(){K(this).val(ag)})}},noWeekends:function(ah){var ag=ah.getDay();return[(ag>0&&ag<6),""]},iso8601Week:function(ag){var ah,ai=new Date(ag.getTime());ai.setDate(ai.getDate()+4-(ai.getDay()||7));ah=ai.getTime();ai.setMonth(0);ai.setDate(1);return Math.floor(Math.round((ah-ai)/86400000)/7)+1},parseDate:function(ax,ar,az){if(ax==null||ar==null){throw"Invalid arguments"}ar=(typeof ar==="object"?ar.toString():ar+"");if(ar===""){return null}var aj,au,ah,ay=0,am=(az?az.shortYearCutoff:null)||this._defaults.shortYearCutoff,ai=(typeof am!=="string"?am:new Date().getFullYear()%100+parseInt(am,10)),ap=(az?az.dayNamesShort:null)||this._defaults.dayNamesShort,aB=(az?az.dayNames:null)||this._defaults.dayNames,ag=(az?az.monthNamesShort:null)||this._defaults.monthNamesShort,ak=(az?az.monthNames:null)||this._defaults.monthNames,al=-1,aC=-1,aw=-1,ao=-1,av=false,aA,aq=function(aE){var aF=(aj+1<ax.length&&ax.charAt(aj+1)===aE);if(aF){aj++}return aF},aD=function(aG){var aE=aq(aG),aH=(aG==="@"?14:(aG==="!"?20:(aG==="y"&&aE?4:(aG==="o"?3:2)))),aJ=(aG==="y"?aH:1),aI=new RegExp("^\\d{"+aJ+","+aH+"}"),aF=ar.substring(ay).match(aI);if(!aF){throw"Missing number at position "+ay}ay+=aF[0].length;return parseInt(aF[0],10)},an=function(aF,aG,aI){var aE=-1,aH=K.map(aq(aF)?aI:aG,function(aK,aJ){return[[aJ,aK]]}).sort(function(aK,aJ){return -(aK[1].length-aJ[1].length)});K.each(aH,function(aK,aL){var aJ=aL[1];if(ar.substr(ay,aJ.length).toLowerCase()===aJ.toLowerCase()){aE=aL[0];ay+=aJ.length;return false}});if(aE!==-1){return aE+1}else{throw"Unknown name at position "+ay}},at=function(){if(ar.charAt(ay)!==ax.charAt(aj)){throw"Unexpected literal at position "+ay}ay++};for(aj=0;aj<ax.length;aj++){if(av){if(ax.charAt(aj)==="'"&&!aq("'")){av=false}else{at()}}else{switch(ax.charAt(aj)){case"d":aw=aD("d");break;case"D":an("D",ap,aB);break;case"o":ao=aD("o");break;case"m":aC=aD("m");break;case"M":aC=an("M",ag,ak);break;case"y":al=aD("y");break;case"@":aA=new Date(aD("@"));al=aA.getFullYear();aC=aA.getMonth()+1;aw=aA.getDate();break;case"!":aA=new Date((aD("!")-this._ticksTo1970)/10000);al=aA.getFullYear();aC=aA.getMonth()+1;aw=aA.getDate();break;case"'":if(aq("'")){at()}else{av=true}break;default:at()}}}if(ay<ar.length){ah=ar.substr(ay);if(!/^\s+/.test(ah)){throw"Extra/unparsed characters found in date: "+ah}}if(al===-1){al=new Date().getFullYear()}else{if(al<100){al+=new Date().getFullYear()-new Date().getFullYear()%100+(al<=ai?0:-100)}}if(ao>-1){aC=1;aw=ao;do{au=this._getDaysInMonth(al,aC-1);if(aw<=au){break}aC++;aw-=au}while(true)}aA=this._daylightSavingAdjust(new Date(al,aC-1,aw));if(aA.getFullYear()!==al||aA.getMonth()+1!==aC||aA.getDate()!==aw){throw"Invalid date"}return aA},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(ap,aj,ak){if(!aj){return""}var ar,at=(ak?ak.dayNamesShort:null)||this._defaults.dayNamesShort,ah=(ak?ak.dayNames:null)||this._defaults.dayNames,an=(ak?ak.monthNamesShort:null)||this._defaults.monthNamesShort,al=(ak?ak.monthNames:null)||this._defaults.monthNames,aq=function(au){var av=(ar+1<ap.length&&ap.charAt(ar+1)===au);if(av){ar++}return av},ag=function(aw,ax,au){var av=""+ax;if(aq(aw)){while(av.length<au){av="0"+av}}return av},am=function(au,aw,av,ax){return(aq(au)?ax[aw]:av[aw])},ai="",ao=false;if(aj){for(ar=0;ar<ap.length;ar++){if(ao){if(ap.charAt(ar)==="'"&&!aq("'")){ao=false}else{ai+=ap.charAt(ar)}}else{switch(ap.charAt(ar)){case"d":ai+=ag("d",aj.getDate(),2);break;case"D":ai+=am("D",aj.getDay(),at,ah);break;case"o":ai+=ag("o",Math.round((new Date(aj.getFullYear(),aj.getMonth(),aj.getDate()).getTime()-new Date(aj.getFullYear(),0,0).getTime())/86400000),3);break;case"m":ai+=ag("m",aj.getMonth()+1,2);break;case"M":ai+=am("M",aj.getMonth(),an,al);break;case"y":ai+=(aq("y")?aj.getFullYear():(aj.getYear()%100<10?"0":"")+aj.getYear()%100);break;case"@":ai+=aj.getTime();break;case"!":ai+=aj.getTime()*10000+this._ticksTo1970;break;case"'":if(aq("'")){ai+="'"}else{ao=true}break;default:ai+=ap.charAt(ar)}}}}return ai},_possibleChars:function(ak){var aj,ai="",ah=false,ag=function(al){var am=(aj+1<ak.length&&ak.charAt(aj+1)===al);if(am){aj++}return am};for(aj=0;aj<ak.length;aj++){if(ah){if(ak.charAt(aj)==="'"&&!ag("'")){ah=false}else{ai+=ak.charAt(aj)}}else{switch(ak.charAt(aj)){case"d":case"m":case"y":case"@":ai+="0123456789";break;case"D":case"M":return null;case"'":if(ag("'")){ai+="'"}else{ah=true}break;default:ai+=ak.charAt(aj)}}}return ai},_get:function(ah,ag){return ah.settings[ag]!==undefined?ah.settings[ag]:this._defaults[ag]},_setDateFromField:function(al,ai){if(al.input.val()===al.lastVal){return}var ag=this._get(al,"dateFormat"),an=al.lastVal=al.input?al.input.val():null,am=this._getDefaultDate(al),ah=am,aj=this._getFormatConfig(al);try{ah=this.parseDate(ag,an,aj)||am}catch(ak){an=(ai?"":an)}al.selectedDay=ah.getDate();al.drawMonth=al.selectedMonth=ah.getMonth();al.drawYear=al.selectedYear=ah.getFullYear();al.currentDay=(an?ah.getDate():0);al.currentMonth=(an?ah.getMonth():0);al.currentYear=(an?ah.getFullYear():0);this._adjustInstDate(al)},_getDefaultDate:function(ag){return this._restrictMinMax(ag,this._determineDate(ag,this._get(ag,"defaultDate"),new Date()))},_determineDate:function(ak,ah,al){var aj=function(an){var am=new Date();am.setDate(am.getDate()+an);return am},ai=function(au){try{return K.datepicker.parseDate(K.datepicker._get(ak,"dateFormat"),au,K.datepicker._getFormatConfig(ak))}catch(at){}var an=(au.toLowerCase().match(/^c/)?K.datepicker._getDate(ak):null)||new Date(),ao=an.getFullYear(),ar=an.getMonth(),am=an.getDate(),aq=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ap=aq.exec(au);while(ap){switch(ap[2]||"d"){case"d":case"D":am+=parseInt(ap[1],10);break;case"w":case"W":am+=parseInt(ap[1],10)*7;break;case"m":case"M":ar+=parseInt(ap[1],10);am=Math.min(am,K.datepicker._getDaysInMonth(ao,ar));break;case"y":case"Y":ao+=parseInt(ap[1],10);am=Math.min(am,K.datepicker._getDaysInMonth(ao,ar));break}ap=aq.exec(au)}return new Date(ao,ar,am)},ag=(ah==null||ah===""?al:(typeof ah==="string"?ai(ah):(typeof ah==="number"?(isNaN(ah)?al:aj(ah)):new Date(ah.getTime()))));ag=(ag&&ag.toString()==="Invalid Date"?al:ag);if(ag){ag.setHours(0);ag.setMinutes(0);ag.setSeconds(0);ag.setMilliseconds(0)}return this._daylightSavingAdjust(ag)},_daylightSavingAdjust:function(ag){if(!ag){return null}ag.setHours(ag.getHours()>12?ag.getHours()+2:0);return ag},_setDate:function(am,aj,al){var ag=!aj,ai=am.selectedMonth,ak=am.selectedYear,ah=this._restrictMinMax(am,this._determineDate(am,aj,new Date()));am.selectedDay=am.currentDay=ah.getDate();am.drawMonth=am.selectedMonth=am.currentMonth=ah.getMonth();am.drawYear=am.selectedYear=am.currentYear=ah.getFullYear();if((ai!==am.selectedMonth||ak!==am.selectedYear)&&!al){this._notifyChange(am)}this._adjustInstDate(am);if(am.input){am.input.val(ag?"":this._formatDate(am))}},_getDate:function(ah){var ag=(!ah.currentYear||(ah.input&&ah.input.val()==="")?null:this._daylightSavingAdjust(new Date(ah.currentYear,ah.currentMonth,ah.currentDay)));return ag},_attachHandlers:function(ah){var ag=this._get(ah,"stepMonths"),ai="#"+ah.id.replace(/\\\\/g,"\\");ah.dpDiv.find("[data-handler]").map(function(){var aj={prev:function(){K.datepicker._adjustDate(ai,-ag,"M")},next:function(){K.datepicker._adjustDate(ai,+ag,"M")},hide:function(){K.datepicker._hideDatepicker()},today:function(){K.datepicker._gotoToday(ai)},selectDay:function(){K.datepicker._selectDay(ai,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){K.datepicker._selectMonthYear(ai,this,"M");return false},selectYear:function(){K.datepicker._selectMonthYear(ai,this,"Y");return false}};K(this).bind(this.getAttribute("data-event"),aj[this.getAttribute("data-handler")])})},_generateHTML:function(aX){var aA,az,aS,aK,ak,a1,aV,aO,a4,aI,a8,ar,au,at,ah,a0,ap,aD,a3,aQ,a9,aC,aH,aq,al,aT,aM,aP,aN,ao,aF,av,aW,aZ,aj,a2,a6,aL,aw,aY=new Date(),aB=this._daylightSavingAdjust(new Date(aY.getFullYear(),aY.getMonth(),aY.getDate())),a5=this._get(aX,"isRTL"),a7=this._get(aX,"showButtonPanel"),aR=this._get(aX,"hideIfNoPrevNext"),aG=this._get(aX,"navigationAsDateFormat"),ax=this._getNumberOfMonths(aX),an=this._get(aX,"showCurrentAtPos"),aJ=this._get(aX,"stepMonths"),aE=(ax[0]!==1||ax[1]!==1),ai=this._daylightSavingAdjust((!aX.currentDay?new Date(9999,9,9):new Date(aX.currentYear,aX.currentMonth,aX.currentDay))),am=this._getMinMaxDate(aX,"min"),ay=this._getMinMaxDate(aX,"max"),ag=aX.drawMonth-an,aU=aX.drawYear;if(ag<0){ag+=12;aU--}if(ay){aA=this._daylightSavingAdjust(new Date(ay.getFullYear(),ay.getMonth()-(ax[0]*ax[1])+1,ay.getDate()));aA=(am&&aA<am?am:aA);while(this._daylightSavingAdjust(new Date(aU,ag,1))>aA){ag--;if(ag<0){ag=11;aU--}}}aX.drawMonth=ag;aX.drawYear=aU;az=this._get(aX,"prevText");az=(!aG?az:this.formatDate(az,this._daylightSavingAdjust(new Date(aU,ag-aJ,1)),this._getFormatConfig(aX)));aS=(this._canAdjustMonth(aX,-1,aU,ag)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+az+"'><span class='ui-icon ui-icon-circle-triangle-"+(a5?"e":"w")+"'>"+az+"</span></a>":(aR?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+az+"'><span class='ui-icon ui-icon-circle-triangle-"+(a5?"e":"w")+"'>"+az+"</span></a>"));aK=this._get(aX,"nextText");aK=(!aG?aK:this.formatDate(aK,this._daylightSavingAdjust(new Date(aU,ag+aJ,1)),this._getFormatConfig(aX)));ak=(this._canAdjustMonth(aX,+1,aU,ag)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aK+"'><span class='ui-icon ui-icon-circle-triangle-"+(a5?"w":"e")+"'>"+aK+"</span></a>":(aR?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aK+"'><span class='ui-icon ui-icon-circle-triangle-"+(a5?"w":"e")+"'>"+aK+"</span></a>"));a1=this._get(aX,"currentText");aV=(this._get(aX,"gotoCurrent")&&aX.currentDay?ai:aB);a1=(!aG?a1:this.formatDate(a1,aV,this._getFormatConfig(aX)));aO=(!aX.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aX,"closeText")+"</button>":"");a4=(a7)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(a5?aO:"")+(this._isInRange(aX,aV)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a1+"</button>":"")+(a5?"":aO)+"</div>":"";aI=parseInt(this._get(aX,"firstDay"),10);aI=(isNaN(aI)?0:aI);a8=this._get(aX,"showWeek");ar=this._get(aX,"dayNames");au=this._get(aX,"dayNamesMin");at=this._get(aX,"monthNames");ah=this._get(aX,"monthNamesShort");a0=this._get(aX,"beforeShowDay");ap=this._get(aX,"showOtherMonths");aD=this._get(aX,"selectOtherMonths");a3=this._getDefaultDate(aX);aQ="";a9;for(aC=0;aC<ax[0];aC++){aH="";this.maxRows=4;for(aq=0;aq<ax[1];aq++){al=this._daylightSavingAdjust(new Date(aU,ag,aX.selectedDay));aT=" ui-corner-all";aM="";if(aE){aM+="<div class='ui-datepicker-group";if(ax[1]>1){switch(aq){case 0:aM+=" ui-datepicker-group-first";aT=" ui-corner-"+(a5?"right":"left");break;case ax[1]-1:aM+=" ui-datepicker-group-last";aT=" ui-corner-"+(a5?"left":"right");break;default:aM+=" ui-datepicker-group-middle";aT="";break}}aM+="'>"}aM+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+aT+"'>"+(/all|left/.test(aT)&&aC===0?(a5?ak:aS):"")+(/all|right/.test(aT)&&aC===0?(a5?aS:ak):"")+this._generateMonthYearHeader(aX,ag,aU,am,ay,aC>0||aq>0,at,ah)+"</div><table class='ui-datepicker-calendar'><thead><tr>";aP=(a8?"<th class='ui-datepicker-week-col'>"+this._get(aX,"weekHeader")+"</th>":"");for(a9=0;a9<7;a9++){aN=(a9+aI)%7;aP+="<th scope='col'"+((a9+aI+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ar[aN]+"'>"+au[aN]+"</span></th>"}aM+=aP+"</tr></thead><tbody>";ao=this._getDaysInMonth(aU,ag);if(aU===aX.selectedYear&&ag===aX.selectedMonth){aX.selectedDay=Math.min(aX.selectedDay,ao)}aF=(this._getFirstDayOfMonth(aU,ag)-aI+7)%7;av=Math.ceil((aF+ao)/7);aW=(aE?this.maxRows>av?this.maxRows:av:av);this.maxRows=aW;aZ=this._daylightSavingAdjust(new Date(aU,ag,1-aF));for(aj=0;aj<aW;aj++){aM+="<tr>";a2=(!a8?"":"<td class='ui-datepicker-week-col'>"+this._get(aX,"calculateWeek")(aZ)+"</td>");for(a9=0;a9<7;a9++){a6=(a0?a0.apply((aX.input?aX.input[0]:null),[aZ]):[true,""]);aL=(aZ.getMonth()!==ag);aw=(aL&&!aD)||!a6[0]||(am&&aZ<am)||(ay&&aZ>ay);a2+="<td class='"+((a9+aI+6)%7>=5?" ui-datepicker-week-end":"")+(aL?" ui-datepicker-other-month":"")+((aZ.getTime()===al.getTime()&&ag===aX.selectedMonth&&aX._keyEvent)||(a3.getTime()===aZ.getTime()&&a3.getTime()===al.getTime())?" "+this._dayOverClass:"")+(aw?" "+this._unselectableClass+" ui-state-disabled":"")+(aL&&!ap?"":" "+a6[1]+(aZ.getTime()===ai.getTime()?" "+this._currentClass:"")+(aZ.getTime()===aB.getTime()?" ui-datepicker-today":""))+"'"+((!aL||ap)&&a6[2]?" title='"+a6[2].replace(/'/g,"&#39;")+"'":"")+(aw?"":" data-handler='selectDay' data-event='click' data-month='"+aZ.getMonth()+"' data-year='"+aZ.getFullYear()+"'")+">"+(aL&&!ap?"&#xa0;":(aw?"<span class='ui-state-default'>"+aZ.getDate()+"</span>":"<a class='ui-state-default"+(aZ.getTime()===aB.getTime()?" ui-state-highlight":"")+(aZ.getTime()===ai.getTime()?" ui-state-active":"")+(aL?" ui-priority-secondary":"")+"' href='#'>"+aZ.getDate()+"</a>"))+"</td>";aZ.setDate(aZ.getDate()+1);aZ=this._daylightSavingAdjust(aZ)}aM+=a2+"</tr>"}ag++;if(ag>11){ag=0;aU++}aM+="</tbody></table>"+(aE?"</div>"+((ax[0]>0&&aq===ax[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");aH+=aM}aQ+=aH}aQ+=a4;aX._keyEvent=false;return aQ},_generateMonthYearHeader:function(ak,ai,at,am,aq,au,ao,ag){var ay,ah,az,aw,al,av,ar,an,aj=this._get(ak,"changeMonth"),aA=this._get(ak,"changeYear"),aB=this._get(ak,"showMonthAfterYear"),ap="<div class='ui-datepicker-title'>",ax="";if(au||!aj){ax+="<span class='ui-datepicker-month'>"+ao[ai]+"</span>"}else{ay=(am&&am.getFullYear()===at);ah=(aq&&aq.getFullYear()===at);ax+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(az=0;az<12;az++){if((!ay||az>=am.getMonth())&&(!ah||az<=aq.getMonth())){ax+="<option value='"+az+"'"+(az===ai?" selected='selected'":"")+">"+ag[az]+"</option>"}}ax+="</select>"}if(!aB){ap+=ax+(au||!(aj&&aA)?"&#xa0;":"")}if(!ak.yearshtml){ak.yearshtml="";if(au||!aA){ap+="<span class='ui-datepicker-year'>"+at+"</span>"}else{aw=this._get(ak,"yearRange").split(":");al=new Date().getFullYear();av=function(aD){var aC=(aD.match(/c[+\-].*/)?at+parseInt(aD.substring(1),10):(aD.match(/[+\-].*/)?al+parseInt(aD,10):parseInt(aD,10)));return(isNaN(aC)?al:aC)};ar=av(aw[0]);an=Math.max(ar,av(aw[1]||""));ar=(am?Math.max(ar,am.getFullYear()):ar);an=(aq?Math.min(an,aq.getFullYear()):an);ak.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;ar<=an;ar++){ak.yearshtml+="<option value='"+ar+"'"+(ar===at?" selected='selected'":"")+">"+ar+"</option>"}ak.yearshtml+="</select>";ap+=ak.yearshtml;ak.yearshtml=null}}ap+=this._get(ak,"yearSuffix");if(aB){ap+=(au||!(aj&&aA)?"&#xa0;":"")+ax}ap+="</div>";return ap},_adjustInstDate:function(aj,am,al){var ai=aj.drawYear+(al==="Y"?am:0),ak=aj.drawMonth+(al==="M"?am:0),ag=Math.min(aj.selectedDay,this._getDaysInMonth(ai,ak))+(al==="D"?am:0),ah=this._restrictMinMax(aj,this._daylightSavingAdjust(new Date(ai,ak,ag)));aj.selectedDay=ah.getDate();aj.drawMonth=aj.selectedMonth=ah.getMonth();aj.drawYear=aj.selectedYear=ah.getFullYear();if(al==="M"||al==="Y"){this._notifyChange(aj)}},_restrictMinMax:function(aj,ah){var ai=this._getMinMaxDate(aj,"min"),ak=this._getMinMaxDate(aj,"max"),ag=(ai&&ah<ai?ai:ah);return(ak&&ag>ak?ak:ag)},_notifyChange:function(ah){var ag=this._get(ah,"onChangeMonthYear");if(ag){ag.apply((ah.input?ah.input[0]:null),[ah.selectedYear,ah.selectedMonth+1,ah])}},_getNumberOfMonths:function(ah){var ag=this._get(ah,"numberOfMonths");return(ag==null?[1,1]:(typeof ag==="number"?[1,ag]:ag))},_getMinMaxDate:function(ah,ag){return this._determineDate(ah,this._get(ah,ag+"Date"),null)},_getDaysInMonth:function(ag,ah){return 32-this._daylightSavingAdjust(new Date(ag,ah,32)).getDate()},_getFirstDayOfMonth:function(ag,ah){return new Date(ag,ah,1).getDay()},_canAdjustMonth:function(aj,al,ai,ak){var ag=this._getNumberOfMonths(aj),ah=this._daylightSavingAdjust(new Date(ai,ak+(al<0?al:ag[0]*ag[1]),1));if(al<0){ah.setDate(this._getDaysInMonth(ah.getFullYear(),ah.getMonth()))}return this._isInRange(aj,ah)},_isInRange:function(ak,ai){var ah,an,aj=this._getMinMaxDate(ak,"min"),ag=this._getMinMaxDate(ak,"max"),ao=null,al=null,am=this._get(ak,"yearRange");if(am){ah=am.split(":");an=new Date().getFullYear();ao=parseInt(ah[0],10);al=parseInt(ah[1],10);if(ah[0].match(/[+\-].*/)){ao+=an}if(ah[1].match(/[+\-].*/)){al+=an}}return((!aj||ai.getTime()>=aj.getTime())&&(!ag||ai.getTime()<=ag.getTime())&&(!ao||ai.getFullYear()>=ao)&&(!al||ai.getFullYear()<=al))},_getFormatConfig:function(ag){var ah=this._get(ag,"shortYearCutoff");ah=(typeof ah!=="string"?ah:new Date().getFullYear()%100+parseInt(ah,10));return{shortYearCutoff:ah,dayNamesShort:this._get(ag,"dayNamesShort"),dayNames:this._get(ag,"dayNames"),monthNamesShort:this._get(ag,"monthNamesShort"),monthNames:this._get(ag,"monthNames")}},_formatDate:function(aj,ag,ak,ai){if(!ag){aj.currentDay=aj.selectedDay;aj.currentMonth=aj.selectedMonth;aj.currentYear=aj.selectedYear}var ah=(ag?(typeof ag==="object"?ag:this._daylightSavingAdjust(new Date(ai,ak,ag))):this._daylightSavingAdjust(new Date(aj.currentYear,aj.currentMonth,aj.currentDay)));return this.formatDate(this._get(aj,"dateFormat"),ah,this._getFormatConfig(aj))}});function h(ah){var ag="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return ah.delegate(ag,"mouseout",function(){K(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){K(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){K(this).removeClass("ui-datepicker-next-hover")}}).delegate(ag,"mouseover",q)}function q(){if(!K.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])){K(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");K(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){K(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){K(this).addClass("ui-datepicker-next-hover")}}}function z(ai,ah){K.extend(ai,ah);for(var ag in ah){if(ah[ag]==null){ai[ag]=ah[ag]}}return ai}K.fn.datepicker=function(ah){if(!this.length){return this}if(!K.datepicker.initialized){K(document).mousedown(K.datepicker._checkExternalClick);K.datepicker.initialized=true}if(K("#"+K.datepicker._mainDivId).length===0){K("body").append(K.datepicker.dpDiv)}var ag=Array.prototype.slice.call(arguments,1);if(typeof ah==="string"&&(ah==="isDisabled"||ah==="getDate"||ah==="widget")){return K.datepicker["_"+ah+"Datepicker"].apply(K.datepicker,[this[0]].concat(ag))}if(ah==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return K.datepicker["_"+ah+"Datepicker"].apply(K.datepicker,[this[0]].concat(ag))}return this.each(function(){typeof ah==="string"?K.datepicker["_"+ah+"Datepicker"].apply(K.datepicker,[this].concat(ag)):K.datepicker._attachDatepicker(this,ah)})};K.datepicker=new ae();K.datepicker.initialized=false;K.datepicker.uuid=new Date().getTime();K.datepicker.version="1.11.4";var G=K.datepicker;
/*
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
var W=K.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"Close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(ah){var ag=K(this).css(ah).offset().top;if(ag<0){K(this).css("top",ah.top-ag)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&K.fn.draggable){this._makeDraggable()}if(this.options.resizable&&K.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var ag=this.options.appendTo;if(ag&&(ag.jquery||ag.nodeType)){return K(ag)}return this.document.find(ag||"body").eq(0)},_destroy:function(){var ah,ag=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}ah=ag.parent.children().eq(ag.index);if(ah.length&&ah[0]!==this.element[0]){ah.before(this.element)}else{ag.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:K.noop,enable:K.noop,close:function(aj){var ai,ah=this;if(!this._isOpen||this._trigger("beforeClose",aj)===false){return}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length){try{ai=this.document[0].activeElement;if(ai&&ai.nodeName.toLowerCase()!=="body"){K(ai).blur()}}catch(ag){}}this._hide(this.uiDialog,this.options.hide,function(){ah._trigger("close",aj)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(ak,ag){var aj=false,ai=this.uiDialog.siblings(".ui-front:visible").map(function(){return +K(this).css("z-index")}).get(),ah=Math.max.apply(null,ai);if(ah>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",ah+1);aj=true}if(aj&&!ag){this._trigger("focus",ak)}return aj},open:function(){var ag=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=K(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){ag._focusTabbable();ag._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var ag=this._focusedElement;if(!ag){ag=this.element.find("[autofocus]")}if(!ag.length){ag=this.element.find(":tabbable")}if(!ag.length){ag=this.uiDialogButtonPane.find(":tabbable")}if(!ag.length){ag=this.uiDialogTitlebarClose.filter(":tabbable")}if(!ag.length){ag=this.uiDialog}ag.eq(0).focus()},_keepFocus:function(ag){function ah(){var aj=this.document[0].activeElement,ai=this.uiDialog[0]===aj||K.contains(this.uiDialog[0],aj);if(!ai){this._focusTabbable()}}ag.preventDefault();ah.call(this);this._delay(ah)},_createWrapper:function(){this.uiDialog=K("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(ai){if(this.options.closeOnEscape&&!ai.isDefaultPrevented()&&ai.keyCode&&ai.keyCode===K.ui.keyCode.ESCAPE){ai.preventDefault();this.close(ai);return}if(ai.keyCode!==K.ui.keyCode.TAB||ai.isDefaultPrevented()){return}var ah=this.uiDialog.find(":tabbable"),aj=ah.filter(":first"),ag=ah.filter(":last");if((ai.target===ag[0]||ai.target===this.uiDialog[0])&&!ai.shiftKey){this._delay(function(){aj.focus()});ai.preventDefault()}else{if((ai.target===aj[0]||ai.target===this.uiDialog[0])&&ai.shiftKey){this._delay(function(){ag.focus()});ai.preventDefault()}}},mousedown:function(ag){if(this._moveToTop(ag)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var ag;this.uiDialogTitlebar=K("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(ah){if(!K(ah.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=K("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(ah){ah.preventDefault();this.close(ah)}});ag=K("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(ag);this.uiDialog.attr({"aria-labelledby":ag.attr("id")})},_title:function(ag){if(!this.options.title){ag.html("&#160;")}ag.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=K("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=K("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var ah=this,ag=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(K.isEmptyObject(ag)||(K.isArray(ag)&&!ag.length)){this.uiDialog.removeClass("ui-dialog-buttons");return}K.each(ag,function(ai,aj){var ak,al;aj=K.isFunction(aj)?{click:aj,text:ai}:aj;aj=K.extend({type:"button"},aj);ak=aj.click;aj.click=function(){ak.apply(ah.element[0],arguments)};al={icons:aj.icons,text:aj.showText};delete aj.icons;delete aj.showText;K("<button></button>",aj).button(al).appendTo(ah.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var ai=this,ah=this.options;function ag(aj){return{position:aj.position,offset:aj.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(aj,ak){K(this).addClass("ui-dialog-dragging");ai._blockFrames();ai._trigger("dragStart",aj,ag(ak))},drag:function(aj,ak){ai._trigger("drag",aj,ag(ak))},stop:function(aj,ak){var am=ak.offset.left-ai.document.scrollLeft(),al=ak.offset.top-ai.document.scrollTop();ah.position={my:"left top",at:"left"+(am>=0?"+":"")+am+" top"+(al>=0?"+":"")+al,of:ai.window};K(this).removeClass("ui-dialog-dragging");ai._unblockFrames();ai._trigger("dragStop",aj,ag(ak))}})},_makeResizable:function(){var al=this,aj=this.options,ak=aj.resizable,ag=this.uiDialog.css("position"),ai=typeof ak==="string"?ak:"n,e,s,w,se,sw,ne,nw";function ah(am){return{originalPosition:am.originalPosition,originalSize:am.originalSize,position:am.position,size:am.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:aj.maxWidth,maxHeight:aj.maxHeight,minWidth:aj.minWidth,minHeight:this._minHeight(),handles:ai,start:function(am,an){K(this).addClass("ui-dialog-resizing");al._blockFrames();al._trigger("resizeStart",am,ah(an))},resize:function(am,an){al._trigger("resize",am,ah(an))},stop:function(am,an){var aq=al.uiDialog.offset(),ap=aq.left-al.document.scrollLeft(),ao=aq.top-al.document.scrollTop();aj.height=al.uiDialog.height();aj.width=al.uiDialog.width();aj.position={my:"left top",at:"left"+(ap>=0?"+":"")+ap+" top"+(ao>=0?"+":"")+ao,of:al.window};K(this).removeClass("ui-dialog-resizing");al._unblockFrames();al._trigger("resizeStop",am,ah(an))}}).css("position",ag)},_trackFocus:function(){this._on(this.widget(),{focusin:function(ag){this._makeFocusTarget();this._focusedElement=K(ag.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var ah=this._trackingInstances(),ag=K.inArray(this,ah);if(ag!==-1){ah.splice(ag,1)}},_trackingInstances:function(){var ag=this.document.data("ui-dialog-instances");if(!ag){ag=[];this.document.data("ui-dialog-instances",ag)}return ag},_minHeight:function(){var ag=this.options;return ag.height==="auto"?ag.minHeight:Math.min(ag.minHeight,ag.height)},_position:function(){var ag=this.uiDialog.is(":visible");if(!ag){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!ag){this.uiDialog.hide()}},_setOptions:function(ai){var aj=this,ah=false,ag={};K.each(ai,function(ak,al){aj._setOption(ak,al);if(ak in aj.sizeRelatedOptions){ah=true}if(ak in aj.resizableRelatedOptions){ag[ak]=al}});if(ah){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",ag)}},_setOption:function(ai,aj){var ah,ak,ag=this.uiDialog;if(ai==="dialogClass"){ag.removeClass(this.options.dialogClass).addClass(aj)}if(ai==="disabled"){return}this._super(ai,aj);if(ai==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(ai==="buttons"){this._createButtons()}if(ai==="closeText"){this.uiDialogTitlebarClose.button({label:""+aj})}if(ai==="draggable"){ah=ag.is(":data(ui-draggable)");if(ah&&!aj){ag.draggable("destroy")}if(!ah&&aj){this._makeDraggable()}}if(ai==="position"){this._position()}if(ai==="resizable"){ak=ag.is(":data(ui-resizable)");if(ak&&!aj){ag.resizable("destroy")}if(ak&&typeof aj==="string"){ag.resizable("option","handles",aj)}if(!ak&&aj!==false){this._makeResizable()}}if(ai==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var ag,ai,aj,ah=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(ah.minWidth>ah.width){ah.width=ah.minWidth}ag=this.uiDialog.css({height:"auto",width:ah.width}).outerHeight();ai=Math.max(0,ah.minHeight-ag);aj=typeof ah.maxHeight==="number"?Math.max(0,ah.maxHeight-ag):"none";if(ah.height==="auto"){this.element.css({minHeight:ai,maxHeight:aj,height:"auto"})}else{this.element.height(Math.max(0,ah.height-ag))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var ag=K(this);return K("<div>").css({position:"absolute",width:ag.outerWidth(),height:ag.outerHeight()}).appendTo(ag.parent()).offset(ag.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(ag){if(K(ag.target).closest(".ui-dialog").length){return true}return !!K(ag.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var ag=true;this._delay(function(){ag=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(ah){if(ag){return}if(!this._allowInteraction(ah)){ah.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=K("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){var ag=this.document.data("ui-dialog-overlays")-1;if(!ag){this.document.unbind("focusin").removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",ag)}this.overlay.remove();this.overlay=null}}});
/*
 * jQuery UI Progressbar 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 */
var X=K.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=K("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(ag){if(ag===undefined){return this.options.value}this.options.value=this._constrainedValue(ag);this._refreshValue()},_constrainedValue:function(ag){if(ag===undefined){ag=this.options.value}this.indeterminate=ag===false;if(typeof ag!=="number"){ag=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,ag))},_setOptions:function(ag){var ah=ag.value;delete ag.value;this._super(ag);this.options.value=this._constrainedValue(ah);this._refreshValue()},_setOption:function(ag,ah){if(ag==="max"){ah=Math.max(this.min,ah)}if(ag==="disabled"){this.element.toggleClass("ui-state-disabled",!!ah).attr("aria-disabled",ah)}this._super(ag,ah)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var ah=this.options.value,ag=this._percentage();this.valueDiv.toggle(this.indeterminate||ah>this.min).toggleClass("ui-corner-right",ah===this.options.max).width(ag.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=K("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":ah});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==ah){this.oldValue=ah;this._trigger("change")}if(ah===this.options.max){this._trigger("complete")}}});
/*
 * jQuery UI Selectmenu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */
var Y=K.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var ag=this.element.uniqueId().attr("id");this.ids={element:ag,button:ag+"-button",menu:ag+"-menu"};this._drawButton();this._drawMenu();if(this.options.disabled){this.disable()}},_drawButton:function(){var ag=this;this.label=K("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(ah){this.button.focus();ah.preventDefault()}});this.element.hide();this.button=K("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);K("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=K("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!ag.menuItems){ag._refreshMenu()}});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var ag=this;this.menu=K("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=K("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(ah,ai){ah.preventDefault();ag._setSelection();ag._select(ai.item.data("ui-selectmenu-item"),ah)},focus:function(ai,aj){var ah=aj.item.data("ui-selectmenu-item");if(ag.focusIndex!=null&&ah.index!==ag.focusIndex){ag._trigger("focus",ai,{item:ah});if(!ag.isOpen){ag._select(ah,ai)}}ag.focusIndex=ah.index;ag.button.attr("aria-activedescendant",ag.menuItems.eq(ah.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());if(!this.options.width){this._resizeButton()}},_refreshMenu:function(){this.menu.empty();var ah,ag=this.element.find("option");if(!ag.length){return}this._parseOptions(ag);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup");ah=this._getSelectedItem();this.menuInstance.focus(null,ah);this._setAria(ah.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(ag){if(this.options.disabled){return}if(!this.menuItems){this._refreshMenu()}else{this.menu.find(".ui-state-focus").removeClass("ui-state-focus");this.menuInstance.focus(null,this._getSelectedItem())}this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",ag)},_position:function(){this.menuWrap.position(K.extend({of:this.button},this.options.position))},close:function(ag){if(!this.isOpen){return}this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",ag)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(ai,ah){var aj=this,ag="";K.each(ah,function(ak,al){if(al.optgroup!==ag){K("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(al.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:al.optgroup}).appendTo(ai);ag=al.optgroup}aj._renderItemData(ai,al)})},_renderItemData:function(ag,ah){return this._renderItem(ag,ah).data("ui-selectmenu-item",ah)},_renderItem:function(ah,ai){var ag=K("<li>");if(ai.disabled){ag.addClass("ui-state-disabled")}this._setText(ag,ai.label);return ag.appendTo(ah)},_setText:function(ag,ah){if(ah){ag.text(ah)}else{ag.html("&#160;")}},_move:function(ak,aj){var ai,ah,ag=".ui-menu-item";if(this.isOpen){ai=this.menuItems.eq(this.focusIndex)}else{ai=this.menuItems.eq(this.element[0].selectedIndex);ag+=":not(.ui-state-disabled)"}if(ak==="first"||ak==="last"){ah=ai[ak==="first"?"prevAll":"nextAll"](ag).eq(-1)}else{ah=ai[ak+"All"](ag).eq(0)}if(ah.length){this.menuInstance.focus(aj,ah)}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(ag){this[this.isOpen?"close":"open"](ag)},_setSelection:function(){var ag;if(!this.range){return}if(window.getSelection){ag=window.getSelection();ag.removeAllRanges();ag.addRange(this.range)}else{this.range.select()}this.button.focus()},_documentClick:{mousedown:function(ag){if(!this.isOpen){return}if(!K(ag.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length){this.close(ag)}}},_buttonEvents:{mousedown:function(){var ag;if(window.getSelection){ag=window.getSelection();if(ag.rangeCount){this.range=ag.getRangeAt(0)}}else{this.range=document.selection.createRange()}},click:function(ag){this._setSelection();this._toggle(ag)},keydown:function(ah){var ag=true;switch(ah.keyCode){case K.ui.keyCode.TAB:case K.ui.keyCode.ESCAPE:this.close(ah);ag=false;break;case K.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(ah)}break;case K.ui.keyCode.UP:if(ah.altKey){this._toggle(ah)}else{this._move("prev",ah)}break;case K.ui.keyCode.DOWN:if(ah.altKey){this._toggle(ah)}else{this._move("next",ah)}break;case K.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(ah)}else{this._toggle(ah)}break;case K.ui.keyCode.LEFT:this._move("prev",ah);break;case K.ui.keyCode.RIGHT:this._move("next",ah);break;case K.ui.keyCode.HOME:case K.ui.keyCode.PAGE_UP:this._move("first",ah);break;case K.ui.keyCode.END:case K.ui.keyCode.PAGE_DOWN:this._move("last",ah);break;default:this.menu.trigger(ah);ag=false}if(ag){ah.preventDefault()}}},_selectFocusedItem:function(ah){var ag=this.menuItems.eq(this.focusIndex);if(!ag.hasClass("ui-state-disabled")){this._select(ag.data("ui-selectmenu-item"),ah)}},_select:function(ah,ag){var ai=this.element[0].selectedIndex;this.element[0].selectedIndex=ah.index;this._setText(this.buttonText,ah.label);this._setAria(ah);this._trigger("select",ag,{item:ah});if(ah.index!==ai){this._trigger("change",ag,{item:ah})}this.close(ag)},_setAria:function(ag){var ah=this.menuItems.eq(ag.index).attr("id");this.button.attr({"aria-labelledby":ah,"aria-activedescendant":ah});this.menu.attr("aria-activedescendant",ah)},_setOption:function(ag,ah){if(ag==="icons"){this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(ah.button)}this._super(ag,ah);if(ag==="appendTo"){this.menuWrap.appendTo(this._appendTo())}if(ag==="disabled"){this.menuInstance.option("disabled",ah);this.button.toggleClass("ui-state-disabled",ah).attr("aria-disabled",ah);this.element.prop("disabled",ah);if(ah){this.button.attr("tabindex",-1);this.close()}else{this.button.attr("tabindex",0)}}if(ag==="width"){this._resizeButton()}},_appendTo:function(){var ag=this.options.appendTo;if(ag){ag=ag.jquery||ag.nodeType?K(ag):this.document.find(ag).eq(0)}if(!ag||!ag[0]){ag=this.element.closest(".ui-front")}if(!ag.length){ag=this.document[0].body}return ag},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var ag=this.options.width;if(!ag){ag=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(ag)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(ag){var ah=[];ag.each(function(aj,al){var ak=K(al),ai=ak.parent("optgroup");ah.push({element:ak,index:aj,value:ak.val(),label:ak.text(),optgroup:ai.attr("label")||"",disabled:ai.prop("disabled")||ak.prop("disabled")})});this.items=ah},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});
/*
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */
var g=K.widget("ui.slider",K.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var aj,ag,ah=this.options,al=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),ak="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",ai=[];ag=(ah.values&&ah.values.length)||1;if(al.length>ag){al.slice(ag).remove();al=al.slice(0,ag)}for(aj=al.length;aj<ag;aj++){ai.push(ak)}this.handles=al.add(K(ai.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(am){K(this).data("ui-slider-handle-index",am)})},_createRange:function(){var ag=this.options,ah="";if(ag.range){if(ag.range===true){if(!ag.values){ag.values=[this._valueMin(),this._valueMin()]}else{if(ag.values.length&&ag.values.length!==2){ag.values=[ag.values[0],ag.values[0]]}else{if(K.isArray(ag.values)){ag.values=ag.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=K("<div></div>").appendTo(this.element);ah="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(ah+((ag.range==="min"||ag.range==="max")?" ui-slider-range-"+ag.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(ai){var am,ap,ah,ak,ao,aq,al,ag,an=this,aj=this.options;if(aj.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();am={x:ai.pageX,y:ai.pageY};ap=this._normValueFromMouse(am);ah=this._valueMax()-this._valueMin()+1;this.handles.each(function(ar){var at=Math.abs(ap-an.values(ar));if((ah>at)||(ah===at&&(ar===an._lastChangedValue||an.values(ar)===aj.min))){ah=at;ak=K(this);ao=ar}});aq=this._start(ai,ao);if(aq===false){return false}this._mouseSliding=true;this._handleIndex=ao;ak.addClass("ui-state-active").focus();al=ak.offset();ag=!K(ai.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=ag?{left:0,top:0}:{left:ai.pageX-al.left-(ak.width()/2),top:ai.pageY-al.top-(ak.height()/2)-(parseInt(ak.css("borderTopWidth"),10)||0)-(parseInt(ak.css("borderBottomWidth"),10)||0)+(parseInt(ak.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(ai,ao,ap)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(ai){var ag={x:ai.pageX,y:ai.pageY},ah=this._normValueFromMouse(ag);this._slide(ai,this._handleIndex,ah);return false},_mouseStop:function(ag){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(ag,this._handleIndex);this._change(ag,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(ah){var ag,ak,aj,ai,al;if(this.orientation==="horizontal"){ag=this.elementSize.width;ak=ah.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{ag=this.elementSize.height;ak=ah.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}aj=(ak/ag);if(aj>1){aj=1}if(aj<0){aj=0}if(this.orientation==="vertical"){aj=1-aj}ai=this._valueMax()-this._valueMin();al=this._valueMin()+aj*ai;return this._trimAlignValue(al)},_start:function(ai,ah){var ag={handle:this.handles[ah],value:this.value()};if(this.options.values&&this.options.values.length){ag.value=this.values(ah);ag.values=this.values()}return this._trigger("start",ai,ag)},_slide:function(ak,aj,ai){var ag,ah,al;if(this.options.values&&this.options.values.length){ag=this.values(aj?0:1);if((this.options.values.length===2&&this.options.range===true)&&((aj===0&&ai>ag)||(aj===1&&ai<ag))){ai=ag}if(ai!==this.values(aj)){ah=this.values();ah[aj]=ai;al=this._trigger("slide",ak,{handle:this.handles[aj],value:ai,values:ah});ag=this.values(aj?0:1);if(al!==false){this.values(aj,ai)}}}else{if(ai!==this.value()){al=this._trigger("slide",ak,{handle:this.handles[aj],value:ai});if(al!==false){this.value(ai)}}}},_stop:function(ai,ah){var ag={handle:this.handles[ah],value:this.value()};if(this.options.values&&this.options.values.length){ag.value=this.values(ah);ag.values=this.values()}this._trigger("stop",ai,ag)},_change:function(ai,ah){if(!this._keySliding&&!this._mouseSliding){var ag={handle:this.handles[ah],value:this.value()};if(this.options.values&&this.options.values.length){ag.value=this.values(ah);ag.values=this.values()}this._lastChangedValue=ah;this._trigger("change",ai,ag)}},value:function(ag){if(arguments.length){this.options.value=this._trimAlignValue(ag);this._refreshValue();this._change(null,0);return}return this._value()},values:function(ah,ak){var aj,ag,ai;if(arguments.length>1){this.options.values[ah]=this._trimAlignValue(ak);this._refreshValue();this._change(null,ah);return}if(arguments.length){if(K.isArray(arguments[0])){aj=this.options.values;ag=arguments[0];for(ai=0;ai<aj.length;ai+=1){aj[ai]=this._trimAlignValue(ag[ai]);this._change(null,ai)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(ah)}else{return this.value()}}}else{return this._values()}},_setOption:function(ah,ai){var ag,aj=0;if(ah==="range"&&this.options.range===true){if(ai==="min"){this.options.value=this._values(0);this.options.values=null}else{if(ai==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(K.isArray(this.options.values)){aj=this.options.values.length}if(ah==="disabled"){this.element.toggleClass("ui-state-disabled",!!ai)}this._super(ah,ai);switch(ah){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(ai==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(ag=0;ag<aj;ag+=1){this._change(null,ag)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var ag=this.options.value;ag=this._trimAlignValue(ag);return ag},_values:function(ag){var aj,ai,ah;if(arguments.length){aj=this.options.values[ag];aj=this._trimAlignValue(aj);return aj}else{if(this.options.values&&this.options.values.length){ai=this.options.values.slice();for(ah=0;ah<ai.length;ah+=1){ai[ah]=this._trimAlignValue(ai[ah])}return ai}else{return[]}}},_trimAlignValue:function(aj){if(aj<=this._valueMin()){return this._valueMin()}if(aj>=this._valueMax()){return this._valueMax()}var ag=(this.options.step>0)?this.options.step:1,ai=(aj-this._valueMin())%ag,ah=aj-ai;if(Math.abs(ai)*2>=ag){ah+=(ai>0)?ag:(-ag)}return parseFloat(ah.toFixed(5))},_calculateNewMax:function(){var ag=this.options.max,ah=this._valueMin(),ai=this.options.step,aj=Math.floor((+(ag-ah).toFixed(this._precision()))/ai)*ai;ag=aj+ah;this.max=parseFloat(ag.toFixed(this._precision()))},_precision:function(){var ag=this._precisionOf(this.options.step);if(this.options.min!==null){ag=Math.max(ag,this._precisionOf(this.options.min))}return ag},_precisionOf:function(ah){var ai=ah.toString(),ag=ai.indexOf(".");return ag===-1?0:ai.length-ag-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var al,ak,ao,am,ap,aj=this.options.range,ai=this.options,an=this,ah=(!this._animateOff)?ai.animate:false,ag={};if(this.options.values&&this.options.values.length){this.handles.each(function(aq){ak=(an.values(aq)-an._valueMin())/(an._valueMax()-an._valueMin())*100;ag[an.orientation==="horizontal"?"left":"bottom"]=ak+"%";K(this).stop(1,1)[ah?"animate":"css"](ag,ai.animate);if(an.options.range===true){if(an.orientation==="horizontal"){if(aq===0){an.range.stop(1,1)[ah?"animate":"css"]({left:ak+"%"},ai.animate)}if(aq===1){an.range[ah?"animate":"css"]({width:(ak-al)+"%"},{queue:false,duration:ai.animate})}}else{if(aq===0){an.range.stop(1,1)[ah?"animate":"css"]({bottom:(ak)+"%"},ai.animate)}if(aq===1){an.range[ah?"animate":"css"]({height:(ak-al)+"%"},{queue:false,duration:ai.animate})}}}al=ak})}else{ao=this.value();am=this._valueMin();ap=this._valueMax();ak=(ap!==am)?(ao-am)/(ap-am)*100:0;ag[this.orientation==="horizontal"?"left":"bottom"]=ak+"%";this.handle.stop(1,1)[ah?"animate":"css"](ag,ai.animate);if(aj==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[ah?"animate":"css"]({width:ak+"%"},ai.animate)}if(aj==="max"&&this.orientation==="horizontal"){this.range[ah?"animate":"css"]({width:(100-ak)+"%"},{queue:false,duration:ai.animate})}if(aj==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[ah?"animate":"css"]({height:ak+"%"},ai.animate)}if(aj==="max"&&this.orientation==="vertical"){this.range[ah?"animate":"css"]({height:(100-ak)+"%"},{queue:false,duration:ai.animate})}}},_handleEvents:{keydown:function(ak){var al,ai,ah,aj,ag=K(ak.target).data("ui-slider-handle-index");switch(ak.keyCode){case K.ui.keyCode.HOME:case K.ui.keyCode.END:case K.ui.keyCode.PAGE_UP:case K.ui.keyCode.PAGE_DOWN:case K.ui.keyCode.UP:case K.ui.keyCode.RIGHT:case K.ui.keyCode.DOWN:case K.ui.keyCode.LEFT:ak.preventDefault();if(!this._keySliding){this._keySliding=true;K(ak.target).addClass("ui-state-active");al=this._start(ak,ag);if(al===false){return}}break}aj=this.options.step;if(this.options.values&&this.options.values.length){ai=ah=this.values(ag)}else{ai=ah=this.value()}switch(ak.keyCode){case K.ui.keyCode.HOME:ah=this._valueMin();break;case K.ui.keyCode.END:ah=this._valueMax();break;case K.ui.keyCode.PAGE_UP:ah=this._trimAlignValue(ai+((this._valueMax()-this._valueMin())/this.numPages));break;case K.ui.keyCode.PAGE_DOWN:ah=this._trimAlignValue(ai-((this._valueMax()-this._valueMin())/this.numPages));break;case K.ui.keyCode.UP:case K.ui.keyCode.RIGHT:if(ai===this._valueMax()){return}ah=this._trimAlignValue(ai+aj);break;case K.ui.keyCode.DOWN:case K.ui.keyCode.LEFT:if(ai===this._valueMin()){return}ah=this._trimAlignValue(ai-aj);break}this._slide(ak,ag,ah)},keyup:function(ah){var ag=K(ah.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(ah,ag);this._change(ah,ag);K(ah.target).removeClass("ui-state-active")}}}});
/*
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function w(ag){return function(){var ah=this.element.val();ag.apply(this,arguments);this._refresh();if(ah!==this.element.val()){this._trigger("change")}}}var M=K.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var ag={},ah=this.element;K.each(["min","max","step"],function(ai,aj){var ak=ah.attr(aj);if(ak!==undefined&&ak.length){ag[aj]=ak}});return ag},_events:{keydown:function(ag){if(this._start(ag)&&this._keydown(ag)){ag.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(ag){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",ag)}},mousewheel:function(ag,ah){if(!ah){return}if(!this.spinning&&!this._start(ag)){return false}this._spin((ah>0?1:-1)*this.options.step,ag);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(ag)}},100);ag.preventDefault()},"mousedown .ui-spinner-button":function(ah){var ag;ag=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function ai(){var aj=this.element[0]===this.document[0].activeElement;if(!aj){this.element.focus();this.previous=ag;this._delay(function(){this.previous=ag})}}ah.preventDefault();ai.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;ai.call(this)});if(this._start(ah)===false){return}this._repeat(null,K(ah.currentTarget).hasClass("ui-spinner-up")?1:-1,ah)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(ag){if(!K(ag.currentTarget).hasClass("ui-state-active")){return}if(this._start(ag)===false){return false}this._repeat(null,K(ag.currentTarget).hasClass("ui-spinner-up")?1:-1,ag)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var ag=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=ag.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(ag.height()*0.5)&&ag.height()>0){ag.height(ag.height())}if(this.options.disabled){this.disable()}},_keydown:function(ah){var ag=this.options,ai=K.ui.keyCode;switch(ah.keyCode){case ai.UP:this._repeat(null,1,ah);return true;case ai.DOWN:this._repeat(null,-1,ah);return true;case ai.PAGE_UP:this._repeat(null,ag.page,ah);return true;case ai.PAGE_DOWN:this._repeat(null,-ag.page,ah);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(ag){if(!this.spinning&&this._trigger("start",ag)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(ah,ag,ai){ah=ah||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,ag,ai)},ah);this._spin(ag*this.options.step,ai)},_spin:function(ah,ag){var ai=this.value()||0;if(!this.counter){this.counter=1}ai=this._adjustValue(ai+ah*this._increment(this.counter));if(!this.spinning||this._trigger("spin",ag,{value:ai})!==false){this._value(ai);this.counter++}},_increment:function(ag){var ah=this.options.incremental;if(ah){return K.isFunction(ah)?ah(ag):Math.floor(ag*ag*ag/50000-ag*ag/500+17*ag/200+1)}return 1},_precision:function(){var ag=this._precisionOf(this.options.step);if(this.options.min!==null){ag=Math.max(ag,this._precisionOf(this.options.min))}return ag},_precisionOf:function(ah){var ai=ah.toString(),ag=ai.indexOf(".");return ag===-1?0:ai.length-ag-1},_adjustValue:function(ai){var ah,aj,ag=this.options;ah=ag.min!==null?ag.min:0;aj=ai-ah;aj=Math.round(aj/ag.step)*ag.step;ai=ah+aj;ai=parseFloat(ai.toFixed(this._precision()));if(ag.max!==null&&ai>ag.max){return ag.max}if(ag.min!==null&&ai<ag.min){return ag.min}return ai},_stop:function(ag){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",ag)},_setOption:function(ag,ah){if(ag==="culture"||ag==="numberFormat"){var ai=this._parse(this.element.val());this.options[ag]=ah;this.element.val(this._format(ai));return}if(ag==="max"||ag==="min"||ag==="step"){if(typeof ah==="string"){ah=this._parse(ah)}}if(ag==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(ah.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(ah.down)}this._super(ag,ah);if(ag==="disabled"){this.widget().toggleClass("ui-state-disabled",!!ah);this.element.prop("disabled",!!ah);this.buttons.button(ah?"disable":"enable")}},_setOptions:w(function(ag){this._super(ag)}),_parse:function(ag){if(typeof ag==="string"&&ag!==""){ag=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(ag,10,this.options.culture):+ag}return ag===""||isNaN(ag)?null:ag},_format:function(ag){if(ag===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(ag,this.options.numberFormat,this.options.culture):ag},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var ag=this.value();if(ag===null){return false}return ag===this._adjustValue(ag)},_value:function(ai,ag){var ah;if(ai!==""){ah=this._parse(ai);if(ah!==null){if(!ag){ah=this._adjustValue(ah)}ai=this._format(ah)}}this.element.val(ai);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:w(function(ag){this._stepUp(ag)}),_stepUp:function(ag){if(this._start()){this._spin((ag||1)*this.options.step);this._stop()}},stepDown:w(function(ag){this._stepDown(ag)}),_stepDown:function(ag){if(this._start()){this._spin((ag||1)*-this.options.step);this._stop()}},pageUp:w(function(ag){this._stepUp((ag||1)*this.options.page)}),pageDown:w(function(ag){this._stepDown((ag||1)*this.options.page)}),value:function(ag){if(!arguments.length){return this._parse(this.element.val())}w(this._value).call(this,ag)},widget:function(){return this.uiSpinner}});
/*
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */
var l=K.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var ag=/#.*$/;return function(ai){var ak,aj;ai=ai.cloneNode(false);ak=ai.href.replace(ag,"");aj=location.href.replace(ag,"");try{ak=decodeURIComponent(ak)}catch(ah){}try{aj=decodeURIComponent(aj)}catch(ah){}return ai.hash.length>1&&ak===aj}})(),_create:function(){var ah=this,ag=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",ag.collapsible);this._processTabs();ag.active=this._initialActive();if(K.isArray(ag.disabled)){ag.disabled=K.unique(ag.disabled.concat(K.map(this.tabs.filter(".ui-state-disabled"),function(ai){return ah.tabs.index(ai)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(ag.active)}else{this.active=K()}this._refresh();if(this.active.length){this.load(ag.active)}},_initialActive:function(){var ah=this.options.active,ag=this.options.collapsible,ai=location.hash.substring(1);if(ah===null){if(ai){this.tabs.each(function(aj,ak){if(K(ak).attr("aria-controls")===ai){ah=aj;return false}})}if(ah===null){ah=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(ah===null||ah===-1){ah=this.tabs.length?0:false}}if(ah!==false){ah=this.tabs.index(this.tabs.eq(ah));if(ah===-1){ah=ag?false:0}}if(!ag&&ah===false&&this.anchors.length){ah=0}return ah},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?K():this._getPanelForTab(this.active)}},_tabKeydown:function(ai){var ah=K(this.document[0].activeElement).closest("li"),ag=this.tabs.index(ah),aj=true;if(this._handlePageNav(ai)){return}switch(ai.keyCode){case K.ui.keyCode.RIGHT:case K.ui.keyCode.DOWN:ag++;break;case K.ui.keyCode.UP:case K.ui.keyCode.LEFT:aj=false;ag--;break;case K.ui.keyCode.END:ag=this.anchors.length-1;break;case K.ui.keyCode.HOME:ag=0;break;case K.ui.keyCode.SPACE:ai.preventDefault();clearTimeout(this.activating);this._activate(ag);return;case K.ui.keyCode.ENTER:ai.preventDefault();clearTimeout(this.activating);this._activate(ag===this.options.active?false:ag);return;default:return}ai.preventDefault();clearTimeout(this.activating);ag=this._focusNextTab(ag,aj);if(!ai.ctrlKey&&!ai.metaKey){ah.attr("aria-selected","false");this.tabs.eq(ag).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",ag)},this.delay)}},_panelKeydown:function(ag){if(this._handlePageNav(ag)){return}if(ag.ctrlKey&&ag.keyCode===K.ui.keyCode.UP){ag.preventDefault();this.active.focus()}},_handlePageNav:function(ag){if(ag.altKey&&ag.keyCode===K.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(ag.altKey&&ag.keyCode===K.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(ah,ai){var ag=this.tabs.length-1;function aj(){if(ah>ag){ah=0}if(ah<0){ah=ag}return ah}while(K.inArray(aj(),this.options.disabled)!==-1){ah=ai?ah+1:ah-1}return ah},_focusNextTab:function(ag,ah){ag=this._findNextTab(ag,ah);this.tabs.eq(ag).focus();return ag},_setOption:function(ag,ah){if(ag==="active"){this._activate(ah);return}if(ag==="disabled"){this._setupDisabled(ah);return}this._super(ag,ah);if(ag==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",ah);if(!ah&&this.options.active===false){this._activate(0)}}if(ag==="event"){this._setupEvents(ah)}if(ag==="heightStyle"){this._setupHeightStyle(ah)}},_sanitizeSelector:function(ag){return ag?ag.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var ah=this.options,ag=this.tablist.children(":has(a[href])");ah.disabled=K.map(ag.filter(".ui-state-disabled"),function(ai){return ag.index(ai)});this._processTabs();if(ah.active===false||!this.anchors.length){ah.active=false;this.active=K()}else{if(this.active.length&&!K.contains(this.tablist[0],this.active[0])){if(this.tabs.length===ah.disabled.length){ah.active=false;this.active=K()}else{this._activate(this._findNextTab(Math.max(0,ah.active-1),false))}}else{ah.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var ai=this,aj=this.tabs,ah=this.anchors,ag=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(ak){if(K(this).is(".ui-state-disabled")){ak.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(K(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return K("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=K();this.anchors.each(function(ap,an){var ak,al,ao,am=K(an).uniqueId().attr("id"),aq=K(an).closest("li"),ar=aq.attr("aria-controls");if(ai._isLocal(an)){ak=an.hash;ao=ak.substring(1);al=ai.element.find(ai._sanitizeSelector(ak))}else{ao=aq.attr("aria-controls")||K({}).uniqueId()[0].id;ak="#"+ao;al=ai.element.find(ak);if(!al.length){al=ai._createPanel(ao);al.insertAfter(ai.panels[ap-1]||ai.tablist)}al.attr("aria-live","polite")}if(al.length){ai.panels=ai.panels.add(al)}if(ar){aq.data("ui-tabs-aria-controls",ar)}aq.attr({"aria-controls":ao,"aria-labelledby":am});al.attr("aria-labelledby",am)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");if(aj){this._off(aj.not(this.tabs));this._off(ah.not(this.anchors));this._off(ag.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(ag){return K("<div>").attr("id",ag).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(ai){if(K.isArray(ai)){if(!ai.length){ai=false}else{if(ai.length===this.anchors.length){ai=true}}}for(var ah=0,ag;(ag=this.tabs[ah]);ah++){if(ai===true||K.inArray(ah,ai)!==-1){K(ag).addClass("ui-state-disabled").attr("aria-disabled","true")}else{K(ag).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=ai},_setupEvents:function(ah){var ag={};if(ah){K.each(ah.split(" "),function(aj,ai){ag[ai]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(ai){ai.preventDefault()}});this._on(this.anchors,ag);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(ag){var ai,ah=this.element.parent();if(ag==="fill"){ai=ah.height();ai-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var ak=K(this),aj=ak.css("position");if(aj==="absolute"||aj==="fixed"){return}ai-=ak.outerHeight(true)});this.element.children().not(this.panels).each(function(){ai-=K(this).outerHeight(true)});this.panels.each(function(){K(this).height(Math.max(0,ai-K(this).innerHeight()+K(this).height()))}).css("overflow","auto")}else{if(ag==="auto"){ai=0;this.panels.each(function(){ai=Math.max(ai,K(this).height("").height())}).height(ai)}}},_eventHandler:function(ag){var ap=this.options,ak=this.active,al=K(ag.currentTarget),aj=al.closest("li"),an=aj[0]===ak[0],ah=an&&ap.collapsible,ai=ah?K():this._getPanelForTab(aj),am=!ak.length?K():this._getPanelForTab(ak),ao={oldTab:ak,oldPanel:am,newTab:ah?K():aj,newPanel:ai};ag.preventDefault();if(aj.hasClass("ui-state-disabled")||aj.hasClass("ui-tabs-loading")||this.running||(an&&!ap.collapsible)||(this._trigger("beforeActivate",ag,ao)===false)){return}ap.active=ah?false:this.tabs.index(aj);this.active=an?K():aj;if(this.xhr){this.xhr.abort()}if(!am.length&&!ai.length){K.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(ai.length){this.load(this.tabs.index(aj),ag)}this._toggle(ag,ao)},_toggle:function(am,al){var ak=this,ag=al.newPanel,aj=al.oldPanel;this.running=true;function ai(){ak.running=false;ak._trigger("activate",am,al)}function ah(){al.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(ag.length&&ak.options.show){ak._show(ag,ak.options.show,ai)}else{ag.show();ai()}}if(aj.length&&this.options.hide){this._hide(aj,this.options.hide,function(){al.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");ah()})}else{al.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");aj.hide();ah()}aj.attr("aria-hidden","true");al.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(ag.length&&aj.length){al.oldTab.attr("tabIndex",-1)}else{if(ag.length){this.tabs.filter(function(){return K(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}ag.attr("aria-hidden","false");al.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(ah){var ag,ai=this._findActive(ah);if(ai[0]===this.active[0]){return}if(!ai.length){ai=this.active}ag=ai.find(".ui-tabs-anchor")[0];this._eventHandler({target:ag,currentTarget:ag,preventDefault:K.noop})},_findActive:function(ag){return ag===false?K():this.tabs.eq(ag)},_getIndex:function(ag){if(typeof ag==="string"){ag=this.anchors.index(this.anchors.filter("[href$='"+ag+"']"))}return ag},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){if(K.data(this,"ui-tabs-destroy")){K(this).remove()}else{K(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var ag=K(this),ah=ag.data("ui-tabs-aria-controls");if(ah){ag.attr("aria-controls",ah).removeData("ui-tabs-aria-controls")}else{ag.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(ag){var ah=this.options.disabled;if(ah===false){return}if(ag===undefined){ah=false}else{ag=this._getIndex(ag);if(K.isArray(ah)){ah=K.map(ah,function(ai){return ai!==ag?ai:null})}else{ah=K.map(this.tabs,function(ai,aj){return aj!==ag?aj:null})}}this._setupDisabled(ah)},disable:function(ag){var ah=this.options.disabled;if(ah===true){return}if(ag===undefined){ah=true}else{ag=this._getIndex(ag);if(K.inArray(ag,ah)!==-1){return}if(K.isArray(ah)){ah=K.merge([ag],ah).sort()}else{ah=[ag]}}this._setupDisabled(ah)},load:function(aj,an){aj=this._getIndex(aj);var am=this,ak=this.tabs.eq(aj),ai=ak.find(".ui-tabs-anchor"),ah=this._getPanelForTab(ak),al={tab:ak,panel:ah},ag=function(ap,ao){if(ao==="abort"){am.panels.stop(false,true)}ak.removeClass("ui-tabs-loading");ah.removeAttr("aria-busy");if(ap===am.xhr){delete am.xhr}};if(this._isLocal(ai[0])){return}this.xhr=K.ajax(this._ajaxSettings(ai,an,al));if(this.xhr&&this.xhr.statusText!=="canceled"){ak.addClass("ui-tabs-loading");ah.attr("aria-busy","true");this.xhr.done(function(ap,ao,aq){setTimeout(function(){ah.html(ap);am._trigger("load",an,al);ag(aq,ao)},1)}).fail(function(ap,ao){setTimeout(function(){ag(ap,ao)},1)})}},_ajaxSettings:function(ag,aj,ai){var ah=this;return{url:ag.attr("href"),beforeSend:function(al,ak){return ah._trigger("beforeLoad",aj,K.extend({jqXHR:al,ajaxSettings:ak},ai))}}},_getPanelForTab:function(ag){var ah=K(ag).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+ah))}});
/*
 * jQuery UI Tooltip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 */
var N=K.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var ag=K(this).attr("title")||"";return K("<a>").text(ag).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_addDescribedBy:function(ah,ai){var ag=(ah.attr("aria-describedby")||"").split(/\s+/);ag.push(ai);ah.data("ui-tooltip-id",ai).attr("aria-describedby",K.trim(ag.join(" ")))},_removeDescribedBy:function(ai){var aj=ai.data("ui-tooltip-id"),ah=(ai.attr("aria-describedby")||"").split(/\s+/),ag=K.inArray(aj,ah);if(ag!==-1){ah.splice(ag,1)}ai.removeData("ui-tooltip-id");ah=K.trim(ah.join(" "));if(ah){ai.attr("aria-describedby",ah)}else{ai.removeAttr("aria-describedby")}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}this.liveRegion=K("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(ag,ai){var ah=this;if(ag==="disabled"){this[ai?"_disable":"_enable"]();this.options[ag]=ai;return}this._super(ag,ai);if(ag==="content"){K.each(this.tooltips,function(ak,aj){ah._updateContent(aj.element)})}},_disable:function(){var ag=this;K.each(this.tooltips,function(aj,ai){var ah=K.Event("blur");ah.target=ah.currentTarget=ai.element[0];ag.close(ah,true)});this.element.find(this.options.items).addBack().each(function(){var ah=K(this);if(ah.is("[title]")){ah.data("ui-tooltip-title",ah.attr("title")).removeAttr("title")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var ag=K(this);if(ag.data("ui-tooltip-title")){ag.attr("title",ag.data("ui-tooltip-title"))}})},open:function(ah){var ag=this,ai=K(ah?ah.target:this.element).closest(this.options.items);if(!ai.length||ai.data("ui-tooltip-id")){return}if(ai.attr("title")){ai.data("ui-tooltip-title",ai.attr("title"))}ai.data("ui-tooltip-open",true);if(ah&&ah.type==="mouseover"){ai.parents().each(function(){var ak=K(this),aj;if(ak.data("ui-tooltip-open")){aj=K.Event("blur");aj.target=aj.currentTarget=this;ag.close(aj,true)}if(ak.attr("title")){ak.uniqueId();ag.parents[this.id]={element:this,title:ak.attr("title")};ak.attr("title","")}})}this._registerCloseHandlers(ah,ai);this._updateContent(ai,ah)},_updateContent:function(al,ak){var aj,ag=this.options.content,ai=this,ah=ak?ak.type:null;if(typeof ag==="string"){return this._open(ak,al,ag)}aj=ag.call(al[0],function(am){ai._delay(function(){if(!al.data("ui-tooltip-open")){return}if(ak){ak.type=ah}this._open(ak,al,am)})});if(aj){this._open(ak,al,aj)}},_open:function(ah,ak,al){var ag,ao,an,ai,am=K.extend({},this.options.position);if(!al){return}ag=this._find(ak);if(ag){ag.tooltip.find(".ui-tooltip-content").html(al);return}if(ak.is("[title]")){if(ah&&ah.type==="mouseover"){ak.attr("title","")}else{ak.removeAttr("title")}}ag=this._tooltip(ak);ao=ag.tooltip;this._addDescribedBy(ak,ao.attr("id"));ao.find(".ui-tooltip-content").html(al);this.liveRegion.children().hide();if(al.clone){ai=al.clone();ai.removeAttr("id").find("[id]").removeAttr("id")}else{ai=al}K("<div>").html(ai).appendTo(this.liveRegion);function aj(ap){am.of=ap;if(ao.is(":hidden")){return}ao.position(am)}if(this.options.track&&ah&&/^mouse/.test(ah.type)){this._on(this.document,{mousemove:aj});aj(ah)}else{ao.position(K.extend({of:ak},this.options.position))}ao.hide();this._show(ao,this.options.show);if(this.options.show&&this.options.show.delay){an=this.delayedShow=setInterval(function(){if(ao.is(":visible")){aj(am.of);clearInterval(an)}},K.fx.interval)}this._trigger("open",ah,{tooltip:ao})},_registerCloseHandlers:function(ah,ai){var ag={keyup:function(aj){if(aj.keyCode===K.ui.keyCode.ESCAPE){var ak=K.Event(aj);ak.currentTarget=ai[0];this.close(ak,true)}}};if(ai[0]!==this.element[0]){ag.remove=function(){this._removeTooltip(this._find(ai).tooltip)}}if(!ah||ah.type==="mouseover"){ag.mouseleave="close"}if(!ah||ah.type==="focusin"){ag.focusout="close"}this._on(true,ai,ag)},close:function(ah){var aj,ag=this,ak=K(ah?ah.currentTarget:this.element),ai=this._find(ak);if(!ai){ak.removeData("ui-tooltip-open");return}aj=ai.tooltip;if(ai.closing){return}clearInterval(this.delayedShow);if(ak.data("ui-tooltip-title")&&!ak.attr("title")){ak.attr("title",ak.data("ui-tooltip-title"))}this._removeDescribedBy(ak);ai.hiding=true;aj.stop(true);this._hide(aj,this.options.hide,function(){ag._removeTooltip(K(this))});ak.removeData("ui-tooltip-open");this._off(ak,"mouseleave focusout keyup");if(ak[0]!==this.element[0]){this._off(ak,"remove")}this._off(this.document,"mousemove");if(ah&&ah.type==="mouseleave"){K.each(this.parents,function(am,al){K(al.element).attr("title",al.title);delete ag.parents[am]})}ai.closing=true;this._trigger("close",ah,{tooltip:aj});if(!ai.hiding){ai.closing=false}},_tooltip:function(ag){var ah=K("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),ai=ah.uniqueId().attr("id");K("<div>").addClass("ui-tooltip-content").appendTo(ah);ah.appendTo(this.document[0].body);return this.tooltips[ai]={element:ag,tooltip:ah}},_find:function(ag){var ah=ag.data("ui-tooltip-id");return ah?this.tooltips[ah]:null},_removeTooltip:function(ag){ag.remove();delete this.tooltips[ag.attr("id")]},_destroy:function(){var ag=this;K.each(this.tooltips,function(ak,aj){var ai=K.Event("blur"),ah=aj.element;ai.target=ai.currentTarget=ah[0];ag.close(ai,true);K("#"+ak).remove();if(ah.data("ui-tooltip-title")){if(!ah.attr("title")){ah.attr("title",ah.data("ui-tooltip-title"))}ah.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});
/*
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
var k="ui-effects-",u=K;K.effects={effect:{}};
/*
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(av,aj){var aq="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",an=/^([\-+])=\s*(\d+\.?\d*)/,am=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(aw){return[aw[1],aw[2],aw[3],aw[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(aw){return[aw[1]*2.55,aw[2]*2.55,aw[3]*2.55,aw[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(aw){return[parseInt(aw[1],16),parseInt(aw[2],16),parseInt(aw[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(aw){return[parseInt(aw[1]+aw[1],16),parseInt(aw[2]+aw[2],16),parseInt(aw[3]+aw[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(aw){return[aw[1],aw[2]/100,aw[3]/100,aw[4]]}}],ak=av.Color=function(ax,ay,aw,az){return new av.Color.fn.parse(ax,ay,aw,az)},ap={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},au={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},at=ak.support={},ah=av("<p>")[0],ag,ar=av.each;ah.style.cssText="background-color:rgba(1,1,1,.5)";at.rgba=ah.style.backgroundColor.indexOf("rgba")>-1;ar(ap,function(aw,ax){ax.cache="_"+aw;ax.props.alpha={idx:3,type:"percent",def:1}});function ao(ax,az,ay){var aw=au[az.type]||{};if(ax==null){return(ay||!az.def)?null:az.def}ax=aw.floor?~~ax:parseFloat(ax);if(isNaN(ax)){return az.def}if(aw.mod){return(ax+aw.mod)%aw.mod}return 0>ax?0:aw.max<ax?aw.max:ax}function al(aw){var ay=ak(),ax=ay._rgba=[];aw=aw.toLowerCase();ar(am,function(aD,aE){var aB,aC=aE.re.exec(aw),aA=aC&&aE.parse(aC),az=aE.space||"rgba";if(aA){aB=ay[az](aA);ay[ap[az].cache]=aB[ap[az].cache];ax=ay._rgba=aB._rgba;return false}});if(ax.length){if(ax.join()==="0,0,0,0"){av.extend(ax,ag.transparent)}return ay}return ag[aw]}ak.fn=av.extend(ak.prototype,{parse:function(aC,aA,aw,aB){if(aC===aj){this._rgba=[null,null,null,null];return this}if(aC.jquery||aC.nodeType){aC=av(aC).css(aA);aA=aj}var az=this,ay=av.type(aC),ax=this._rgba=[];if(aA!==aj){aC=[aC,aA,aw,aB];ay="array"}if(ay==="string"){return this.parse(al(aC)||ag._default)}if(ay==="array"){ar(ap.rgba.props,function(aD,aE){ax[aE.idx]=ao(aC[aE.idx],aE)});return this}if(ay==="object"){if(aC instanceof ak){ar(ap,function(aD,aE){if(aC[aE.cache]){az[aE.cache]=aC[aE.cache].slice()}})}else{ar(ap,function(aE,aF){var aD=aF.cache;ar(aF.props,function(aG,aH){if(!az[aD]&&aF.to){if(aG==="alpha"||aC[aG]==null){return}az[aD]=aF.to(az._rgba)}az[aD][aH.idx]=ao(aC[aG],aH,true)});if(az[aD]&&av.inArray(null,az[aD].slice(0,3))<0){az[aD][3]=1;if(aF.from){az._rgba=aF.from(az[aD])}}})}return this}},is:function(ay){var aw=ak(ay),az=true,ax=this;ar(ap,function(aA,aC){var aD,aB=aw[aC.cache];if(aB){aD=ax[aC.cache]||aC.to&&aC.to(ax._rgba)||[];ar(aC.props,function(aE,aF){if(aB[aF.idx]!=null){az=(aB[aF.idx]===aD[aF.idx]);return az}})}return az});return az},_space:function(){var aw=[],ax=this;ar(ap,function(ay,az){if(ax[az.cache]){aw.push(ay)}});return aw.pop()},transition:function(ax,aD){var ay=ak(ax),az=ay._space(),aA=ap[az],aB=this.alpha()===0?ak("transparent"):this,aC=aB[aA.cache]||aA.to(aB._rgba),aw=aC.slice();ay=ay[aA.cache];ar(aA.props,function(aH,aJ){var aG=aJ.idx,aF=aC[aG],aE=ay[aG],aI=au[aJ.type]||{};if(aE===null){return}if(aF===null){aw[aG]=aE}else{if(aI.mod){if(aE-aF>aI.mod/2){aF+=aI.mod}else{if(aF-aE>aI.mod/2){aF-=aI.mod}}}aw[aG]=ao((aE-aF)*aD+aF,aJ)}});return this[az](aw)},blend:function(az){if(this._rgba[3]===1){return this}var ay=this._rgba.slice(),ax=ay.pop(),aw=ak(az)._rgba;return ak(av.map(ay,function(aA,aB){return(1-ax)*aw[aB]+ax*aA}))},toRgbaString:function(){var ax="rgba(",aw=av.map(this._rgba,function(ay,az){return ay==null?(az>2?1:0):ay});if(aw[3]===1){aw.pop();ax="rgb("}return ax+aw.join()+")"},toHslaString:function(){var ax="hsla(",aw=av.map(this.hsla(),function(ay,az){if(ay==null){ay=az>2?1:0}if(az&&az<3){ay=Math.round(ay*100)+"%"}return ay});if(aw[3]===1){aw.pop();ax="hsl("}return ax+aw.join()+")"},toHexString:function(aw){var ax=this._rgba.slice(),ay=ax.pop();if(aw){ax.push(~~(ay*255))}return"#"+av.map(ax,function(az){az=(az||0).toString(16);return az.length===1?"0"+az:az}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});ak.fn.parse.prototype=ak.fn;function ai(ay,ax,aw){aw=(aw+1)%1;if(aw*6<1){return ay+(ax-ay)*aw*6}if(aw*2<1){return ax}if(aw*3<2){return ay+(ax-ay)*((2/3)-aw)*6}return ay}ap.hsla.to=function(ay){if(ay[0]==null||ay[1]==null||ay[2]==null){return[null,null,null,ay[3]]}var aw=ay[0]/255,aB=ay[1]/255,aC=ay[2]/255,aE=ay[3],aD=Math.max(aw,aB,aC),az=Math.min(aw,aB,aC),aF=aD-az,aG=aD+az,ax=aG*0.5,aA,aH;if(az===aD){aA=0}else{if(aw===aD){aA=(60*(aB-aC)/aF)+360}else{if(aB===aD){aA=(60*(aC-aw)/aF)+120}else{aA=(60*(aw-aB)/aF)+240}}}if(aF===0){aH=0}else{if(ax<=0.5){aH=aF/aG}else{aH=aF/(2-aG)}}return[Math.round(aA)%360,aH,ax,aE==null?1:aE]};ap.hsla.from=function(aA){if(aA[0]==null||aA[1]==null||aA[2]==null){return[null,null,null,aA[3]]}var az=aA[0]/360,ay=aA[1],ax=aA[2],aw=aA[3],aB=ax<=0.5?ax*(1+ay):ax+ay-ax*ay,aC=2*ax-aB;return[Math.round(ai(aC,aB,az+(1/3))*255),Math.round(ai(aC,aB,az)*255),Math.round(ai(aC,aB,az-(1/3))*255),aw]};ar(ap,function(ax,az){var ay=az.props,aw=az.cache,aB=az.to,aA=az.from;ak.fn[ax]=function(aG){if(aB&&!this[aw]){this[aw]=aB(this._rgba)}if(aG===aj){return this[aw].slice()}var aD,aF=av.type(aG),aC=(aF==="array"||aF==="object")?aG:arguments,aE=this[aw].slice();ar(ay,function(aH,aJ){var aI=aC[aF==="object"?aH:aJ.idx];if(aI==null){aI=aE[aJ.idx]}aE[aJ.idx]=ao(aI,aJ)});if(aA){aD=ak(aA(aE));aD[aw]=aE;return aD}else{return ak(aE)}};ar(ay,function(aC,aD){if(ak.fn[aC]){return}ak.fn[aC]=function(aH){var aJ=av.type(aH),aG=(aC==="alpha"?(this._hsla?"hsla":"rgba"):ax),aF=this[aG](),aI=aF[aD.idx],aE;if(aJ==="undefined"){return aI}if(aJ==="function"){aH=aH.call(this,aI);aJ=av.type(aH)}if(aH==null&&aD.empty){return this}if(aJ==="string"){aE=an.exec(aH);if(aE){aH=aI+parseFloat(aE[2])*(aE[1]==="+"?1:-1)}}aF[aD.idx]=aH;return this[aG](aF)}})});ak.hook=function(ax){var aw=ax.split(" ");ar(aw,function(ay,az){av.cssHooks[az]={set:function(aD,aE){var aB,aC,aA="";if(aE!=="transparent"&&(av.type(aE)!=="string"||(aB=al(aE)))){aE=ak(aB||aE);if(!at.rgba&&aE._rgba[3]!==1){aC=az==="backgroundColor"?aD.parentNode:aD;while((aA===""||aA==="transparent")&&aC&&aC.style){try{aA=av.css(aC,"backgroundColor");aC=aC.parentNode}catch(aF){}}aE=aE.blend(aA&&aA!=="transparent"?aA:"_default")}aE=aE.toRgbaString()}try{aD.style[az]=aE}catch(aF){}}};av.fx.step[az]=function(aA){if(!aA.colorInit){aA.start=ak(aA.elem,az);aA.end=ak(aA.end);aA.colorInit=true}av.cssHooks[az].set(aA.elem,aA.start.transition(aA.end,aA.pos))}})};ak.hook(aq);av.cssHooks.borderColor={expand:function(ax){var aw={};ar(["Top","Right","Bottom","Left"],function(az,ay){aw["border"+ay+"Color"]=ax});return aw}};ag=av.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(u);(function(){var ah=["add","remove","toggle"],ai={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};K.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(ak,al){K.fx.step[al]=function(am){if(am.end!=="none"&&!am.setAttr||am.pos===1&&!am.setAttr){u.style(am.elem,al,am.end);am.setAttr=true}}});function aj(ao){var al,ak,am=ao.ownerDocument.defaultView?ao.ownerDocument.defaultView.getComputedStyle(ao,null):ao.currentStyle,an={};if(am&&am.length&&am[0]&&am[am[0]]){ak=am.length;while(ak--){al=am[ak];if(typeof am[al]==="string"){an[K.camelCase(al)]=am[al]}}}else{for(al in am){if(typeof am[al]==="string"){an[al]=am[al]}}}return an}function ag(ak,am){var ao={},al,an;for(al in am){an=am[al];if(ak[al]!==an){if(!ai[al]){if(K.fx.step[al]||!isNaN(parseFloat(an))){ao[al]=an}}}}return ao}if(!K.fn.addBack){K.fn.addBack=function(ak){return this.add(ak==null?this.prevObject:this.prevObject.filter(ak))}}K.effects.animateClass=function(ak,al,ao,an){var am=K.speed(al,ao,an);return this.queue(function(){var ar=K(this),ap=ar.attr("class")||"",aq,at=am.children?ar.find("*").addBack():ar;at=at.map(function(){var au=K(this);return{el:au,start:aj(this)}});aq=function(){K.each(ah,function(au,av){if(ak[av]){ar[av+"Class"](ak[av])}})};aq();at=at.map(function(){this.end=aj(this.el[0]);this.diff=ag(this.start,this.end);return this});ar.attr("class",ap);at=at.map(function(){var aw=this,au=K.Deferred(),av=K.extend({},am,{queue:false,complete:function(){au.resolve(aw)}});this.el.animate(this.diff,av);return au.promise()});K.when.apply(K,at.get()).done(function(){aq();K.each(arguments,function(){var au=this.el;K.each(this.diff,function(av){au.css(av,"")})});am.complete.call(ar[0])})})};K.fn.extend({addClass:(function(ak){return function(am,al,ao,an){return al?K.effects.animateClass.call(this,{add:am},al,ao,an):ak.apply(this,arguments)}})(K.fn.addClass),removeClass:(function(ak){return function(am,al,ao,an){return arguments.length>1?K.effects.animateClass.call(this,{remove:am},al,ao,an):ak.apply(this,arguments)}})(K.fn.removeClass),toggleClass:(function(ak){return function(an,am,al,ap,ao){if(typeof am==="boolean"||am===undefined){if(!al){return ak.apply(this,arguments)}else{return K.effects.animateClass.call(this,(am?{add:an}:{remove:an}),al,ap,ao)}}else{return K.effects.animateClass.call(this,{toggle:an},am,al,ap)}}})(K.fn.toggleClass),switchClass:function(ak,am,al,ao,an){return K.effects.animateClass.call(this,{add:am,remove:ak},al,ao,an)}})})();(function(){K.extend(K.effects,{version:"1.11.4",save:function(aj,ak){for(var ai=0;ai<ak.length;ai++){if(ak[ai]!==null){aj.data(k+ak[ai],aj[0].style[ak[ai]])}}},restore:function(aj,al){var ak,ai;for(ai=0;ai<al.length;ai++){if(al[ai]!==null){ak=aj.data(k+al[ai]);if(ak===undefined){ak=""}aj.css(al[ai],ak)}}},setMode:function(ai,aj){if(aj==="toggle"){aj=ai.is(":hidden")?"show":"hide"}return aj},getBaseline:function(aj,ak){var al,ai;switch(aj[0]){case"top":al=0;break;case"middle":al=0.5;break;case"bottom":al=1;break;default:al=aj[0]/ak.height}switch(aj[1]){case"left":ai=0;break;case"center":ai=0.5;break;case"right":ai=1;break;default:ai=aj[1]/ak.width}return{x:ai,y:al}},createWrapper:function(aj){if(aj.parent().is(".ui-effects-wrapper")){return aj.parent()}var ak={width:aj.outerWidth(true),height:aj.outerHeight(true),"float":aj.css("float")},an=K("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),ai={width:aj.width(),height:aj.height()},am=document.activeElement;try{am.id}catch(al){am=document.body}aj.wrap(an);if(aj[0]===am||K.contains(aj[0],am)){K(am).focus()}an=aj.parent();if(aj.css("position")==="static"){an.css({position:"relative"});aj.css({position:"relative"})}else{K.extend(ak,{position:aj.css("position"),zIndex:aj.css("z-index")});K.each(["top","left","bottom","right"],function(ao,ap){ak[ap]=aj.css(ap);if(isNaN(parseInt(ak[ap],10))){ak[ap]="auto"}});aj.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}aj.css(ai);return an.css(ak).show()},removeWrapper:function(ai){var aj=document.activeElement;if(ai.parent().is(".ui-effects-wrapper")){ai.parent().replaceWith(ai);if(ai[0]===aj||K.contains(ai[0],aj)){K(aj).focus()}}return ai},setTransition:function(aj,al,ai,ak){ak=ak||{};K.each(al,function(an,am){var ao=aj.cssUnit(am);if(ao[0]>0){ak[am]=ao[0]*ai+ao[1]}});return ak}});function ag(aj,ai,ak,al){if(K.isPlainObject(aj)){ai=aj;aj=aj.effect}aj={effect:aj};if(ai==null){ai={}}if(K.isFunction(ai)){al=ai;ak=null;ai={}}if(typeof ai==="number"||K.fx.speeds[ai]){al=ak;ak=ai;ai={}}if(K.isFunction(ak)){al=ak;ak=null}if(ai){K.extend(aj,ai)}ak=ak||ai.duration;aj.duration=K.fx.off?0:typeof ak==="number"?ak:ak in K.fx.speeds?K.fx.speeds[ak]:K.fx.speeds._default;aj.complete=al||ai.complete;return aj}function ah(ai){if(!ai||typeof ai==="number"||K.fx.speeds[ai]){return true}if(typeof ai==="string"&&!K.effects.effect[ai]){return true}if(K.isFunction(ai)){return true}if(typeof ai==="object"&&!ai.effect){return true}return false}K.fn.extend({effect:function(){var ak=ag.apply(this,arguments),am=ak.mode,ai=ak.queue,aj=K.effects.effect[ak.effect];if(K.fx.off||!aj){if(am){return this[am](ak.duration,ak.complete)}else{return this.each(function(){if(ak.complete){ak.complete.call(this)}})}}function al(ap){var aq=K(this),ao=ak.complete,ar=ak.mode;function an(){if(K.isFunction(ao)){ao.call(aq[0])}if(K.isFunction(ap)){ap()}}if(aq.is(":hidden")?ar==="hide":ar==="show"){aq[ar]();an()}else{aj.call(aq[0],ak,an)}}return ai===false?this.each(al):this.queue(ai||"fx",al)},show:(function(ai){return function(ak){if(ah(ak)){return ai.apply(this,arguments)}else{var aj=ag.apply(this,arguments);aj.mode="show";return this.effect.call(this,aj)}}})(K.fn.show),hide:(function(ai){return function(ak){if(ah(ak)){return ai.apply(this,arguments)}else{var aj=ag.apply(this,arguments);aj.mode="hide";return this.effect.call(this,aj)}}})(K.fn.hide),toggle:(function(ai){return function(ak){if(ah(ak)||typeof ak==="boolean"){return ai.apply(this,arguments)}else{var aj=ag.apply(this,arguments);aj.mode="toggle";return this.effect.call(this,aj)}}})(K.fn.toggle),cssUnit:function(ai){var aj=this.css(ai),ak=[];K.each(["em","px","%","pt"],function(al,am){if(aj.indexOf(am)>0){ak=[parseFloat(aj),am]}});return ak}})})();(function(){var ag={};K.each(["Quad","Cubic","Quart","Quint","Expo"],function(ai,ah){ag[ah]=function(aj){return Math.pow(aj,ai+2)}});K.extend(ag,{Sine:function(ah){return 1-Math.cos(ah*Math.PI/2)},Circ:function(ah){return 1-Math.sqrt(1-ah*ah)},Elastic:function(ah){return ah===0||ah===1?ah:-Math.pow(2,8*(ah-1))*Math.sin(((ah-1)*80-7.5)*Math.PI/15)},Back:function(ah){return ah*ah*(3*ah-2)},Bounce:function(aj){var ah,ai=4;while(aj<((ah=Math.pow(2,--ai))-1)/11){}return 1/Math.pow(4,3-ai)-7.5625*Math.pow((ah*3-2)/22-aj,2)}});K.each(ag,function(ai,ah){K.easing["easeIn"+ai]=ah;K.easing["easeOut"+ai]=function(aj){return 1-ah(1-aj)};K.easing["easeInOut"+ai]=function(aj){return aj<0.5?ah(aj*2)/2:1-ah(aj*-2+2)/2}})})();var V=K.effects;
/*
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
var aa=K.effects.effect.blind=function(ai,ao){var aj=K(this),at=/up|down|vertical/,ar=/up|left|vertical|horizontal/,au=["position","top","bottom","left","right","height","width"],ap=K.effects.setMode(aj,ai.mode||"hide"),av=ai.direction||"up",al=at.test(av),ak=al?"height":"width",aq=al?"top":"left",ax=ar.test(av),an={},aw=ap==="show",ah,ag,am;if(aj.parent().is(".ui-effects-wrapper")){K.effects.save(aj.parent(),au)}else{K.effects.save(aj,au)}aj.show();ah=K.effects.createWrapper(aj).css({overflow:"hidden"});ag=ah[ak]();am=parseFloat(ah.css(aq))||0;an[ak]=aw?ag:0;if(!ax){aj.css(al?"bottom":"right",0).css(al?"top":"left","auto").css({position:"absolute"});an[aq]=aw?am:ag+am}if(aw){ah.css(ak,0);if(!ax){ah.css(aq,am+ag)}}ah.animate(an,{duration:ai.duration,easing:ai.easing,queue:false,complete:function(){if(ap==="hide"){aj.hide()}K.effects.restore(aj,au);K.effects.removeWrapper(aj);ao()}})};
/*
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
var U=K.effects.effect.bounce=function(ap,ao){var ag=K(this),ah=["position","top","bottom","left","right","height","width"],an=K.effects.setMode(ag,ap.mode||"effect"),am=an==="hide",ay=an==="show",az=ap.direction||"up",ai=ap.distance,al=ap.times||5,aA=al*2+(ay||am?1:0),ax=ap.duration/aA,ar=ap.easing,aj=(az==="up"||az==="down")?"top":"left",aq=(az==="up"||az==="left"),aw,ak,av,at=ag.queue(),au=at.length;if(ay||am){ah.push("opacity")}K.effects.save(ag,ah);ag.show();K.effects.createWrapper(ag);if(!ai){ai=ag[aj==="top"?"outerHeight":"outerWidth"]()/3}if(ay){av={opacity:1};av[aj]=0;ag.css("opacity",0).css(aj,aq?-ai*2:ai*2).animate(av,ax,ar)}if(am){ai=ai/Math.pow(2,al-1)}av={};av[aj]=0;for(aw=0;aw<al;aw++){ak={};ak[aj]=(aq?"-=":"+=")+ai;ag.animate(ak,ax,ar).animate(av,ax,ar);ai=am?ai*2:ai/2}if(am){ak={opacity:0};ak[aj]=(aq?"-=":"+=")+ai;ag.animate(ak,ax,ar)}ag.queue(function(){if(am){ag.hide()}K.effects.restore(ag,ah);K.effects.removeWrapper(ag);ao()});if(au>1){at.splice.apply(at,[1,0].concat(at.splice(au,aA+1)))}ag.dequeue()};
/*
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
var F=K.effects.effect.clip=function(aj,am){var ak=K(this),aq=["position","top","bottom","left","right","height","width"],ap=K.effects.setMode(ak,aj.mode||"hide"),at=ap==="show",ar=aj.direction||"vertical",ao=ar==="vertical",au=ao?"height":"width",an=ao?"top":"left",al={},ah,ai,ag;K.effects.save(ak,aq);ak.show();ah=K.effects.createWrapper(ak).css({overflow:"hidden"});ai=(ak[0].tagName==="IMG")?ah:ak;ag=ai[au]();if(at){ai.css(au,0);ai.css(an,ag/2)}al[au]=at?ag:0;al[an]=at?0:ag/2;ai.animate(al,{queue:false,duration:aj.duration,easing:aj.easing,complete:function(){if(!at){ak.hide()}K.effects.restore(ak,aq);K.effects.removeWrapper(ak);am()}})};
/*
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
var p=K.effects.effect.drop=function(ah,al){var ai=K(this),an=["position","top","bottom","left","right","opacity","height","width"],am=K.effects.setMode(ai,ah.mode||"hide"),ap=am==="show",ao=ah.direction||"left",aj=(ao==="up"||ao==="down")?"top":"left",aq=(ao==="up"||ao==="left")?"pos":"neg",ak={opacity:ap?1:0},ag;K.effects.save(ai,an);ai.show();K.effects.createWrapper(ai);ag=ah.distance||ai[aj==="top"?"outerHeight":"outerWidth"](true)/2;if(ap){ai.css("opacity",0).css(aj,aq==="pos"?-ag:ag)}ak[aj]=(ap?(aq==="pos"?"+=":"-="):(aq==="pos"?"-=":"+="))+ag;ai.animate(ak,{queue:false,duration:ah.duration,easing:ah.easing,complete:function(){if(am==="hide"){ai.hide()}K.effects.restore(ai,an);K.effects.removeWrapper(ai);al()}})};
/*
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
var S=K.effects.effect.explode=function(au,at){var am=au.pieces?Math.round(Math.sqrt(au.pieces)):3,ah=am,ag=K(this),ao=K.effects.setMode(ag,au.mode||"hide"),ay=ao==="show",ak=ag.show().css("visibility","hidden").offset(),av=Math.ceil(ag.outerWidth()/ah),ar=Math.ceil(ag.outerHeight()/am),al=[],ax,aw,ai,aq,ap,an;function az(){al.push(this);if(al.length===am*ah){aj()}}for(ax=0;ax<am;ax++){aq=ak.top+ax*ar;an=ax-(am-1)/2;for(aw=0;aw<ah;aw++){ai=ak.left+aw*av;ap=aw-(ah-1)/2;ag.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-aw*av,top:-ax*ar}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:av,height:ar,left:ai+(ay?ap*av:0),top:aq+(ay?an*ar:0),opacity:ay?0:1}).animate({left:ai+(ay?0:ap*av),top:aq+(ay?0:an*ar),opacity:ay?1:0},au.duration||500,au.easing,az)}}function aj(){ag.css({visibility:"visible"});K(al).remove();if(!ay){ag.hide()}at()}};
/*
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
var T=K.effects.effect.fade=function(aj,ag){var ah=K(this),ai=K.effects.setMode(ah,aj.mode||"toggle");ah.animate({opacity:ai},{queue:false,duration:aj.duration,easing:aj.easing,complete:ag})};
/*
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
var H=K.effects.effect.fold=function(ai,am){var aj=K(this),ar=["position","top","bottom","left","right","height","width"],ao=K.effects.setMode(aj,ai.mode||"hide"),av=ao==="show",ap=ao==="hide",ax=ai.size||15,aq=/([0-9]+)%/.exec(ax),aw=!!ai.horizFirst,an=av!==aw,ak=an?["width","height"]:["height","width"],al=ai.duration/2,ah,ag,au={},at={};K.effects.save(aj,ar);aj.show();ah=K.effects.createWrapper(aj).css({overflow:"hidden"});ag=an?[ah.width(),ah.height()]:[ah.height(),ah.width()];if(aq){ax=parseInt(aq[1],10)/100*ag[ap?0:1]}if(av){ah.css(aw?{height:0,width:ax}:{height:ax,width:0})}au[ak[0]]=av?ag[0]:ax;at[ak[1]]=av?ag[1]:0;ah.animate(au,al,ai.easing).animate(at,al,ai.easing,function(){if(ap){aj.hide()}K.effects.restore(aj,ar);K.effects.removeWrapper(aj);am()})};
/*
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
var O=K.effects.effect.highlight=function(al,ag){var ai=K(this),ah=["backgroundImage","backgroundColor","opacity"],ak=K.effects.setMode(ai,al.mode||"show"),aj={backgroundColor:ai.css("backgroundColor")};if(ak==="hide"){aj.opacity=0}K.effects.save(ai,ah);ai.show().css({backgroundImage:"none",backgroundColor:al.color||"#ffff99"}).animate(aj,{queue:false,duration:al.duration,easing:al.easing,complete:function(){if(ak==="hide"){ai.hide()}K.effects.restore(ai,ah);ag()}})};
/*
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
var a=K.effects.effect.size=function(ap,ao){var au,am,an,ag=K(this),at=["position","top","bottom","left","right","width","height","overflow","opacity"],ar=["position","top","bottom","left","right","overflow","opacity"],aq=["width","height","overflow"],ak=["fontSize"],aw=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],ah=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],al=K.effects.setMode(ag,ap.mode||"effect"),av=ap.restore||al!=="effect",az=ap.scale||"both",ax=ap.origin||["middle","center"],ay=ag.css("position"),ai=av?at:ar,aj={height:0,width:0,outerHeight:0,outerWidth:0};if(al==="show"){ag.show()}au={height:ag.height(),width:ag.width(),outerHeight:ag.outerHeight(),outerWidth:ag.outerWidth()};if(ap.mode==="toggle"&&al==="show"){ag.from=ap.to||aj;ag.to=ap.from||au}else{ag.from=ap.from||(al==="show"?aj:au);ag.to=ap.to||(al==="hide"?aj:au)}an={from:{y:ag.from.height/au.height,x:ag.from.width/au.width},to:{y:ag.to.height/au.height,x:ag.to.width/au.width}};if(az==="box"||az==="both"){if(an.from.y!==an.to.y){ai=ai.concat(aw);ag.from=K.effects.setTransition(ag,aw,an.from.y,ag.from);ag.to=K.effects.setTransition(ag,aw,an.to.y,ag.to)}if(an.from.x!==an.to.x){ai=ai.concat(ah);ag.from=K.effects.setTransition(ag,ah,an.from.x,ag.from);ag.to=K.effects.setTransition(ag,ah,an.to.x,ag.to)}}if(az==="content"||az==="both"){if(an.from.y!==an.to.y){ai=ai.concat(ak).concat(aq);ag.from=K.effects.setTransition(ag,ak,an.from.y,ag.from);ag.to=K.effects.setTransition(ag,ak,an.to.y,ag.to)}}K.effects.save(ag,ai);ag.show();K.effects.createWrapper(ag);ag.css("overflow","hidden").css(ag.from);if(ax){am=K.effects.getBaseline(ax,au);ag.from.top=(au.outerHeight-ag.outerHeight())*am.y;ag.from.left=(au.outerWidth-ag.outerWidth())*am.x;ag.to.top=(au.outerHeight-ag.to.outerHeight)*am.y;ag.to.left=(au.outerWidth-ag.to.outerWidth)*am.x}ag.css(ag.from);if(az==="content"||az==="both"){aw=aw.concat(["marginTop","marginBottom"]).concat(ak);ah=ah.concat(["marginLeft","marginRight"]);aq=at.concat(aw).concat(ah);ag.find("*[width]").each(function(){var aB=K(this),aA={height:aB.height(),width:aB.width(),outerHeight:aB.outerHeight(),outerWidth:aB.outerWidth()};if(av){K.effects.save(aB,aq)}aB.from={height:aA.height*an.from.y,width:aA.width*an.from.x,outerHeight:aA.outerHeight*an.from.y,outerWidth:aA.outerWidth*an.from.x};aB.to={height:aA.height*an.to.y,width:aA.width*an.to.x,outerHeight:aA.height*an.to.y,outerWidth:aA.width*an.to.x};if(an.from.y!==an.to.y){aB.from=K.effects.setTransition(aB,aw,an.from.y,aB.from);aB.to=K.effects.setTransition(aB,aw,an.to.y,aB.to)}if(an.from.x!==an.to.x){aB.from=K.effects.setTransition(aB,ah,an.from.x,aB.from);aB.to=K.effects.setTransition(aB,ah,an.to.x,aB.to)}aB.css(aB.from);aB.animate(aB.to,ap.duration,ap.easing,function(){if(av){K.effects.restore(aB,aq)}})})}ag.animate(ag.to,{queue:false,duration:ap.duration,easing:ap.easing,complete:function(){if(ag.to.opacity===0){ag.css("opacity",ag.from.opacity)}if(al==="hide"){ag.hide()}K.effects.restore(ag,ai);if(!av){if(ay==="static"){ag.css({position:"relative",top:ag.to.top,left:ag.to.left})}else{K.each(["top","left"],function(aA,aB){ag.css(aB,function(aD,aF){var aE=parseInt(aF,10),aC=aA?ag.to.left:ag.to.top;if(aF==="auto"){return aC+"px"}return aE+aC+"px"})})}}K.effects.removeWrapper(ag);ao()}})};
/*
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
var f=K.effects.effect.scale=function(ag,aj){var ah=K(this),ap=K.extend(true,{},ag),ak=K.effects.setMode(ah,ag.mode||"effect"),al=parseInt(ag.percent,10)||(parseInt(ag.percent,10)===0?0:(ak==="hide"?0:100)),an=ag.direction||"both",ao=ag.origin,ai={height:ah.height(),width:ah.width(),outerHeight:ah.outerHeight(),outerWidth:ah.outerWidth()},am={y:an!=="horizontal"?(al/100):1,x:an!=="vertical"?(al/100):1};ap.effect="size";ap.queue=false;ap.complete=aj;if(ak!=="effect"){ap.origin=ao||["middle","center"];ap.restore=true}ap.from=ag.from||(ak==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:ai);ap.to={height:ai.height*am.y,width:ai.width*am.x,outerHeight:ai.outerHeight*am.y,outerWidth:ai.outerWidth*am.x};if(ap.fade){if(ak==="show"){ap.from.opacity=0;ap.to.opacity=1}if(ak==="hide"){ap.from.opacity=1;ap.to.opacity=0}}ah.effect(ap)};
/*
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
var ad=K.effects.effect.puff=function(an,ag){var al=K(this),am=K.effects.setMode(al,an.mode||"hide"),aj=am==="hide",ak=parseInt(an.percent,10)||150,ai=ak/100,ah={height:al.height(),width:al.width(),outerHeight:al.outerHeight(),outerWidth:al.outerWidth()};K.extend(an,{effect:"scale",queue:false,fade:true,mode:am,complete:ag,percent:aj?ak:100,from:aj?ah:{height:ah.height*ai,width:ah.width*ai,outerHeight:ah.outerHeight*ai,outerWidth:ah.outerWidth*ai}});al.effect(an)};
/*
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
var J=K.effects.effect.pulsate=function(ag,ak){var ai=K(this),an=K.effects.setMode(ai,ag.mode||"show"),ar=an==="show",ao=an==="hide",at=(ar||an==="hide"),ap=((ag.times||5)*2)+(at?1:0),aj=ag.duration/ap,aq=0,am=ai.queue(),ah=am.length,al;if(ar||!ai.is(":visible")){ai.css("opacity",0).show();aq=1}for(al=1;al<ap;al++){ai.animate({opacity:aq},aj,ag.easing);aq=1-aq}ai.animate({opacity:aq},aj,ag.easing);ai.queue(function(){if(ao){ai.hide()}ak()});if(ah>1){am.splice.apply(am,[1,0].concat(am.splice(ah,ap+1)))}ai.dequeue()};
/*
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
var D=K.effects.effect.shake=function(ao,an){var ag=K(this),ah=["position","top","bottom","left","right","height","width"],am=K.effects.setMode(ag,ao.mode||"effect"),ax=ao.direction||"left",ai=ao.distance||20,al=ao.times||3,ay=al*2+1,at=Math.round(ao.duration/ay),ak=(ax==="up"||ax==="down")?"top":"left",aj=(ax==="up"||ax==="left"),aw={},av={},au={},ar,ap=ag.queue(),aq=ap.length;K.effects.save(ag,ah);ag.show();K.effects.createWrapper(ag);aw[ak]=(aj?"-=":"+=")+ai;av[ak]=(aj?"+=":"-=")+ai*2;au[ak]=(aj?"-=":"+=")+ai*2;ag.animate(aw,at,ao.easing);for(ar=1;ar<al;ar++){ag.animate(av,at,ao.easing).animate(au,at,ao.easing)}ag.animate(av,at,ao.easing).animate(aw,at/2,ao.easing).queue(function(){if(am==="hide"){ag.hide()}K.effects.restore(ag,ah);K.effects.removeWrapper(ag);an()});if(aq>1){ap.splice.apply(ap,[1,0].concat(ap.splice(aq,ay+1)))}ag.dequeue()};
/*
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
var C=K.effects.effect.slide=function(ai,am){var aj=K(this),ao=["position","top","bottom","left","right","width","height"],an=K.effects.setMode(aj,ai.mode||"show"),aq=an==="show",ap=ai.direction||"left",ak=(ap==="up"||ap==="down")?"top":"left",ah=(ap==="up"||ap==="left"),ag,al={};K.effects.save(aj,ao);aj.show();ag=ai.distance||aj[ak==="top"?"outerHeight":"outerWidth"](true);K.effects.createWrapper(aj).css({overflow:"hidden"});if(aq){aj.css(ak,ah?(isNaN(ag)?"-"+ag:-ag):ag)}al[ak]=(aq?(ah?"+=":"-="):(ah?"-=":"+="))+ag;aj.animate(al,{queue:false,duration:ai.duration,easing:ai.easing,complete:function(){if(an==="hide"){aj.hide()}K.effects.restore(aj,ao);K.effects.removeWrapper(aj);am()}})};
/*
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
var n=K.effects.effect.transfer=function(ah,al){var aj=K(this),ao=K(ah.to),ar=ao.css("position")==="fixed",an=K("body"),ap=ar?an.scrollTop():0,aq=ar?an.scrollLeft():0,ag=ao.offset(),ak={top:ag.top-ap,left:ag.left-aq,height:ao.innerHeight(),width:ao.innerWidth()},am=aj.offset(),ai=K("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(ah.className).css({top:am.top-ap,left:am.left-aq,height:aj.innerHeight(),width:aj.innerWidth(),position:ar?"fixed":"absolute"}).animate(ak,ah.duration,ah.easing,function(){ai.remove();al()})}}));
/*
 * Part of jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Copyright 2015  Hybird
 * 
 * Licensed MIT
 */
(function(b){var a=function(d){d=d.toLowerCase();var c=/(chrome)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[];return{browser:c[1]||"",version:c[2]||"0"}};matched=a(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}b.browserInfo=function(){return browser};b.matchBrowserVersion=function(c){return browser.version.match("^("+c+")$")!==null};b.matchIEVersion=function(){pattern="";for(var d=0;d<arguments.length;++d){var c=arguments[d]+".[\\d]+";pattern+=d>0?"|"+c:c}return(browser.msie===true)&&b.matchBrowserVersion(pattern)}})($);(function(a){a.uidGen=function(b){var d=b||false;var c=a.uidGen._default_prefix;if(typeof(d)=="object"){if(typeof(d.mode)=="string"){if(d.mode=="random"){a.uidGen._mode="random";a.uidGen.gen=jQuery.uidGen._gen2}else{a.uidGen._mode="sequential";a.uidGen.gen=jQuery.uidGen._gen1}}if(typeof(d.prefix)=="string"){a.uidGen._default_prefix=d.prefix;c=d.prefix}}else{if(typeof(d)=="string"){c=d}}return c+a.uidGen.gen()};a.uidGen._default_prefix="";a.uidGen._separator="-";a.uidGen._counter=0;a.uidGen._mode="sequential";a.uidGen._uuidlet=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};a.uidGen._gen1=function(){a.uidGen._counter++;return a.uidGen._counter};a.uidGen._gen2=function(){return(a.uidGen._uuidlet()+a.uidGen._uuidlet()+a.uidGen._separator+a.uidGen._uuidlet()+a.uidGen._separator+a.uidGen._uuidlet()+a.uidGen._separator+a.uidGen._uuidlet()+a.uidGen._separator+a.uidGen._uuidlet()+a.uidGen._uuidlet()+a.uidGen._uuidlet())};a.uidGen.gen=a.uidGen._gen1})(jQuery);if(!document.createElement("canvas").getContext){(function(){var ac=Math;var n=ac.round;var l=ac.sin;var B=ac.cos;var I=ac.abs;var O=ac.sqrt;var d=10;var f=d/2;var A=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function z(){return this.context_||(this.context_=new E(this))}var u=Array.prototype.slice;function g(m,p,Z){var j=u.call(arguments,2);return function(){return m.apply(p,j.concat(u.call(arguments)))}}function ag(j){return String(j).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aa(p,m,j){if(!p.namespaces[m]){p.namespaces.add(m,j,"#default#VML")}}function S(m){aa(m,"g_vml_","urn:schemas-microsoft-com:vml");aa(m,"g_o_","urn:schemas-microsoft-com:office:office");if(!m.styleSheets.ex_canvas_){var j=m.createStyleSheet();j.owningElement.id="ex_canvas_";j.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}S(document);var e={init:function(j){var m=j||document;m.createElement("canvas");m.attachEvent("onreadystatechange",g(this.init_,this,m))},init_:function(p){var m=p.getElementsByTagName("canvas");for(var j=0;j<m.length;j++){this.initElement(m[j])}},initElement:function(m){if(!m.getContext){m.getContext=z;S(m.ownerDocument);m.innerHTML="";m.attachEvent("onpropertychange",y);m.attachEvent("onresize",X);var j=m.attributes;if(j.width&&j.width.specified){m.style.width=j.width.nodeValue+"px"}else{m.width=m.clientWidth}if(j.height&&j.height.specified){m.style.height=j.height.nodeValue+"px"}else{m.height=m.clientHeight}}return m},uninitElement:function(m){if(m.getContext){var j=m.getContext();delete j.element_;delete j.canvas;m.innerHTML="";m.context_=null;m.getContext=null;m.detachEvent("onpropertychange",y);m.detachEvent("onresize",X)}}};function y(m){var j=m.srcElement;switch(m.propertyName){case"width":j.getContext().clearRect();j.style.width=j.attributes.width.nodeValue+"px";j.firstChild.style.width=j.clientWidth+"px";break;case"height":j.getContext().clearRect();j.style.height=j.attributes.height.nodeValue+"px";j.firstChild.style.height=j.clientHeight+"px";break}}function X(m){var j=m.srcElement;if(j.firstChild){j.firstChild.style.width=j.clientWidth+"px";j.firstChild.style.height=j.clientHeight+"px"}}e.init();var k=[];for(var af=0;af<16;af++){for(var ae=0;ae<16;ae++){k[af*16+ae]=af.toString(16)+ae.toString(16)}}function C(){return[[1,0,0],[0,1,0],[0,0,1]]}function K(Z,p){var m=C();for(var j=0;j<3;j++){for(var aj=0;aj<3;aj++){var ah=0;for(var ai=0;ai<3;ai++){ah+=Z[j][ai]*p[ai][aj]}m[j][aj]=ah}}return m}function w(m,j){j.fillStyle=m.fillStyle;j.lineCap=m.lineCap;j.lineJoin=m.lineJoin;j.lineWidth=m.lineWidth;j.miterLimit=m.miterLimit;j.shadowBlur=m.shadowBlur;j.shadowColor=m.shadowColor;j.shadowOffsetX=m.shadowOffsetX;j.shadowOffsetY=m.shadowOffsetY;j.strokeStyle=m.strokeStyle;j.globalAlpha=m.globalAlpha;j.font=m.font;j.textAlign=m.textAlign;j.textBaseline=m.textBaseline;j.arcScaleX_=m.arcScaleX_;j.arcScaleY_=m.arcScaleY_;j.lineScale_=m.lineScale_}var b={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function N(m){var Z=m.indexOf("(",3);var j=m.indexOf(")",Z+1);var p=m.substring(Z+1,j).split(",");if(p.length!=4||m.charAt(3)!="a"){p[3]=1}return p}function c(j){return parseFloat(j)/100}function s(m,p,j){return Math.min(j,Math.max(p,m))}function J(ai){var j,ak,al,aj,am,ah;aj=parseFloat(ai[0])/360%360;if(aj<0){aj++}am=s(c(ai[1]),0,1);ah=s(c(ai[2]),0,1);if(am==0){j=ak=al=ah}else{var m=ah<0.5?ah*(1+am):ah+am-ah*am;var Z=2*ah-m;j=a(Z,m,aj+1/3);ak=a(Z,m,aj);al=a(Z,m,aj-1/3)}return"#"+k[Math.floor(j*255)]+k[Math.floor(ak*255)]+k[Math.floor(al*255)]}function a(m,j,p){if(p<0){p++}if(p>1){p--}if(6*p<1){return m+(j-m)*6*p}else{if(2*p<1){return j}else{if(3*p<2){return m+(j-m)*(2/3-p)*6}else{return m}}}}var D={};function G(j){if(j in D){return D[j]}var ah,Z=1;j=String(j);if(j.charAt(0)=="#"){ah=j}else{if(/^rgb/.test(j)){var p=N(j);var ah="#",ai;for(var m=0;m<3;m++){if(p[m].indexOf("%")!=-1){ai=Math.floor(c(p[m])*255)}else{ai=+p[m]}ah+=k[s(ai,0,255)]}Z=+p[3]}else{if(/^hsl/.test(j)){var p=N(j);ah=J(p);Z=p[3]}else{ah=b[j]||j}}}return D[j]={color:ah,alpha:Z}}var o={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var M={};function F(j){if(M[j]){return M[j]}var Z=document.createElement("div");var p=Z.style;try{p.font=j}catch(m){}return M[j]={style:p.fontStyle||o.style,variant:p.fontVariant||o.variant,weight:p.fontWeight||o.weight,size:p.fontSize||o.size,family:p.fontFamily||o.family}}function v(Z,m){var j={};for(var aj in Z){j[aj]=Z[aj]}var ai=parseFloat(m.currentStyle.fontSize),ah=parseFloat(Z.size);if(typeof Z.size=="number"){j.size=Z.size}else{if(Z.size.indexOf("px")!=-1){j.size=ah}else{if(Z.size.indexOf("em")!=-1){j.size=ai*ah}else{if(Z.size.indexOf("%")!=-1){j.size=(ai/100)*ah}else{if(Z.size.indexOf("pt")!=-1){j.size=ah/0.75}else{j.size=ai}}}}}j.size*=0.981;j.family="'"+j.family.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'";return j}function ad(j){return j.style+" "+j.variant+" "+j.weight+" "+j.size+"px "+j.family}var t={butt:"flat",round:"round"};function T(j){return t[j]||"square"}function E(j){this.m_=C();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=d*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=j;var p="width:"+j.clientWidth+"px;height:"+j.clientHeight+"px;overflow:hidden;position:absolute";var m=j.ownerDocument.createElement("div");m.style.cssText=p;j.appendChild(m);var Z=m.cloneNode(false);Z.style.backgroundColor="red";Z.style.filter="alpha(opacity=0)";j.appendChild(Z);this.element_=m;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var q=E.prototype;q.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};q.beginPath=function(){this.currentPath_=[]};q.moveTo=function(m,j){var Z=W(this,m,j);this.currentPath_.push({type:"moveTo",x:Z.x,y:Z.y});this.currentX_=Z.x;this.currentY_=Z.y};q.lineTo=function(m,j){var Z=W(this,m,j);this.currentPath_.push({type:"lineTo",x:Z.x,y:Z.y});this.currentX_=Z.x;this.currentY_=Z.y};q.bezierCurveTo=function(Z,m,am,al,ak,ai){var j=W(this,ak,ai);var aj=W(this,Z,m);var ah=W(this,am,al);L(this,aj,ah,j)};function L(j,ah,Z,m){j.currentPath_.push({type:"bezierCurveTo",cp1x:ah.x,cp1y:ah.y,cp2x:Z.x,cp2y:Z.y,x:m.x,y:m.y});j.currentX_=m.x;j.currentY_=m.y}q.quadraticCurveTo=function(ak,Z,m,j){var aj=W(this,ak,Z);var ai=W(this,m,j);var al={x:this.currentX_+2/3*(aj.x-this.currentX_),y:this.currentY_+2/3*(aj.y-this.currentY_)};var ah={x:al.x+(ai.x-this.currentX_)/3,y:al.y+(ai.y-this.currentY_)/3};L(this,al,ah,ai)};q.arc=function(an,al,am,ai,m,Z){am*=d;var ar=Z?"at":"wa";var ao=an+B(ai)*am-f;var aq=al+l(ai)*am-f;var j=an+B(m)*am-f;var ap=al+l(m)*am-f;if(ao==j&&!Z){ao+=0.125}var ah=W(this,an,al);var ak=W(this,ao,aq);var aj=W(this,j,ap);this.currentPath_.push({type:ar,x:ah.x,y:ah.y,radius:am,xStart:ak.x,yStart:ak.y,xEnd:aj.x,yEnd:aj.y})};q.rect=function(p,m,j,Z){this.moveTo(p,m);this.lineTo(p+j,m);this.lineTo(p+j,m+Z);this.lineTo(p,m+Z);this.closePath()};q.strokeRect=function(p,m,j,Z){var ah=this.currentPath_;this.beginPath();this.moveTo(p,m);this.lineTo(p+j,m);this.lineTo(p+j,m+Z);this.lineTo(p,m+Z);this.closePath();this.stroke();this.currentPath_=ah};q.fillRect=function(p,m,j,Z){var ah=this.currentPath_;this.beginPath();this.moveTo(p,m);this.lineTo(p+j,m);this.lineTo(p+j,m+Z);this.lineTo(p,m+Z);this.closePath();this.fill();this.currentPath_=ah};q.createLinearGradient=function(m,Z,j,p){var ah=new V("gradient");ah.x0_=m;ah.y0_=Z;ah.x1_=j;ah.y1_=p;return ah};q.createRadialGradient=function(Z,ai,p,m,ah,j){var aj=new V("gradientradial");aj.x0_=Z;aj.y0_=ai;aj.r0_=p;aj.x1_=m;aj.y1_=ah;aj.r1_=j;return aj};q.drawImage=function(at,p){var al,aj,an,aA,aq,ao,av,aC;var am=at.runtimeStyle.width;var ar=at.runtimeStyle.height;at.runtimeStyle.width="auto";at.runtimeStyle.height="auto";var ak=at.width;var ay=at.height;at.runtimeStyle.width=am;at.runtimeStyle.height=ar;if(arguments.length==3){al=arguments[1];aj=arguments[2];aq=ao=0;av=an=ak;aC=aA=ay}else{if(arguments.length==5){al=arguments[1];aj=arguments[2];an=arguments[3];aA=arguments[4];aq=ao=0;av=ak;aC=ay}else{if(arguments.length==9){aq=arguments[1];ao=arguments[2];av=arguments[3];aC=arguments[4];al=arguments[5];aj=arguments[6];an=arguments[7];aA=arguments[8]}else{throw Error("Invalid number of arguments")}}}var aB=W(this,al,aj);var Z=av/2;var m=aC/2;var az=[];var j=10;var ai=10;az.push(" <g_vml_:group",' coordsize="',d*j,",",d*ai,'"',' coordorigin="0,0"',' style="width:',j,"px;height:",ai,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var ah=[];ah.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",n(aB.x/d),",","Dy=",n(aB.y/d),"");var ax=aB;var aw=W(this,al+an,aj);var au=W(this,al,aj+aA);var ap=W(this,al+an,aj+aA);ax.x=ac.max(ax.x,aw.x,au.x,ap.x);ax.y=ac.max(ax.y,aw.y,au.y,ap.y);az.push("padding:0 ",n(ax.x/d),"px ",n(ax.y/d),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ah.join(""),", sizingmethod='clip');")}else{az.push("top:",n(aB.y/d),"px;left:",n(aB.x/d),"px;")}az.push(' ">','<g_vml_:image src="',at.src,'"',' style="width:',d*an,"px;"," height:",d*aA,'px"',' cropleft="',aq/ak,'"',' croptop="',ao/ay,'"',' cropright="',(ak-aq-av)/ak,'"',' cropbottom="',(ay-ao-aC)/ay,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",az.join(""))};q.stroke=function(am){var ak=[];var Z=false;var m=10;var an=10;ak.push("<g_vml_:shape",' filled="',!!am,'"',' style="position:absolute;width:',m,"px;height:",an,'px;"',' coordorigin="0,0"',' coordsize="',d*m,",",d*an,'"',' stroked="',!am,'"',' path="');var ao=false;var ah={x:null,y:null};var al={x:null,y:null};for(var ai=0;ai<this.currentPath_.length;ai++){var j=this.currentPath_[ai];var aj;switch(j.type){case"moveTo":aj=j;ak.push(" m ",n(j.x),",",n(j.y));break;case"lineTo":ak.push(" l ",n(j.x),",",n(j.y));break;case"close":ak.push(" x ");j=null;break;case"bezierCurveTo":ak.push(" c ",n(j.cp1x),",",n(j.cp1y),",",n(j.cp2x),",",n(j.cp2y),",",n(j.x),",",n(j.y));break;case"at":case"wa":ak.push(" ",j.type," ",n(j.x-this.arcScaleX_*j.radius),",",n(j.y-this.arcScaleY_*j.radius)," ",n(j.x+this.arcScaleX_*j.radius),",",n(j.y+this.arcScaleY_*j.radius)," ",n(j.xStart),",",n(j.yStart)," ",n(j.xEnd),",",n(j.yEnd));break}if(j){if(ah.x==null||j.x<ah.x){ah.x=j.x}if(al.x==null||j.x>al.x){al.x=j.x}if(ah.y==null||j.y<ah.y){ah.y=j.y}if(al.y==null||j.y>al.y){al.y=j.y}}}ak.push(' ">');if(!am){x(this,ak)}else{H(this,ak,ah,al)}ak.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",ak.join(""))};function x(p,ai){var m=G(p.strokeStyle);var Z=m.color;var ah=m.alpha*p.globalAlpha;var j=p.lineScale_*p.lineWidth;if(j<1){ah*=j}ai.push("<g_vml_:stroke",' opacity="',ah,'"',' joinstyle="',p.lineJoin,'"',' miterlimit="',p.miterLimit,'"',' endcap="',T(p.lineCap),'"',' weight="',j,'px"',' color="',Z,'" />')}function H(ar,aj,aL,at){var ak=ar.fillStyle;var aC=ar.arcScaleX_;var aB=ar.arcScaleY_;var j=at.x-aL.x;var p=at.y-aL.y;if(ak instanceof V){var ao=0;var aG={x:0,y:0};var ay=0;var an=1;if(ak.type_=="gradient"){var am=ak.x0_/aC;var m=ak.y0_/aB;var al=ak.x1_/aC;var aN=ak.y1_/aB;var aK=W(ar,am,m);var aJ=W(ar,al,aN);var ah=aJ.x-aK.x;var Z=aJ.y-aK.y;ao=Math.atan2(ah,Z)*180/Math.PI;if(ao<0){ao+=360}if(ao<0.000001){ao=0}}else{var aK=W(ar,ak.x0_,ak.y0_);aG={x:(aK.x-aL.x)/j,y:(aK.y-aL.y)/p};j/=aC*d;p/=aB*d;var aE=ac.max(j,p);ay=2*ak.r0_/aE;an=2*ak.r1_/aE-ay}var aw=ak.colors_;aw.sort(function(aP,aO){return aP.offset-aO.offset});var aq=aw.length;var av=aw[0].color;var au=aw[aq-1].color;var aA=aw[0].alpha*ar.globalAlpha;var az=aw[aq-1].alpha*ar.globalAlpha;var aF=[];for(var aI=0;aI<aq;aI++){var ap=aw[aI];aF.push(ap.offset*an+ay+" "+ap.color)}aj.push('<g_vml_:fill type="',ak.type_,'"',' method="none" focus="100%"',' color="',av,'"',' color2="',au,'"',' colors="',aF.join(","),'"',' opacity="',az,'"',' g_o_:opacity2="',aA,'"',' angle="',ao,'"',' focusposition="',aG.x,",",aG.y,'" />')}else{if(ak instanceof U){if(j&&p){var ai=-aL.x;var aD=-aL.y;aj.push("<g_vml_:fill",' position="',ai/j*aC*aC,",",aD/p*aB*aB,'"',' type="tile"',' src="',ak.src_,'" />')}}else{var aM=G(ar.fillStyle);var ax=aM.color;var aH=aM.alpha*ar.globalAlpha;aj.push('<g_vml_:fill color="',ax,'" opacity="',aH,'" />')}}}q.fill=function(){this.stroke(true)};q.closePath=function(){this.currentPath_.push({type:"close"})};function W(p,ah,Z){var j=p.m_;return{x:d*(ah*j[0][0]+Z*j[1][0]+j[2][0])-f,y:d*(ah*j[0][1]+Z*j[1][1]+j[2][1])-f}}q.save=function(){var j={};w(this,j);this.aStack_.push(j);this.mStack_.push(this.m_);this.m_=K(C(),this.m_)};q.restore=function(){if(this.aStack_.length){w(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function h(j){return isFinite(j[0][0])&&isFinite(j[0][1])&&isFinite(j[1][0])&&isFinite(j[1][1])&&isFinite(j[2][0])&&isFinite(j[2][1])}function ab(p,j,Z){if(!h(j)){return}p.m_=j;if(Z){var ah=j[0][0]*j[1][1]-j[0][1]*j[1][0];p.lineScale_=O(I(ah))}}q.translate=function(p,m){var j=[[1,0,0],[0,1,0],[p,m,1]];ab(this,K(j,this.m_),false)};q.rotate=function(m){var Z=B(m);var p=l(m);var j=[[Z,p,0],[-p,Z,0],[0,0,1]];ab(this,K(j,this.m_),false)};q.scale=function(p,m){this.arcScaleX_*=p;this.arcScaleY_*=m;var j=[[p,0,0],[0,m,0],[0,0,1]];ab(this,K(j,this.m_),true)};q.transform=function(ah,Z,aj,ai,m,j){var p=[[ah,Z,0],[aj,ai,0],[m,j,1]];ab(this,K(p,this.m_),true)};q.setTransform=function(ai,ah,ak,aj,Z,p){var j=[[ai,ah,0],[ak,aj,0],[Z,p,1]];ab(this,j,true)};q.drawText_=function(ao,am,al,ar,ak){var aq=this.m_,av=1000,p=0,au=av,aj={x:0,y:0},ai=[];var j=v(F(this.font),this.element_);var Z=ad(j);var aw=this.element_.currentStyle;var ah=this.textAlign.toLowerCase();switch(ah){case"left":case"center":case"right":break;case"end":ah=aw.direction=="ltr"?"right":"left";break;case"start":ah=aw.direction=="rtl"?"right":"left";break;default:ah="left"}switch(this.textBaseline){case"hanging":case"top":aj.y=j.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":aj.y=-j.size/2.25;break}switch(ah){case"right":p=av;au=0.05;break;case"center":p=au=av/2;break}var at=W(this,am+aj.x,al+aj.y);ai.push('<g_vml_:line from="',-p,' 0" to="',au,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ak,'" stroked="',!!ak,'" style="position:absolute;width:1px;height:1px;">');if(ak){x(this,ai)}else{H(this,ai,{x:-p,y:0},{x:au,y:j.size})}var ap=aq[0][0].toFixed(3)+","+aq[1][0].toFixed(3)+","+aq[0][1].toFixed(3)+","+aq[1][1].toFixed(3)+",0,0";var an=n(at.x/d+1-aq[0][0])+","+n(at.y/d-2*aq[1][0]);ai.push('<g_vml_:skew on="t" matrix="',ap,'" ',' offset="',an,'" origin="',p,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ag(ao),'" style="v-text-align:',ah,";font:",ag(Z),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",ai.join(""))};q.fillText=function(p,j,Z,m){this.drawText_(p,j,Z,m,false)};q.strokeText=function(p,j,Z,m){this.drawText_(p,j,Z,m,true)};q.measureText=function(p){if(!this.textMeasureEl_){var j='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",j);this.textMeasureEl_=this.element_.lastChild}var m=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(m.createTextNode(p));return{width:this.textMeasureEl_.offsetWidth}};q.clip=function(){};q.arcTo=function(){};q.createPattern=function(m,j){return new U(m,j)};function V(j){this.type_=j;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}V.prototype.addColorStop=function(m,j){j=G(j);this.colors_.push({offset:m,color:j.color,alpha:j.alpha})};function U(m,j){R(m);switch(j){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=j;break;default:P("SYNTAX_ERR")}this.src_=m.src;this.width_=m.width;this.height_=m.height}function P(j){throw new Q(j)}function R(j){if(!j||j.nodeType!=1||j.tagName!="IMG"){P("TYPE_MISMATCH_ERR")}if(j.readyState!="complete"){P("INVALID_STATE_ERR")}}function Q(j){this.code=this[j];this.message=j+": DOM Exception "+this.code}var Y=Q.prototype=new Error;Y.INDEX_SIZE_ERR=1;Y.DOMSTRING_SIZE_ERR=2;Y.HIERARCHY_REQUEST_ERR=3;Y.WRONG_DOCUMENT_ERR=4;Y.INVALID_CHARACTER_ERR=5;Y.NO_DATA_ALLOWED_ERR=6;Y.NO_MODIFICATION_ALLOWED_ERR=7;Y.NOT_FOUND_ERR=8;Y.NOT_SUPPORTED_ERR=9;Y.INUSE_ATTRIBUTE_ERR=10;Y.INVALID_STATE_ERR=11;Y.SYNTAX_ERR=12;Y.INVALID_MODIFICATION_ERR=13;Y.NAMESPACE_ERR=14;Y.INVALID_ACCESS_ERR=15;Y.VALIDATION_ERR=16;Y.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=e;CanvasRenderingContext2D=E;CanvasGradient=V;CanvasPattern=U;DOMException=Q;G_vmlCanvasManager._version=888})()}(function(N){var w;N.fn.emptyForce=function(){for(var aj=0,ak;(ak=N(this)[aj])!=null;aj++){if(ak.nodeType===1){N.cleanData(ak.getElementsByTagName("*"))}if(N.jqplot.use_excanvas){ak.outerHTML=""}else{while(ak.firstChild){ak.removeChild(ak.firstChild)}}ak=null}return N(this)};N.fn.removeChildForce=function(aj){while(aj.firstChild){this.removeChildForce(aj.firstChild);aj.removeChild(aj.firstChild)}};N.fn.jqplot=function(){var aj=[];var al=[];for(var am=0,ak=arguments.length;am<ak;am++){if(N.isArray(arguments[am])){aj.push(arguments[am])}else{if(N.isPlainObject(arguments[am])){al.push(arguments[am])}}}return this.each(function(ap){var av,au,at=N(this),ao=aj.length,an=al.length,ar,aq;if(ap<ao){ar=aj[ap]}else{ar=ao?aj[ao-1]:null}if(ap<an){aq=al[ap]}else{aq=an?al[an-1]:null}av=at.attr("id");if(av===w){av="jqplot_target_"+N.jqplot.targetCounter++;at.attr("id",av)}au=N.jqplot(av,ar,aq);at.data("jqplot",au)})};N.jqplot=function(ap,am,ak){var al=null,aj=null;if(arguments.length===3){al=am;aj=ak}else{if(arguments.length===2){if(N.isArray(am)){al=am}else{if(N.isPlainObject(am)){aj=am}}}}if(al===null&&aj!==null&&aj.data){al=aj.data}var ao=new T();N("#"+ap).removeClass("jqplot-error");if(N.jqplot.config.catchErrors){try{ao.init(ap,al,aj);ao.draw();ao.themeEngine.init.call(ao);return ao}catch(an){var aq=N.jqplot.config.errorMessage||an.message;N("#"+ap).append('<div class="jqplot-error-message">'+aq+"</div>");N("#"+ap).addClass("jqplot-error");document.getElementById(ap).style.background=N.jqplot.config.errorBackground;document.getElementById(ap).style.border=N.jqplot.config.errorBorder;document.getElementById(ap).style.fontFamily=N.jqplot.config.errorFontFamily;document.getElementById(ap).style.fontSize=N.jqplot.config.errorFontSize;document.getElementById(ap).style.fontStyle=N.jqplot.config.errorFontStyle;document.getElementById(ap).style.fontWeight=N.jqplot.config.errorFontWeight}}else{ao.init(ap,al,aj);ao.draw();ao.themeEngine.init.call(ao);return ao}};N.jqplot.version="1.0.8";N.jqplot.revision="1250";N.jqplot.targetCounter=1;N.jqplot.CanvasManager=function(){if(typeof N.jqplot.CanvasManager.canvases=="undefined"){N.jqplot.CanvasManager.canvases=[];N.jqplot.CanvasManager.free=[]}var aj=[];this.getCanvas=function(){var am;var al=true;if(!N.jqplot.use_excanvas){for(var an=0,ak=N.jqplot.CanvasManager.canvases.length;an<ak;an++){if(N.jqplot.CanvasManager.free[an]===true){al=false;am=N.jqplot.CanvasManager.canvases[an];N.jqplot.CanvasManager.free[an]=false;aj.push(an);break}}}if(al){am=document.createElement("canvas");aj.push(N.jqplot.CanvasManager.canvases.length);N.jqplot.CanvasManager.canvases.push(am);N.jqplot.CanvasManager.free.push(false)}return am};this.initCanvas=function(ak){if(N.jqplot.use_excanvas){return window.G_vmlCanvasManager.initElement(ak)}return ak};this.freeAllCanvases=function(){for(var al=0,ak=aj.length;al<ak;al++){this.freeCanvas(aj[al])}aj=[]};this.freeCanvas=function(ak){if(N.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==w){window.G_vmlCanvasManager.uninitElement(N.jqplot.CanvasManager.canvases[ak]);N.jqplot.CanvasManager.canvases[ak]=null}else{var al=N.jqplot.CanvasManager.canvases[ak];al.getContext("2d").clearRect(0,0,al.width,al.height);N(al).unbind().removeAttr("class").removeAttr("style");N(al).css({left:"",top:"",position:""});al.width=0;al.height=0;N.jqplot.CanvasManager.free[ak]=true}}};N.jqplot.log=function(){if(window.console){window.console.log.apply(window.console,arguments)}};N.jqplot.config={addDomReference:false,enablePlugins:false,defaultHeight:300,defaultWidth:400,UTCAdjust:false,timezoneOffset:new Date(new Date().getTimezoneOffset()*60000),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:false,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"};N.jqplot.arrayMax=function(aj){return Math.max.apply(Math,aj)};N.jqplot.arrayMin=function(aj){return Math.min.apply(Math,aj)};N.jqplot.enablePlugins=N.jqplot.config.enablePlugins;N.jqplot.support_canvas=function(){if(typeof N.jqplot.support_canvas.result=="undefined"){N.jqplot.support_canvas.result=!!document.createElement("canvas").getContext}return N.jqplot.support_canvas.result};N.jqplot.support_canvas_text=function(){if(typeof N.jqplot.support_canvas_text.result=="undefined"){if(window.G_vmlCanvasManager!==w&&window.G_vmlCanvasManager._version>887){N.jqplot.support_canvas_text.result=true}else{N.jqplot.support_canvas_text.result=!!(document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function")}}return N.jqplot.support_canvas_text.result};N.jqplot.use_excanvas=((!N.support.boxModel||!N.support.objectAll||!$support.leadingWhitespace)&&!N.jqplot.support_canvas())?true:false;N.jqplot.preInitHooks=[];N.jqplot.postInitHooks=[];N.jqplot.preParseOptionsHooks=[];N.jqplot.postParseOptionsHooks=[];N.jqplot.preDrawHooks=[];N.jqplot.postDrawHooks=[];N.jqplot.preDrawSeriesHooks=[];N.jqplot.postDrawSeriesHooks=[];N.jqplot.preDrawLegendHooks=[];N.jqplot.addLegendRowHooks=[];N.jqplot.preSeriesInitHooks=[];N.jqplot.postSeriesInitHooks=[];N.jqplot.preParseSeriesOptionsHooks=[];N.jqplot.postParseSeriesOptionsHooks=[];N.jqplot.eventListenerHooks=[];N.jqplot.preDrawSeriesShadowHooks=[];N.jqplot.postDrawSeriesShadowHooks=[];N.jqplot.ElemContainer=function(){this._elem;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null}};N.jqplot.ElemContainer.prototype.createElement=function(am,ao,ak,al,ap){this._offsets=ao;var aj=ak||"jqplot";var an=document.createElement(am);this._elem=N(an);this._elem.addClass(aj);this._elem.css(al);this._elem.attr(ap);an=null;return this._elem};N.jqplot.ElemContainer.prototype.getWidth=function(){if(this._elem){return this._elem.outerWidth(true)}else{return null}};N.jqplot.ElemContainer.prototype.getHeight=function(){if(this._elem){return this._elem.outerHeight(true)}else{return null}};N.jqplot.ElemContainer.prototype.getPosition=function(){if(this._elem){return this._elem.position()}else{return{top:null,left:null,bottom:null,right:null}}};N.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top};N.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left};N.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")};N.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")};function y(aj){N.jqplot.ElemContainer.call(this);this.name=aj;this._series=[];this.show=false;this.tickRenderer=N.jqplot.AxisTickRenderer;this.tickOptions={};this.labelRenderer=N.jqplot.AxisLabelRenderer;this.labelOptions={};this.label=null;this.showLabel=true;this.min=null;this.max=null;this.autoscale=false;this.pad=1.2;this.padMax=null;this.padMin=null;this.ticks=[];this.numberTicks;this.tickInterval;this.renderer=N.jqplot.LinearAxisRenderer;this.rendererOptions={};this.showTicks=true;this.showTickMarks=true;this.showMinorTicks=true;this.drawMajorGridlines=true;this.drawMinorGridlines=false;this.drawMajorTickMarks=true;this.drawMinorTickMarks=true;this.useSeriesColor=false;this.borderWidth=null;this.borderColor=null;this.scaleToHiddenSeries=false;this._dataBounds={min:null,max:null};this._intervalStats=[];this._offsets={min:null,max:null};this._ticks=[];this._label=null;this.syncTicks=null;this.tickSpacing=75;this._min=null;this._max=null;this._tickInterval=null;this._numberTicks=null;this.__ticks=null;this._options={}}y.prototype=new N.jqplot.ElemContainer();y.prototype.constructor=y;y.prototype.init=function(){if(N.isFunction(this.renderer)){this.renderer=new this.renderer()}this.tickOptions.axis=this.name;if(this.tickOptions.showMark==null){this.tickOptions.showMark=this.showTicks}if(this.tickOptions.showMark==null){this.tickOptions.showMark=this.showTickMarks}if(this.tickOptions.showLabel==null){this.tickOptions.showLabel=this.showTicks}if(this.label==null||this.label==""){this.showLabel=false}else{this.labelOptions.label=this.label}if(this.showLabel==false){this.labelOptions.show=false}if(this.pad==0){this.pad=1}if(this.padMax==0){this.padMax=1}if(this.padMin==0){this.padMin=1}if(this.padMax==null){this.padMax=(this.pad-1)/2+1}if(this.padMin==null){this.padMin=(this.pad-1)/2+1}this.pad=this.padMax+this.padMin-1;if(this.min!=null||this.max!=null){this.autoscale=false}if(this.syncTicks==null&&this.name.indexOf("y")>-1){this.syncTicks=true}else{if(this.syncTicks==null){this.syncTicks=false}}this.renderer.init.call(this,this.rendererOptions)};y.prototype.draw=function(aj,ak){if(this.__ticks){this.__ticks=null}return this.renderer.draw.call(this,aj,ak)};y.prototype.set=function(){this.renderer.set.call(this)};y.prototype.pack=function(ak,aj){if(this.show){this.renderer.pack.call(this,ak,aj)}if(this._min==null){this._min=this.min;this._max=this.max;this._tickInterval=this.tickInterval;this._numberTicks=this.numberTicks;this.__ticks=this._ticks}};y.prototype.reset=function(){this.renderer.reset.call(this)};y.prototype.resetScale=function(aj){N.extend(true,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},aj);this.resetDataBounds()};y.prototype.resetDataBounds=function(){var aq=this._dataBounds;aq.min=null;aq.max=null;var ak,ar,ao;var al=(this.show)?true:false;for(var an=0;an<this._series.length;an++){ar=this._series[an];if(ar.show||this.scaleToHiddenSeries){ao=ar._plotData;if(ar._type==="line"&&ar.renderer.bands.show&&this.name.charAt(0)!=="x"){ao=[[0,ar.renderer.bands._min],[1,ar.renderer.bands._max]]}var aj=1,ap=1;if(ar._type!=null&&ar._type=="ohlc"){aj=3;ap=2}for(var am=0,ak=ao.length;am<ak;am++){if(this.name=="xaxis"||this.name=="x2axis"){if((ao[am][0]!=null&&ao[am][0]<aq.min)||aq.min==null){aq.min=ao[am][0]}if((ao[am][0]!=null&&ao[am][0]>aq.max)||aq.max==null){aq.max=ao[am][0]}}else{if((ao[am][aj]!=null&&ao[am][aj]<aq.min)||aq.min==null){aq.min=ao[am][aj]}if((ao[am][ap]!=null&&ao[am][ap]>aq.max)||aq.max==null){aq.max=ao[am][ap]}}}if(al&&ar.renderer.constructor!==N.jqplot.BarRenderer){al=false}else{if(al&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==false){al=false}else{if(al&&ar.renderer.constructor===N.jqplot.BarRenderer){if(ar.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"){if(this._options.pad!=null||this._options.padMin!=null){al=false}}else{if(ar.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis")){if(this._options.pad!=null||this._options.padMin!=null){al=false}}}}}}}}if(al&&this.renderer.constructor===N.jqplot.LinearAxisRenderer&&aq.min>=0){this.padMin=1;this.forceTickAt0=true}};function s(aj){N.jqplot.ElemContainer.call(this);this.show=false;this.location="ne";this.labels=[];this.showLabels=true;this.showSwatches=true;this.placement="insideGrid";this.xoffset=0;this.yoffset=0;this.border;this.background;this.textColor;this.fontFamily;this.fontSize;this.rowSpacing="0.5em";this.renderer=N.jqplot.TableLegendRenderer;this.rendererOptions={};this.preDraw=false;this.marginTop=null;this.marginRight=null;this.marginBottom=null;this.marginLeft=null;this.escapeHtml=false;this._series=[];N.extend(true,this,aj)}s.prototype=new N.jqplot.ElemContainer();s.prototype.constructor=s;s.prototype.setOptions=function(aj){N.extend(true,this,aj);if(this.placement=="inside"){this.placement="insideGrid"}if(this.xoffset>0){if(this.placement=="insideGrid"){switch(this.location){case"nw":case"w":case"sw":if(this.marginLeft==null){this.marginLeft=this.xoffset+"px"}this.marginRight="0px";break;case"ne":case"e":case"se":default:if(this.marginRight==null){this.marginRight=this.xoffset+"px"}this.marginLeft="0px";break}}else{if(this.placement=="outside"){switch(this.location){case"nw":case"w":case"sw":if(this.marginRight==null){this.marginRight=this.xoffset+"px"}this.marginLeft="0px";break;case"ne":case"e":case"se":default:if(this.marginLeft==null){this.marginLeft=this.xoffset+"px"}this.marginRight="0px";break}}}this.xoffset=0}if(this.yoffset>0){if(this.placement=="outside"){switch(this.location){case"sw":case"s":case"se":if(this.marginTop==null){this.marginTop=this.yoffset+"px"}this.marginBottom="0px";break;case"ne":case"n":case"nw":default:if(this.marginBottom==null){this.marginBottom=this.yoffset+"px"}this.marginTop="0px";break}}else{if(this.placement=="insideGrid"){switch(this.location){case"sw":case"s":case"se":if(this.marginBottom==null){this.marginBottom=this.yoffset+"px"}this.marginTop="0px";break;case"ne":case"n":case"nw":default:if(this.marginTop==null){this.marginTop=this.yoffset+"px"}this.marginBottom="0px";break}}}this.yoffset=0}};s.prototype.init=function(){if(N.isFunction(this.renderer)){this.renderer=new this.renderer()}this.renderer.init.call(this,this.rendererOptions)};s.prototype.draw=function(ak,al){for(var aj=0;aj<N.jqplot.preDrawLegendHooks.length;aj++){N.jqplot.preDrawLegendHooks[aj].call(this,ak)}return this.renderer.draw.call(this,ak,al)};s.prototype.pack=function(aj){this.renderer.pack.call(this,aj)};function A(aj){N.jqplot.ElemContainer.call(this);this.text=aj;this.show=true;this.fontFamily;this.fontSize;this.textAlign;this.textColor;this.renderer=N.jqplot.DivTitleRenderer;this.rendererOptions={};this.escapeHtml=false}A.prototype=new N.jqplot.ElemContainer();A.prototype.constructor=A;A.prototype.init=function(){if(N.isFunction(this.renderer)){this.renderer=new this.renderer()}this.renderer.init.call(this,this.rendererOptions)};A.prototype.draw=function(aj){return this.renderer.draw.call(this,aj)};A.prototype.pack=function(){this.renderer.pack.call(this)};function U(aj){aj=aj||{};N.jqplot.ElemContainer.call(this);this.show=true;this.xaxis="xaxis";this._xaxis;this.yaxis="yaxis";this._yaxis;this.gridBorderWidth=2;this.renderer=N.jqplot.LineRenderer;this.rendererOptions={};this.data=[];this.gridData=[];this.label="";this.showLabel=true;this.color;this.negativeColor;this.lineWidth=2.5;this.lineJoin="round";this.lineCap="round";this.linePattern="solid";this.shadow=true;this.shadowAngle=45;this.shadowOffset=1.25;this.shadowDepth=3;this.shadowAlpha="0.1";this.breakOnNull=false;this.markerRenderer=N.jqplot.MarkerRenderer;this.markerOptions={};this.showLine=true;this.showMarker=true;this.index;this.fill=false;this.fillColor;this.fillAlpha;this.fillAndStroke=false;this.disableStack=false;this._stack=false;this.neighborThreshold=4;this.fillToZero=false;this.fillToValue=0;this.fillAxis="y";this.useNegativeColors=true;this._stackData=[];this._plotData=[];this._plotValues={x:[],y:[]};this._intervals={x:{},y:{}};this._prevPlotData=[];this._prevGridData=[];this._stackAxis="y";this._primaryAxis="_xaxis";this.canvas=new N.jqplot.GenericCanvas();this.shadowCanvas=new N.jqplot.GenericCanvas();this.plugins={};this._sumy=0;this._sumx=0;this._type=""}U.prototype=new N.jqplot.ElemContainer();U.prototype.constructor=U;U.prototype.init=function(am,aq,ao){this.index=am;this.gridBorderWidth=aq;var ap=this.data;var al=[],an,aj;for(an=0,aj=ap.length;an<aj;an++){if(!this.breakOnNull){if(ap[an]==null||ap[an][0]==null||ap[an][1]==null){continue}else{al.push(ap[an])}}else{al.push(ap[an])}}this.data=al;if(!this.color){this.color=ao.colorGenerator.get(this.index)}if(!this.negativeColor){this.negativeColor=ao.negativeColorGenerator.get(this.index)}if(!this.fillColor){this.fillColor=this.color}if(this.fillAlpha){var ak=N.jqplot.normalize2rgb(this.fillColor);var ak=N.jqplot.getColorComponents(ak);this.fillColor="rgba("+ak[0]+","+ak[1]+","+ak[2]+","+this.fillAlpha+")"}if(N.isFunction(this.renderer)){this.renderer=new this.renderer()}this.renderer.init.call(this,this.rendererOptions,ao);this.markerRenderer=new this.markerRenderer();if(!this.markerOptions.color){this.markerOptions.color=this.color}if(this.markerOptions.show==null){this.markerOptions.show=this.showMarker}this.showMarker=this.markerOptions.show;this.markerRenderer.init(this.markerOptions)};U.prototype.draw=function(ap,am,ao){var ak=(am==w)?{}:am;ap=(ap==w)?this.canvas._ctx:ap;var aj,an,al;for(aj=0;aj<N.jqplot.preDrawSeriesHooks.length;aj++){N.jqplot.preDrawSeriesHooks[aj].call(this,ap,ak)}if(this.show){this.renderer.setGridData.call(this,ao);if(!ak.preventJqPlotSeriesDrawTrigger){N(ap.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData])}an=[];if(ak.data){an=ak.data}else{if(!this._stack){an=this.data}else{an=this._plotData}}al=ak.gridData||this.renderer.makeGridData.call(this,an,ao);if(this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length){al=this.renderer._smoothedData}this.renderer.draw.call(this,ap,al,ak,ao)}for(aj=0;aj<N.jqplot.postDrawSeriesHooks.length;aj++){N.jqplot.postDrawSeriesHooks[aj].call(this,ap,ak,ao)}ap=am=ao=aj=an=al=null};U.prototype.drawShadow=function(ap,am,ao){var ak=(am==w)?{}:am;ap=(ap==w)?this.shadowCanvas._ctx:ap;var aj,an,al;for(aj=0;aj<N.jqplot.preDrawSeriesShadowHooks.length;aj++){N.jqplot.preDrawSeriesShadowHooks[aj].call(this,ap,ak)}if(this.shadow){this.renderer.setGridData.call(this,ao);an=[];if(ak.data){an=ak.data}else{if(!this._stack){an=this.data}else{an=this._plotData}}al=ak.gridData||this.renderer.makeGridData.call(this,an,ao);this.renderer.drawShadow.call(this,ap,al,ak,ao)}for(aj=0;aj<N.jqplot.postDrawSeriesShadowHooks.length;aj++){N.jqplot.postDrawSeriesShadowHooks[aj].call(this,ap,ak)}ap=am=ao=aj=an=al=null};U.prototype.toggleDisplay=function(ak,am){var aj,al;if(ak.data.series){aj=ak.data.series}else{aj=this}if(ak.data.speed){al=ak.data.speed}if(al){if(aj.canvas._elem.is(":hidden")||!aj.show){aj.show=true;aj.canvas._elem.removeClass("jqplot-series-hidden");if(aj.shadowCanvas._elem){aj.shadowCanvas._elem.fadeIn(al)}aj.canvas._elem.fadeIn(al,am);aj.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+aj.index).fadeIn(al)}else{aj.show=false;aj.canvas._elem.addClass("jqplot-series-hidden");if(aj.shadowCanvas._elem){aj.shadowCanvas._elem.fadeOut(al)}aj.canvas._elem.fadeOut(al,am);aj.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+aj.index).fadeOut(al)}}else{if(aj.canvas._elem.is(":hidden")||!aj.show){aj.show=true;aj.canvas._elem.removeClass("jqplot-series-hidden");if(aj.shadowCanvas._elem){aj.shadowCanvas._elem.show()}aj.canvas._elem.show(0,am);aj.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+aj.index).show()}else{aj.show=false;aj.canvas._elem.addClass("jqplot-series-hidden");if(aj.shadowCanvas._elem){aj.shadowCanvas._elem.hide()}aj.canvas._elem.hide(0,am);aj.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+aj.index).hide()}}};function O(){N.jqplot.ElemContainer.call(this);this.drawGridlines=true;this.gridLineColor="#cccccc";this.gridLineWidth=1;this.background="#fffdf6";this.borderColor="#999999";this.borderWidth=2;this.drawBorder=true;this.shadow=true;this.shadowAngle=45;this.shadowOffset=1.5;this.shadowWidth=3;this.shadowDepth=3;this.shadowColor=null;this.shadowAlpha="0.07";this._left;this._top;this._right;this._bottom;this._width;this._height;this._axes=[];this.renderer=N.jqplot.CanvasGridRenderer;this.rendererOptions={};this._offsets={top:null,bottom:null,left:null,right:null}}O.prototype=new N.jqplot.ElemContainer();O.prototype.constructor=O;O.prototype.init=function(){if(N.isFunction(this.renderer)){this.renderer=new this.renderer()}this.renderer.init.call(this,this.rendererOptions)};O.prototype.createElement=function(aj,ak){this._offsets=aj;return this.renderer.createElement.call(this,ak)};O.prototype.draw=function(){this.renderer.draw.call(this)};N.jqplot.GenericCanvas=function(){N.jqplot.ElemContainer.call(this);this._ctx};N.jqplot.GenericCanvas.prototype=new N.jqplot.ElemContainer();N.jqplot.GenericCanvas.prototype.constructor=N.jqplot.GenericCanvas;N.jqplot.GenericCanvas.prototype.createElement=function(an,al,ak,ao){this._offsets=an;var aj="jqplot";if(al!=w){aj=al}var am;am=ao.canvasManager.getCanvas();if(ak!=null){this._plotDimensions=ak}am.width=this._plotDimensions.width-this._offsets.left-this._offsets.right;am.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom;this._elem=N(am);this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top});this._elem.addClass(aj);am=ao.canvasManager.initCanvas(am);am=null;return this._elem};N.jqplot.GenericCanvas.prototype.setContext=function(){this._ctx=this._elem.get(0).getContext("2d");return this._ctx};N.jqplot.GenericCanvas.prototype.resetCanvas=function(){if(this._elem){if(N.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==w){window.G_vmlCanvasManager.uninitElement(this._elem.get(0))}this._elem.emptyForce()}this._ctx=null};N.jqplot.HooksManager=function(){this.hooks=[];this.args=[]};N.jqplot.HooksManager.prototype.addOnce=function(am,ak){ak=ak||[];var an=false;for(var al=0,aj=this.hooks.length;al<aj;al++){if(this.hooks[al]==am){an=true}}if(!an){this.hooks.push(am);this.args.push(ak)}};N.jqplot.HooksManager.prototype.add=function(ak,aj){aj=aj||[];this.hooks.push(ak);this.args.push(aj)};N.jqplot.EventListenerManager=function(){this.hooks=[]};N.jqplot.EventListenerManager.prototype.addOnce=function(an,am){var ao=false,al,ak;for(var ak=0,aj=this.hooks.length;ak<aj;ak++){al=this.hooks[ak];if(al[0]==an&&al[1]==am){ao=true}}if(!ao){this.hooks.push([an,am])}};N.jqplot.EventListenerManager.prototype.add=function(ak,aj){this.hooks.push([ak,aj])};var W=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];function T(){this.animate=false;this.animateReplot=false;this.axes={xaxis:new y("xaxis"),yaxis:new y("yaxis"),x2axis:new y("x2axis"),y2axis:new y("y2axis"),y3axis:new y("y3axis"),y4axis:new y("y4axis"),y5axis:new y("y5axis"),y6axis:new y("y6axis"),y7axis:new y("y7axis"),y8axis:new y("y8axis"),y9axis:new y("y9axis"),yMidAxis:new y("yMidAxis")};this.baseCanvas=new N.jqplot.GenericCanvas();this.captureRightClick=false;this.data=[];this.dataRenderer;this.dataRendererOptions;this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]};this.defaultAxisStart=1;this.drawIfHidden=false;this.eventCanvas=new N.jqplot.GenericCanvas();this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:true};this.fontFamily;this.fontSize;this.grid=new O();this.legend=new s();this.noDataIndicator={show:false,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:true},yaxis:{min:0,max:12,tickInterval:3,show:true}}};this.negativeSeriesColors=N.jqplot.config.defaultNegativeColors;this.options={};this.previousSeriesStack=[];this.plugins={};this.series=[];this.seriesStack=[];this.seriesColors=N.jqplot.config.defaultColors;this.sortData=true;this.stackSeries=false;this.syncXTicks=true;this.syncYTicks=true;this.target=null;this.targetId=null;this.textColor;this.title=new A();this._drawCount=0;this._sumy=0;this._sumx=0;this._stackData=[];this._plotData=[];this._width=null;this._height=null;this._plotDimensions={height:null,width:null};this._gridPadding={top:null,right:null,bottom:null,left:null};this._defaultGridPadding={top:10,right:10,bottom:23,left:10};this._addDomReference=N.jqplot.config.addDomReference;this.preInitHooks=new N.jqplot.HooksManager();this.postInitHooks=new N.jqplot.HooksManager();this.preParseOptionsHooks=new N.jqplot.HooksManager();this.postParseOptionsHooks=new N.jqplot.HooksManager();this.preDrawHooks=new N.jqplot.HooksManager();this.postDrawHooks=new N.jqplot.HooksManager();this.preDrawSeriesHooks=new N.jqplot.HooksManager();this.postDrawSeriesHooks=new N.jqplot.HooksManager();this.preDrawLegendHooks=new N.jqplot.HooksManager();this.addLegendRowHooks=new N.jqplot.HooksManager();this.preSeriesInitHooks=new N.jqplot.HooksManager();this.postSeriesInitHooks=new N.jqplot.HooksManager();this.preParseSeriesOptionsHooks=new N.jqplot.HooksManager();this.postParseSeriesOptionsHooks=new N.jqplot.HooksManager();this.eventListenerHooks=new N.jqplot.EventListenerManager();this.preDrawSeriesShadowHooks=new N.jqplot.HooksManager();this.postDrawSeriesShadowHooks=new N.jqplot.HooksManager();this.colorGenerator=new N.jqplot.ColorGenerator();this.negativeColorGenerator=new N.jqplot.ColorGenerator();this.canvasManager=new N.jqplot.CanvasManager();this.themeEngine=new N.jqplot.ThemeEngine();var al=0;this.init=function(ay,au,aA){aA=aA||{};for(var av=0;av<N.jqplot.preInitHooks.length;av++){N.jqplot.preInitHooks[av].call(this,ay,au,aA)}for(var av=0;av<this.preInitHooks.hooks.length;av++){this.preInitHooks.hooks[av].call(this,ay,au,aA)}this.targetId="#"+ay;this.target=N("#"+ay);if(this._addDomReference){this.target.data("jqplot",this)}this.target.removeClass("jqplot-error");if(!this.target.get(0)){throw new Error("No plot target specified")}if(this.target.css("position")=="static"){this.target.css("position","relative")}if(!this.target.hasClass("jqplot-target")){this.target.addClass("jqplot-target")}if(!this.target.height()){var aw;if(aA&&aA.height){aw=parseInt(aA.height,10)}else{if(this.target.attr("data-height")){aw=parseInt(this.target.attr("data-height"),10)}else{aw=parseInt(N.jqplot.config.defaultHeight,10)}}this._height=aw;this.target.css("height",aw+"px")}else{this._height=aw=this.target.height()}if(!this.target.width()){var az;if(aA&&aA.width){az=parseInt(aA.width,10)}else{if(this.target.attr("data-width")){az=parseInt(this.target.attr("data-width"),10)}else{az=parseInt(N.jqplot.config.defaultWidth,10)}}this._width=az;this.target.css("width",az+"px")}else{this._width=az=this.target.width()}for(var av=0,ar=W.length;av<ar;av++){this.axes[W[av]]=new y(W[av])}this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Canvas dimension not set")}if(aA.dataRenderer&&N.isFunction(aA.dataRenderer)){if(aA.dataRendererOptions){this.dataRendererOptions=aA.dataRendererOptions}this.dataRenderer=aA.dataRenderer;au=this.dataRenderer(au,this,this.dataRendererOptions)}if(aA.noDataIndicator&&N.isPlainObject(aA.noDataIndicator)){N.extend(true,this.noDataIndicator,aA.noDataIndicator)}if(au==null||N.isArray(au)==false||au.length==0||N.isArray(au[0])==false||au[0].length==0){if(this.noDataIndicator.show==false){throw new Error("No data specified")}else{for(var an in this.noDataIndicator.axes){for(var ap in this.noDataIndicator.axes[an]){this.axes[an][ap]=this.noDataIndicator.axes[an][ap]}}this.postDrawHooks.add(function(){var aF=this.eventCanvas.getHeight();var aC=this.eventCanvas.getWidth();var aB=N('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(aB);aB.height(aF);aB.width(aC);aB.css("top",this.eventCanvas._offsets.top);aB.css("left",this.eventCanvas._offsets.left);var aE=N('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');aB.append(aE);aE.html(this.noDataIndicator.indicator);var aD=aE.height();var ax=aE.width();aE.height(aD);aE.width(ax);aE.css("top",(aF-aD)/2+"px")})}}this.data=N.extend(true,[],au);this.parseOptions(aA);if(this.textColor){this.target.css("color",this.textColor)}if(this.fontFamily){this.target.css("font-family",this.fontFamily)}if(this.fontSize){this.target.css("font-size",this.fontSize)}this.title.init();this.legend.init();this._sumy=0;this._sumx=0;this.computePlotData();for(var av=0;av<this.series.length;av++){this.seriesStack.push(av);this.previousSeriesStack.push(av);this.series[av].shadowCanvas._plotDimensions=this._plotDimensions;this.series[av].canvas._plotDimensions=this._plotDimensions;for(var at=0;at<N.jqplot.preSeriesInitHooks.length;at++){N.jqplot.preSeriesInitHooks[at].call(this.series[av],ay,this.data,this.options.seriesDefaults,this.options.series[av],this)}for(var at=0;at<this.preSeriesInitHooks.hooks.length;at++){this.preSeriesInitHooks.hooks[at].call(this.series[av],ay,this.data,this.options.seriesDefaults,this.options.series[av],this)}this.series[av]._plotDimensions=this._plotDimensions;this.series[av].init(av,this.grid.borderWidth,this);for(var at=0;at<N.jqplot.postSeriesInitHooks.length;at++){N.jqplot.postSeriesInitHooks[at].call(this.series[av],ay,this.data,this.options.seriesDefaults,this.options.series[av],this)}for(var at=0;at<this.postSeriesInitHooks.hooks.length;at++){this.postSeriesInitHooks.hooks[at].call(this.series[av],ay,this.data,this.options.seriesDefaults,this.options.series[av],this)}this._sumy+=this.series[av]._sumy;this._sumx+=this.series[av]._sumx}var ao,aq;for(var av=0,ar=W.length;av<ar;av++){ao=W[av];aq=this.axes[ao];aq._plotDimensions=this._plotDimensions;aq.init();if(this.axes[ao].borderColor==null){if(ao.charAt(0)!=="x"&&aq.useSeriesColor===true&&aq.show){aq.borderColor=aq._series[0].color}else{aq.borderColor=this.grid.borderColor}}}if(this.sortData){aj(this.series)}this.grid.init();this.grid._axes=this.axes;this.legend._series=this.series;for(var av=0;av<N.jqplot.postInitHooks.length;av++){N.jqplot.postInitHooks[av].call(this,ay,this.data,aA)}for(var av=0;av<this.postInitHooks.hooks.length;av++){this.postInitHooks.hooks[av].call(this,ay,this.data,aA)}};this.resetAxesScale=function(at,ao){var aq=ao||{};var ar=at||this.axes;if(ar===true){ar=this.axes}if(N.isArray(ar)){for(var ap=0;ap<ar.length;ap++){this.axes[ar[ap]].resetScale(aq[ar[ap]])}}else{if(typeof(ar)==="object"){for(var an in ar){this.axes[an].resetScale(aq[an])}}}};this.reInitialize=function(aw,an){var aA=N.extend(true,{},this.options,an);var ay=this.targetId.substr(1);var au=(aw==null)?this.data:aw;for(var ax=0;ax<N.jqplot.preInitHooks.length;ax++){N.jqplot.preInitHooks[ax].call(this,ay,au,aA)}for(var ax=0;ax<this.preInitHooks.hooks.length;ax++){this.preInitHooks.hooks[ax].call(this,ay,au,aA)}this._height=this.target.height();this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Target dimension not set")}this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;var ao,az,av,aq;for(var ax=0,at=W.length;ax<at;ax++){ao=W[ax];aq=this.axes[ao];az=aq._ticks;for(var av=0,ar=az.length;av<ar;av++){var ap=az[av]._elem;if(ap){if(N.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==w){window.G_vmlCanvasManager.uninitElement(ap.get(0))}ap.emptyForce();ap=null;az._elem=null}}az=null;delete aq.ticks;delete aq._ticks;this.axes[ao]=new y(ao);this.axes[ao]._plotWidth=this._width;this.axes[ao]._plotHeight=this._height}if(aw){if(aA.dataRenderer&&N.isFunction(aA.dataRenderer)){if(aA.dataRendererOptions){this.dataRendererOptions=aA.dataRendererOptions}this.dataRenderer=aA.dataRenderer;aw=this.dataRenderer(aw,this,this.dataRendererOptions)}this.data=N.extend(true,[],aw)}if(an){this.parseOptions(aA)}this.title._plotWidth=this._width;if(this.textColor){this.target.css("color",this.textColor)}if(this.fontFamily){this.target.css("font-family",this.fontFamily)}if(this.fontSize){this.target.css("font-size",this.fontSize)}this.title.init();this.legend.init();this._sumy=0;this._sumx=0;this.seriesStack=[];this.previousSeriesStack=[];this.computePlotData();for(var ax=0,at=this.series.length;ax<at;ax++){this.seriesStack.push(ax);this.previousSeriesStack.push(ax);this.series[ax].shadowCanvas._plotDimensions=this._plotDimensions;this.series[ax].canvas._plotDimensions=this._plotDimensions;for(var av=0;av<N.jqplot.preSeriesInitHooks.length;av++){N.jqplot.preSeriesInitHooks[av].call(this.series[ax],ay,this.data,this.options.seriesDefaults,this.options.series[ax],this)}for(var av=0;av<this.preSeriesInitHooks.hooks.length;av++){this.preSeriesInitHooks.hooks[av].call(this.series[ax],ay,this.data,this.options.seriesDefaults,this.options.series[ax],this)}this.series[ax]._plotDimensions=this._plotDimensions;this.series[ax].init(ax,this.grid.borderWidth,this);for(var av=0;av<N.jqplot.postSeriesInitHooks.length;av++){N.jqplot.postSeriesInitHooks[av].call(this.series[ax],ay,this.data,this.options.seriesDefaults,this.options.series[ax],this)}for(var av=0;av<this.postSeriesInitHooks.hooks.length;av++){this.postSeriesInitHooks.hooks[av].call(this.series[ax],ay,this.data,this.options.seriesDefaults,this.options.series[ax],this)}this._sumy+=this.series[ax]._sumy;this._sumx+=this.series[ax]._sumx}for(var ax=0,at=W.length;ax<at;ax++){ao=W[ax];aq=this.axes[ao];aq._plotDimensions=this._plotDimensions;aq.init();if(aq.borderColor==null){if(ao.charAt(0)!=="x"&&aq.useSeriesColor===true&&aq.show){aq.borderColor=aq._series[0].color}else{aq.borderColor=this.grid.borderColor}}}if(this.sortData){aj(this.series)}this.grid.init();this.grid._axes=this.axes;this.legend._series=this.series;for(var ax=0,at=N.jqplot.postInitHooks.length;ax<at;ax++){N.jqplot.postInitHooks[ax].call(this,ay,this.data,aA)}for(var ax=0,at=this.postInitHooks.hooks.length;ax<at;ax++){this.postInitHooks.hooks[ax].call(this,ay,this.data,aA)}};this.quickInit=function(){this._height=this.target.height();this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Target dimension not set")}this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;for(var at in this.axes){this.axes[at]._plotWidth=this._width;this.axes[at]._plotHeight=this._height}this.title._plotWidth=this._width;if(this.textColor){this.target.css("color",this.textColor)}if(this.fontFamily){this.target.css("font-family",this.fontFamily)}if(this.fontSize){this.target.css("font-size",this.fontSize)}this._sumy=0;this._sumx=0;this.computePlotData();for(var aq=0;aq<this.series.length;aq++){if(this.series[aq]._type==="line"&&this.series[aq].renderer.bands.show){this.series[aq].renderer.initBands.call(this.series[aq],this.series[aq].renderer.options,this)}this.series[aq]._plotDimensions=this._plotDimensions;this.series[aq].canvas._plotDimensions=this._plotDimensions;this._sumy+=this.series[aq]._sumy;this._sumx+=this.series[aq]._sumx}var ao;for(var an=0;an<12;an++){ao=W[an];var ap=this.axes[ao]._ticks;for(var aq=0;aq<ap.length;aq++){var ar=ap[aq]._elem;if(ar){if(N.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==w){window.G_vmlCanvasManager.uninitElement(ar.get(0))}ar.emptyForce();ar=null;ap._elem=null}}ap=null;this.axes[ao]._plotDimensions=this._plotDimensions;this.axes[ao]._ticks=[]}if(this.sortData){aj(this.series)}this.grid._axes=this.axes;this.legend._series=this.series};function aj(ar){var aw,ax,ay,an,av;for(var at=0;at<ar.length;at++){var ao;var au=[ar[at].data,ar[at]._stackData,ar[at]._plotData,ar[at]._prevPlotData];for(var ap=0;ap<4;ap++){ao=true;aw=au[ap];if(ar[at]._stackAxis=="x"){for(var aq=0;aq<aw.length;aq++){if(typeof(aw[aq][1])!="number"){ao=false;break}}if(ao){aw.sort(function(aA,az){return aA[1]-az[1]})}}else{for(var aq=0;aq<aw.length;aq++){if(typeof(aw[aq][0])!="number"){ao=false;break}}if(ao){aw.sort(function(aA,az){return aA[0]-az[0]})}}}}}this.computePlotData=function(){this._plotData=[];this._stackData=[];var av,aw,aq;for(aw=0,aq=this.series.length;aw<aq;aw++){av=this.series[aw];this._plotData.push([]);this._stackData.push([]);var ao=av.data;this._plotData[aw]=N.extend(true,[],ao);this._stackData[aw]=N.extend(true,[],ao);av._plotData=this._plotData[aw];av._stackData=this._stackData[aw];var az={x:[],y:[]};if(this.stackSeries&&!av.disableStack){av._stack=true;var ax=(av._stackAxis==="x")?0:1;for(var ar=0,an=ao.length;ar<an;ar++){var ay=ao[ar][ax];if(ay==null){ay=0}this._plotData[aw][ar][ax]=ay;this._stackData[aw][ar][ax]=ay;if(aw>0){for(var at=aw;at--;){var ap=this._plotData[at][ar][ax];if(ay*ap>=0){this._plotData[aw][ar][ax]+=ap;this._stackData[aw][ar][ax]+=ap;break}}}}}else{for(var au=0;au<av.data.length;au++){az.x.push(av.data[au][0]);az.y.push(av.data[au][1])}this._stackData.push(av.data);this.series[aw]._stackData=av.data;this._plotData.push(av.data);av._plotData=av.data;av._plotValues=az}if(aw>0){av._prevPlotData=this.series[aw-1]._plotData}av._sumy=0;av._sumx=0;for(au=av.data.length-1;au>-1;au--){av._sumy+=av.data[au][1];av._sumx+=av.data[au][0]}}};this.populatePlotData=function(aw,ax){this._plotData=[];this._stackData=[];aw._stackData=[];aw._plotData=[];var aA={x:[],y:[]};if(this.stackSeries&&!aw.disableStack){aw._stack=true;var az=(aw._stackAxis==="x")?0:1;var aB=N.extend(true,[],aw.data);var aC=N.extend(true,[],aw.data);var ap,ao,aq,ay,an;for(var au=0;au<ax;au++){var ar=this.series[au].data;for(var at=0;at<ar.length;at++){aq=ar[at];ap=(aq[0]!=null)?aq[0]:0;ao=(aq[1]!=null)?aq[1]:0;aB[at][0]+=ap;aB[at][1]+=ao;ay=(az)?ao:ap;if(aw.data[at][az]*ay>=0){aC[at][az]+=ay}}}for(var av=0;av<aC.length;av++){aA.x.push(aC[av][0]);aA.y.push(aC[av][1])}this._plotData.push(aC);this._stackData.push(aB);aw._stackData=aB;aw._plotData=aC;aw._plotValues=aA}else{for(var av=0;av<aw.data.length;av++){aA.x.push(aw.data[av][0]);aA.y.push(aw.data[av][1])}this._stackData.push(aw.data);this.series[ax]._stackData=aw.data;this._plotData.push(aw.data);aw._plotData=aw.data;aw._plotValues=aA}if(ax>0){aw._prevPlotData=this.series[ax-1]._plotData}aw._sumy=0;aw._sumx=0;for(av=aw.data.length-1;av>-1;av--){aw._sumy+=aw.data[av][1];aw._sumx+=aw.data[av][0]}};this.getNextSeriesColor=(function(ao){var an=0;var ap=ao.seriesColors;return function(){if(an<ap.length){return ap[an++]}else{an=0;return ap[an++]}}})(this);this.parseOptions=function(aA){for(var av=0;av<this.preParseOptionsHooks.hooks.length;av++){this.preParseOptionsHooks.hooks[av].call(this,aA)}for(var av=0;av<N.jqplot.preParseOptionsHooks.length;av++){N.jqplot.preParseOptionsHooks[av].call(this,aA)}this.options=N.extend(true,{},this.defaults,aA);var ao=this.options;this.animate=ao.animate;this.animateReplot=ao.animateReplot;this.stackSeries=ao.stackSeries;if(N.isPlainObject(ao.fillBetween)){var az=["series1","series2","color","baseSeries","fill"],aw;for(var av=0,at=az.length;av<at;av++){aw=az[av];if(ao.fillBetween[aw]!=null){this.fillBetween[aw]=ao.fillBetween[aw]}}}if(ao.seriesColors){this.seriesColors=ao.seriesColors}if(ao.negativeSeriesColors){this.negativeSeriesColors=ao.negativeSeriesColors}if(ao.captureRightClick){this.captureRightClick=ao.captureRightClick}this.defaultAxisStart=(aA&&aA.defaultAxisStart!=null)?aA.defaultAxisStart:this.defaultAxisStart;this.colorGenerator.setColors(this.seriesColors);this.negativeColorGenerator.setColors(this.negativeSeriesColors);N.extend(true,this._gridPadding,ao.gridPadding);this.sortData=(ao.sortData!=null)?ao.sortData:this.sortData;for(var av=0;av<12;av++){var ap=W[av];var ar=this.axes[ap];ar._options=N.extend(true,{},ao.axesDefaults,ao.axes[ap]);N.extend(true,ar,ao.axesDefaults,ao.axes[ap]);ar._plotWidth=this._width;ar._plotHeight=this._height}var ay=function(aF,aD,aG){var aC=[];var aE,aB;aD=aD||"vertical";if(!N.isArray(aF[0])){for(aE=0,aB=aF.length;aE<aB;aE++){if(aD=="vertical"){aC.push([aG+aE,aF[aE]])}else{aC.push([aF[aE],aG+aE])}}}else{N.extend(true,aC,aF)}return aC};var ax=0;this.series=[];for(var av=0;av<this.data.length;av++){var an=N.extend(true,{index:av},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[av],{rendererOptions:{animation:{show:this.animate}}});var az=new U(an);for(var au=0;au<N.jqplot.preParseSeriesOptionsHooks.length;au++){N.jqplot.preParseSeriesOptionsHooks[au].call(az,this.options.seriesDefaults,this.options.series[av])}for(var au=0;au<this.preParseSeriesOptionsHooks.hooks.length;au++){this.preParseSeriesOptionsHooks.hooks[au].call(az,this.options.seriesDefaults,this.options.series[av])}N.extend(true,az,an);var aq="vertical";if(az.renderer===N.jqplot.BarRenderer&&az.rendererOptions&&az.rendererOptions.barDirection=="horizontal"){aq="horizontal";az._stackAxis="x";az._primaryAxis="_yaxis"}az.data=ay(this.data[av],aq,this.defaultAxisStart);switch(az.xaxis){case"xaxis":az._xaxis=this.axes.xaxis;break;case"x2axis":az._xaxis=this.axes.x2axis;break;default:break}az._yaxis=this.axes[az.yaxis];az._xaxis._series.push(az);az._yaxis._series.push(az);if(az.show){az._xaxis.show=true;az._yaxis.show=true}else{if(az._xaxis.scaleToHiddenSeries){az._xaxis.show=true}if(az._yaxis.scaleToHiddenSeries){az._yaxis.show=true}}if(!az.label){az.label="Series "+(av+1).toString()}this.series.push(az);for(var au=0;au<N.jqplot.postParseSeriesOptionsHooks.length;au++){N.jqplot.postParseSeriesOptionsHooks[au].call(this.series[av],this.options.seriesDefaults,this.options.series[av])}for(var au=0;au<this.postParseSeriesOptionsHooks.hooks.length;au++){this.postParseSeriesOptionsHooks.hooks[au].call(this.series[av],this.options.seriesDefaults,this.options.series[av])}}N.extend(true,this.grid,this.options.grid);for(var av=0,at=W.length;av<at;av++){var ap=W[av];var ar=this.axes[ap];if(ar.borderWidth==null){ar.borderWidth=this.grid.borderWidth}}if(typeof this.options.title=="string"){this.title.text=this.options.title}else{if(typeof this.options.title=="object"){N.extend(true,this.title,this.options.title)}}this.title._plotWidth=this._width;this.legend.setOptions(this.options.legend);for(var av=0;av<N.jqplot.postParseOptionsHooks.length;av++){N.jqplot.postParseOptionsHooks[av].call(this,aA)}for(var av=0;av<this.postParseOptionsHooks.hooks.length;av++){this.postParseOptionsHooks.hooks[av].call(this,aA)}};this.destroy=function(){this.canvasManager.freeAllCanvases();if(this.eventCanvas&&this.eventCanvas._elem){this.eventCanvas._elem.unbind()}this.target.empty();this.target[0].innerHTML=""};this.replot=function(ao){var ap=ao||{};var ar=ap.data||null;var an=(ap.clear===false)?false:true;var aq=ap.resetAxes||false;delete ap.data;delete ap.clear;delete ap.resetAxes;this.target.trigger("jqplotPreReplot");if(an){this.destroy()}if(ar||!N.isEmptyObject(ap)){this.reInitialize(ar,ap)}else{this.quickInit()}if(aq){this.resetAxesScale(aq,ap.axes)}this.draw();this.target.trigger("jqplotPostReplot")};this.redraw=function(an){an=(an!=null)?an:true;this.target.trigger("jqplotPreRedraw");if(an){this.canvasManager.freeAllCanvases();this.eventCanvas._elem.unbind();this.target.empty()}for(var ap in this.axes){this.axes[ap]._ticks=[]}this.computePlotData();this._sumy=0;this._sumx=0;for(var ao=0,aq=this.series.length;ao<aq;ao++){this._sumy+=this.series[ao]._sumy;this._sumx+=this.series[ao]._sumx}this.draw();this.target.trigger("jqplotPostRedraw")};this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var aJ,aH,aG,aq;for(aJ=0,aG=N.jqplot.preDrawHooks.length;aJ<aG;aJ++){N.jqplot.preDrawHooks[aJ].call(this)}for(aJ=0,aG=this.preDrawHooks.hooks.length;aJ<aG;aJ++){this.preDrawHooks.hooks[aJ].apply(this,this.preDrawSeriesHooks.args[aJ])}this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this));this.baseCanvas.setContext();this.target.append(this.title.draw());this.title.pack({top:0,left:0});var aN=this.legend.draw({},this);var an={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(aN);switch(this.legend.location){case"n":an.top+=this.legend.getHeight();break;case"s":an.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":an.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":an.left+=this.legend.getWidth();break;default:an.right+=this.legend.getWidth();break}aN=aN.detach()}var au=this.axes;var aO;for(aJ=0;aJ<12;aJ++){aO=W[aJ];this.target.append(au[aO].draw(this.baseCanvas._ctx,this));au[aO].set()}if(au.yaxis.show){an.left+=au.yaxis.getWidth()}var aI=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];var aB=[0,0,0,0,0,0,0,0];var aE=0;var aD;for(aD=0;aD<8;aD++){if(au[aI[aD]].show){aE+=au[aI[aD]].getWidth();aB[aD]=aE}}an.right+=aE;if(au.x2axis.show){an.top+=au.x2axis.getHeight()}if(this.title.show){an.top+=this.title.getHeight()}if(au.xaxis.show){an.bottom+=au.xaxis.getHeight()}if(this.options.gridDimensions&&N.isPlainObject(this.options.gridDimensions)){var av=parseInt(this.options.gridDimensions.width,10)||0;var aK=parseInt(this.options.gridDimensions.height,10)||0;var ap=(this._width-an.left-an.right-av)/2;var aM=(this._height-an.top-an.bottom-aK)/2;if(aM>=0&&ap>=0){an.top+=aM;an.bottom+=aM;an.left+=ap;an.right+=ap}}var ao=["top","bottom","left","right"];for(var aD in ao){if(this._gridPadding[ao[aD]]==null&&an[ao[aD]]>0){this._gridPadding[ao[aD]]=an[ao[aD]]}else{if(this._gridPadding[ao[aD]]==null){this._gridPadding[ao[aD]]=this._defaultGridPadding[ao[aD]]}}}var aC=this._gridPadding;if(this.legend.placement==="outsideGrid"){aC={top:this.title.getHeight(),left:0,right:0,bottom:0};if(this.legend.location==="s"){aC.left=this._gridPadding.left;aC.right=this._gridPadding.right}}axisHeight=au.xaxis.getHeight();au.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-au.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});if(au.xaxis.show&&au.xaxis.renderer.axisOuterThickness){thickness=au.xaxis.renderer.axisOuterThickness(au.xaxis);if(thickness>axisHeight){thickness+=5;this._gridPadding.bottom+=(thickness-axisHeight);au.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-thickness,left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right})}}au.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-au.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});au.x2axis.pack({position:"absolute",top:this._gridPadding.top-au.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(aJ=8;aJ>0;aJ--){au[aI[aJ-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-aB[aJ-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top})}var aw=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-au.yMidAxis.getWidth()/2;au.yMidAxis.pack({position:"absolute",top:0,left:aw,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});this.target.append(this.grid.createElement(this._gridPadding,this));this.grid.draw();var at=this.series;var aL=at.length;for(aJ=0,aG=aL;aJ<aG;aJ++){aH=this.seriesStack[aJ];this.target.append(at[aH].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this));at[aH].shadowCanvas.setContext();at[aH].shadowCanvas._elem.data("seriesIndex",aH)}for(aJ=0,aG=aL;aJ<aG;aJ++){aH=this.seriesStack[aJ];this.target.append(at[aH].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this));at[aH].canvas.setContext();at[aH].canvas._elem.data("seriesIndex",aH)}this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this));this.eventCanvas.setContext();this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)";this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height);this.bindCustomEvents();if(this.legend.preDraw){this.eventCanvas._elem.before(aN);this.legend.pack(aC);if(this.legend._elem){this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}})}else{this.drawSeries()}}else{this.drawSeries();if(aL){N(at[aL-1].canvas._elem).after(aN)}this.legend.pack(aC)}for(var aJ=0,aG=N.jqplot.eventListenerHooks.length;aJ<aG;aJ++){this.eventCanvas._elem.bind(N.jqplot.eventListenerHooks[aJ][0],{plot:this},N.jqplot.eventListenerHooks[aJ][1])}for(var aJ=0,aG=this.eventListenerHooks.hooks.length;aJ<aG;aJ++){this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[aJ][0],{plot:this},this.eventListenerHooks.hooks[aJ][1])}var aA=this.fillBetween;if(aA.fill&&aA.series1!==aA.series2&&aA.series1<aL&&aA.series2<aL&&at[aA.series1]._type==="line"&&at[aA.series2]._type==="line"){this.doFillBetweenLines()}for(var aJ=0,aG=N.jqplot.postDrawHooks.length;aJ<aG;aJ++){N.jqplot.postDrawHooks[aJ].call(this)}for(var aJ=0,aG=this.postDrawHooks.hooks.length;aJ<aG;aJ++){this.postDrawHooks.hooks[aJ].apply(this,this.postDrawHooks.args[aJ])}if(this.target.is(":visible")){this._drawCount+=1}var ay,az,aF,ar;for(aJ=0,aG=aL;aJ<aG;aJ++){ay=at[aJ];az=ay.renderer;aF=".jqplot-point-label.jqplot-series-"+aJ;if(az.animation&&az.animation._supported&&az.animation.show&&(this._drawCount<2||this.animateReplot)){ar=this.target.find(aF);ar.stop(true,true).hide();ay.canvas._elem.stop(true,true).hide();ay.shadowCanvas._elem.stop(true,true).hide();ay.canvas._elem.jqplotEffect("blind",{mode:"show",direction:az.animation.direction},az.animation.speed);ay.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:az.animation.direction},az.animation.speed);ar.fadeIn(az.animation.speed*0.8)}}ar=null;this.target.trigger("jqplotPostDraw",[this])}};T.prototype.doFillBetweenLines=function(){var ap=this.fillBetween;var az=ap.series1;var ax=ap.series2;var ay=(az<ax)?az:ax;var aw=(ax>az)?ax:az;var au=this.series[ay];var at=this.series[aw];if(at.renderer.smooth){var ar=at.renderer._smoothedData.slice(0).reverse()}else{var ar=at.gridData.slice(0).reverse()}if(au.renderer.smooth){var av=au.renderer._smoothedData.concat(ar)}else{var av=au.gridData.concat(ar)}var aq=(ap.color!==null)?ap.color:this.series[az].fillColor;var aA=(ap.baseSeries!==null)?ap.baseSeries:ay;var ao=this.series[aA].renderer.shapeRenderer;var an={fillStyle:aq,fill:true,closePath:true};ao.draw(au.shadowCanvas._ctx,av,an)};this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick);this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick);this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown);this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove);this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter);this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave);if(this.captureRightClick){this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick);this.eventCanvas._elem.get(0).oncontextmenu=function(){return false}}else{this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)}};function ak(ay){var aw=ay.data.plot;var ar=aw.eventCanvas._elem.offset();var av={x:ay.pageX-ar.left,y:ay.pageY-ar.top};var at={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};var au=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];var ao=aw.axes;var ap,aq;for(ap=11;ap>0;ap--){aq=au[ap-1];if(ao[aq].show){at[aq]=ao[aq].series_p2u(av[aq.charAt(0)])}}return{offsets:ar,gridPos:av,dataPos:at}}function am(an,ao){var at=ao.series;var aY,aW,aV,aQ,aR,aL,aK,ay,aw,aB,aC,aM;var aU,aZ,aS,au,aJ,aO,aX;var ap,aP;for(aV=ao.seriesStack.length-1;aV>=0;aV--){aY=ao.seriesStack[aV];aQ=at[aY];aX=aQ._highlightThreshold;switch(aQ.renderer.constructor){case N.jqplot.BarRenderer:aL=an.x;aK=an.y;for(aW=0;aW<aQ._barPoints.length;aW++){aJ=aQ._barPoints[aW];aS=aQ.gridData[aW];if(aL>aJ[0][0]&&aL<aJ[2][0]&&aK>aJ[2][1]&&aK<aJ[0][1]){return{seriesIndex:aQ.index,pointIndex:aW,gridData:aS,data:aQ.data[aW],points:aQ._barPoints[aW]}}}break;case N.jqplot.PyramidRenderer:aL=an.x;aK=an.y;for(aW=0;aW<aQ._barPoints.length;aW++){aJ=aQ._barPoints[aW];aS=aQ.gridData[aW];if(aL>aJ[0][0]+aX[0][0]&&aL<aJ[2][0]+aX[2][0]&&aK>aJ[2][1]&&aK<aJ[0][1]){return{seriesIndex:aQ.index,pointIndex:aW,gridData:aS,data:aQ.data[aW],points:aQ._barPoints[aW]}}}break;case N.jqplot.DonutRenderer:aB=aQ.startAngle/180*Math.PI;aL=an.x-aQ._center[0];aK=an.y-aQ._center[1];aR=Math.sqrt(Math.pow(aL,2)+Math.pow(aK,2));if(aL>0&&-aK>=0){ay=2*Math.PI-Math.atan(-aK/aL)}else{if(aL>0&&-aK<0){ay=-Math.atan(-aK/aL)}else{if(aL<0){ay=Math.PI-Math.atan(-aK/aL)}else{if(aL==0&&-aK>0){ay=3*Math.PI/2}else{if(aL==0&&-aK<0){ay=Math.PI/2}else{if(aL==0&&aK==0){ay=0}}}}}}if(aB){ay-=aB;if(ay<0){ay+=2*Math.PI}else{if(ay>2*Math.PI){ay-=2*Math.PI}}}aw=aQ.sliceMargin/180*Math.PI;if(aR<aQ._radius&&aR>aQ._innerRadius){for(aW=0;aW<aQ.gridData.length;aW++){aC=(aW>0)?aQ.gridData[aW-1][1]+aw:aw;aM=aQ.gridData[aW][1];if(ay>aC&&ay<aM){return{seriesIndex:aQ.index,pointIndex:aW,gridData:[an.x,an.y],data:aQ.data[aW]}}}}break;case N.jqplot.PieRenderer:aB=aQ.startAngle/180*Math.PI;aL=an.x-aQ._center[0];aK=an.y-aQ._center[1];aR=Math.sqrt(Math.pow(aL,2)+Math.pow(aK,2));if(aL>0&&-aK>=0){ay=2*Math.PI-Math.atan(-aK/aL)}else{if(aL>0&&-aK<0){ay=-Math.atan(-aK/aL)}else{if(aL<0){ay=Math.PI-Math.atan(-aK/aL)}else{if(aL==0&&-aK>0){ay=3*Math.PI/2}else{if(aL==0&&-aK<0){ay=Math.PI/2}else{if(aL==0&&aK==0){ay=0}}}}}}if(aB){ay-=aB;if(ay<0){ay+=2*Math.PI}else{if(ay>2*Math.PI){ay-=2*Math.PI}}}aw=aQ.sliceMargin/180*Math.PI;if(aR<aQ._radius){for(aW=0;aW<aQ.gridData.length;aW++){aC=(aW>0)?aQ.gridData[aW-1][1]+aw:aw;aM=aQ.gridData[aW][1];if(ay>aC&&ay<aM){return{seriesIndex:aQ.index,pointIndex:aW,gridData:[an.x,an.y],data:aQ.data[aW]}}}}break;case N.jqplot.BubbleRenderer:aL=an.x;aK=an.y;var aH=null;if(aQ.show){for(var aW=0;aW<aQ.gridData.length;aW++){aS=aQ.gridData[aW];aZ=Math.sqrt((aL-aS[0])*(aL-aS[0])+(aK-aS[1])*(aK-aS[1]));if(aZ<=aS[2]&&(aZ<=aU||aU==null)){aU=aZ;aH={seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}if(aH!=null){return aH}}break;case N.jqplot.FunnelRenderer:aL=an.x;aK=an.y;var aN=aQ._vertices,ar=aN[0],aq=aN[aN.length-1],av,aG,aA;function aT(a2,a4,a3){var a1=(a4[1]-a3[1])/(a4[0]-a3[0]);var a0=a4[1]-a1*a4[0];var a5=a2+a4[1];return[(a5-a0)/a1,a5]}av=aT(aK,ar[0],aq[3]);aG=aT(aK,ar[1],aq[2]);for(aW=0;aW<aN.length;aW++){aA=aN[aW];if(aK>=aA[0][1]&&aK<=aA[3][1]&&aL>=av[0]&&aL<=aG[0]){return{seriesIndex:aQ.index,pointIndex:aW,gridData:null,data:aQ.data[aW]}}}break;case N.jqplot.LineRenderer:aL=an.x;aK=an.y;aR=aQ.renderer;if(aQ.show){if((aQ.fill||(aQ.renderer.bands.show&&aQ.renderer.bands.fill))&&(!ao.plugins.highlighter||!ao.plugins.highlighter.show)){var az=false;if(aL>aQ._boundingBox[0][0]&&aL<aQ._boundingBox[1][0]&&aK>aQ._boundingBox[1][1]&&aK<aQ._boundingBox[0][1]){var aF=aQ._areaPoints.length;var aI;var aW=aF-1;for(var aI=0;aI<aF;aI++){var aE=[aQ._areaPoints[aI][0],aQ._areaPoints[aI][1]];var aD=[aQ._areaPoints[aW][0],aQ._areaPoints[aW][1]];if(aE[1]<aK&&aD[1]>=aK||aD[1]<aK&&aE[1]>=aK){if(aE[0]+(aK-aE[1])/(aD[1]-aE[1])*(aD[0]-aE[0])<aL){az=!az}}aW=aI}}if(az){return{seriesIndex:aY,pointIndex:null,gridData:aQ.gridData,data:aQ.data,points:aQ._areaPoints}}break}else{aP=aQ.markerRenderer.size/2+aQ.neighborThreshold;ap=(aP>0)?aP:0;for(var aW=0;aW<aQ.gridData.length;aW++){aS=aQ.gridData[aW];if(aR.constructor==N.jqplot.OHLCRenderer){if(aR.candleStick){var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._bodyWidth/2&&aL<=aS[0]+aR._bodyWidth/2&&aK>=ax(aQ.data[aW][2])&&aK<=ax(aQ.data[aW][3])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}else{if(!aR.hlc){var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._tickLength&&aL<=aS[0]+aR._tickLength&&aK>=ax(aQ.data[aW][2])&&aK<=ax(aQ.data[aW][3])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}else{var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._tickLength&&aL<=aS[0]+aR._tickLength&&aK>=ax(aQ.data[aW][1])&&aK<=ax(aQ.data[aW][2])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}}}else{if(aS[0]!=null&&aS[1]!=null){aZ=Math.sqrt((aL-aS[0])*(aL-aS[0])+(aK-aS[1])*(aK-aS[1]));if(aZ<=ap&&(aZ<=aU||aU==null)){aU=aZ;return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}}}}}break;default:aL=an.x;aK=an.y;aR=aQ.renderer;if(aQ.show){aP=aQ.markerRenderer.size/2+aQ.neighborThreshold;ap=(aP>0)?aP:0;for(var aW=0;aW<aQ.gridData.length;aW++){aS=aQ.gridData[aW];if(aR.constructor==N.jqplot.OHLCRenderer){if(aR.candleStick){var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._bodyWidth/2&&aL<=aS[0]+aR._bodyWidth/2&&aK>=ax(aQ.data[aW][2])&&aK<=ax(aQ.data[aW][3])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}else{if(!aR.hlc){var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._tickLength&&aL<=aS[0]+aR._tickLength&&aK>=ax(aQ.data[aW][2])&&aK<=ax(aQ.data[aW][3])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}else{var ax=aQ._yaxis.series_u2p;if(aL>=aS[0]-aR._tickLength&&aL<=aS[0]+aR._tickLength&&aK>=ax(aQ.data[aW][1])&&aK<=ax(aQ.data[aW][2])){return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}}}else{aZ=Math.sqrt((aL-aS[0])*(aL-aS[0])+(aK-aS[1])*(aK-aS[1]));if(aZ<=ap&&(aZ<=aU||aU==null)){aU=aZ;return{seriesIndex:aY,pointIndex:aW,gridData:aS,data:aQ.data[aW]}}}}}break}}return null}this.onClick=function(ap){var ao=ak(ap);var ar=ap.data.plot;var aq=am(ao.gridPos,ar);var an=N.Event("jqplotClick");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])};this.onDblClick=function(ap){var ao=ak(ap);var ar=ap.data.plot;var aq=am(ao.gridPos,ar);var an=N.Event("jqplotDblClick");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])};this.onMouseDown=function(ap){var ao=ak(ap);var ar=ap.data.plot;var aq=am(ao.gridPos,ar);var an=N.Event("jqplotMouseDown");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])};this.onMouseUp=function(ap){var ao=ak(ap);var an=N.Event("jqplotMouseUp");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,null,ap.data.plot])};this.onRightClick=function(ap){var ao=ak(ap);var ar=ap.data.plot;var aq=am(ao.gridPos,ar);if(ar.captureRightClick){if(ap.which==3){var an=N.Event("jqplotRightClick");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])}else{var an=N.Event("jqplotMouseUp");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])}}};this.onMouseMove=function(ap){var ao=ak(ap);var ar=ap.data.plot;var aq=am(ao.gridPos,ar);var an=N.Event("jqplotMouseMove");an.pageX=ap.pageX;an.pageY=ap.pageY;N(this).trigger(an,[ao.gridPos,ao.dataPos,aq,ar])};this.onMouseEnter=function(ap){var ao=ak(ap);var aq=ap.data.plot;var an=N.Event("jqplotMouseEnter");an.pageX=ap.pageX;an.pageY=ap.pageY;an.relatedTarget=ap.relatedTarget;N(this).trigger(an,[ao.gridPos,ao.dataPos,null,aq])};this.onMouseLeave=function(ap){var ao=ak(ap);var aq=ap.data.plot;var an=N.Event("jqplotMouseLeave");an.pageX=ap.pageX;an.pageY=ap.pageY;an.relatedTarget=ap.relatedTarget;N(this).trigger(an,[ao.gridPos,ao.dataPos,null,aq])};this.drawSeries=function(ap,an){var ar,aq,ao;an=(typeof(ap)==="number"&&an==null)?ap:an;ap=(typeof(ap)==="object")?ap:{};if(an!=w){aq=this.series[an];ao=aq.shadowCanvas._ctx;ao.clearRect(0,0,ao.canvas.width,ao.canvas.height);aq.drawShadow(ao,ap,this);ao=aq.canvas._ctx;ao.clearRect(0,0,ao.canvas.width,ao.canvas.height);aq.draw(ao,ap,this);if(aq.renderer.constructor==N.jqplot.BezierCurveRenderer){if(an<this.series.length-1){this.drawSeries(an+1)}}}else{for(ar=0;ar<this.series.length;ar++){aq=this.series[ar];ao=aq.shadowCanvas._ctx;ao.clearRect(0,0,ao.canvas.width,ao.canvas.height);aq.drawShadow(ao,ap,this);ao=aq.canvas._ctx;ao.clearRect(0,0,ao.canvas.width,ao.canvas.height);aq.draw(ao,ap,this)}}ap=an=ar=aq=ao=null};this.moveSeriesToFront=function(ao){ao=parseInt(ao,10);var ar=N.inArray(ao,this.seriesStack);if(ar==-1){return}if(ar==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);return}var an=this.seriesStack[this.seriesStack.length-1];var aq=this.series[ao].canvas._elem.detach();var ap=this.series[ao].shadowCanvas._elem.detach();this.series[an].shadowCanvas._elem.after(ap);this.series[an].canvas._elem.after(aq);this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack.splice(ar,1);this.seriesStack.push(ao)};this.moveSeriesToBack=function(ao){ao=parseInt(ao,10);var ar=N.inArray(ao,this.seriesStack);if(ar==0||ar==-1){return}var an=this.seriesStack[0];var aq=this.series[ao].canvas._elem.detach();var ap=this.series[ao].shadowCanvas._elem.detach();this.series[an].shadowCanvas._elem.before(ap);this.series[an].canvas._elem.before(aq);this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack.splice(ar,1);this.seriesStack.unshift(ao)};this.restorePreviousSeriesOrder=function(){var au,at,ar,aq,ap,an,ao;if(this.seriesStack==this.previousSeriesStack){return}for(au=1;au<this.previousSeriesStack.length;au++){an=this.previousSeriesStack[au];ao=this.previousSeriesStack[au-1];ar=this.series[an].canvas._elem.detach();aq=this.series[an].shadowCanvas._elem.detach();this.series[ao].shadowCanvas._elem.after(aq);this.series[ao].canvas._elem.after(ar)}ap=this.seriesStack.slice(0);this.seriesStack=this.previousSeriesStack.slice(0);this.previousSeriesStack=ap};this.restoreOriginalSeriesOrder=function(){var ar,aq,an=[],ap,ao;for(ar=0;ar<this.series.length;ar++){an.push(ar)}if(this.seriesStack==an){return}this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack=an;for(ar=1;ar<this.seriesStack.length;ar++){ap=this.series[ar].canvas._elem.detach();ao=this.series[ar].shadowCanvas._elem.detach();this.series[ar-1].shadowCanvas._elem.after(ao);this.series[ar-1].canvas._elem.after(ap)}};this.activateTheme=function(an){this.themeEngine.activate(this,an)}}N.jqplot.computeHighlightColors=function(ak){var am;if(N.isArray(ak)){am=[];for(var ao=0;ao<ak.length;ao++){var an=N.jqplot.getColorComponents(ak[ao]);var aj=[an[0],an[1],an[2]];var ap=aj[0]+aj[1]+aj[2];for(var al=0;al<3;al++){aj[al]=(ap>660)?aj[al]*0.85:0.73*aj[al]+90;aj[al]=parseInt(aj[al],10);(aj[al]>255)?255:aj[al]}aj[3]=0.3+0.35*an[3];am.push("rgba("+aj[0]+","+aj[1]+","+aj[2]+","+aj[3]+")")}}else{var an=N.jqplot.getColorComponents(ak);var aj=[an[0],an[1],an[2]];var ap=aj[0]+aj[1]+aj[2];for(var al=0;al<3;al++){aj[al]=(ap>660)?aj[al]*0.85:0.73*aj[al]+90;aj[al]=parseInt(aj[al],10);(aj[al]>255)?255:aj[al]}aj[3]=0.3+0.35*an[3];am="rgba("+aj[0]+","+aj[1]+","+aj[2]+","+aj[3]+")"}return am};N.jqplot.ColorGenerator=function(ak){ak=ak||N.jqplot.config.defaultColors;var aj=0;this.next=function(){if(aj<ak.length){return ak[aj++]}else{aj=0;return ak[aj++]}};this.previous=function(){if(aj>0){return ak[aj--]}else{aj=ak.length-1;return ak[aj]}};this.get=function(am){var al=am-ak.length*Math.floor(am/ak.length);return ak[al]};this.setColors=function(al){ak=al};this.reset=function(){aj=0};this.getIndex=function(){return aj};this.setIndex=function(al){aj=al}};N.jqplot.hex2rgb=function(al,aj){al=al.replace("#","");if(al.length==3){al=al.charAt(0)+al.charAt(0)+al.charAt(1)+al.charAt(1)+al.charAt(2)+al.charAt(2)}var ak;ak="rgba("+parseInt(al.slice(0,2),16)+", "+parseInt(al.slice(2,4),16)+", "+parseInt(al.slice(4,6),16);if(aj){ak+=", "+aj}ak+=")";return ak};N.jqplot.rgb2hex=function(ao){var al=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/;var aj=ao.match(al);var an="#";for(var am=1;am<4;am++){var ak;if(aj[am].search(/%/)!=-1){ak=parseInt(255*aj[am]/100,10).toString(16);if(ak.length==1){ak="0"+ak}}else{ak=parseInt(aj[am],10).toString(16);if(ak.length==1){ak="0"+ak}}an+=ak}return an};N.jqplot.normalize2rgb=function(ak,aj){if(ak.search(/^ *rgba?\(/)!=-1){return ak}else{if(ak.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1){return N.jqplot.hex2rgb(ak,aj)}else{throw new Error("Invalid color spec")}}};N.jqplot.getColorComponents=function(ao){ao=N.jqplot.colorKeywordMap[ao]||ao;var am=N.jqplot.normalize2rgb(ao);var al=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/;var aj=am.match(al);var ak=[];for(var an=1;an<4;an++){if(aj[an].search(/%/)!=-1){ak[an-1]=parseInt(255*aj[an]/100,10)}else{ak[an-1]=parseInt(aj[an],10)}}ak[3]=parseFloat(aj[4])?parseFloat(aj[4]):1;return ak};N.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"};N.jqplot.AxisLabelRenderer=function(aj){N.jqplot.ElemContainer.call(this);this.axis;this.show=true;this.label="";this.fontFamily=null;this.fontSize=null;this.textColor=null;this._elem;this.escapeHTML=false;N.extend(true,this,aj)};N.jqplot.AxisLabelRenderer.prototype=new N.jqplot.ElemContainer();N.jqplot.AxisLabelRenderer.prototype.constructor=N.jqplot.AxisLabelRenderer;N.jqplot.AxisLabelRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.AxisLabelRenderer.prototype.draw=function(aj,ak){if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=N('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>');if(Number(this.label)){this._elem.css("white-space","nowrap")}if(!this.escapeHTML){this._elem.html(this.label)}else{this._elem.text(this.label)}if(this.fontFamily){this._elem.css("font-family",this.fontFamily)}if(this.fontSize){this._elem.css("font-size",this.fontSize)}if(this.textColor){this._elem.css("color",this.textColor)}return this._elem};N.jqplot.AxisLabelRenderer.prototype.pack=function(){};N.jqplot.AxisTickRenderer=function(aj){N.jqplot.ElemContainer.call(this);this.mark="outside";this.axis;this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.size=4;this.markSize=6;this.show=true;this.showLabel=true;this.label=null;this.value=null;this._styles={};this.formatter=N.jqplot.DefaultTickFormatter;this.prefix="";this.suffix="";this.formatString="";this.fontFamily;this.fontSize;this.textColor;this.escapeHTML=false;this._elem;this._breakTick=false;N.extend(true,this,aj)};N.jqplot.AxisTickRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.AxisTickRenderer.prototype=new N.jqplot.ElemContainer();N.jqplot.AxisTickRenderer.prototype.constructor=N.jqplot.AxisTickRenderer;N.jqplot.AxisTickRenderer.prototype.setTick=function(aj,al,ak){this.value=aj;this.axis=al;if(ak){this.isMinorTick=true}return this};N.jqplot.AxisTickRenderer.prototype.draw=function(){if(this.label===null){this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix}var ak={position:"absolute"};if(Number(this.label)){ak.whitSpace="nowrap"}if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=N(document.createElement("div"));this._elem.addClass("jqplot-"+this.axis+"-tick");if(!this.escapeHTML){this._elem.html(this.label)}else{this._elem.text(this.label)}this._elem.css(ak);for(var aj in this._styles){this._elem.css(aj,this._styles[aj])}if(this.fontFamily){this._elem.css("font-family",this.fontFamily)}if(this.fontSize){this._elem.css("font-size",this.fontSize)}if(this.textColor){this._elem.css("color",this.textColor)}if(this._breakTick){this._elem.addClass("jqplot-breakTick")}return this._elem};N.jqplot.DefaultTickFormatter=function(aj,ak){if(typeof ak=="number"){if(!aj){aj=N.jqplot.config.defaultTickFormatString}return N.jqplot.sprintf(aj,ak)}else{return String(ak)}};N.jqplot.PercentTickFormatter=function(aj,ak){if(typeof ak=="number"){ak=100*ak;if(!aj){aj=N.jqplot.config.defaultTickFormatString}return N.jqplot.sprintf(aj,ak)}else{return String(ak)}};N.jqplot.AxisTickRenderer.prototype.pack=function(){};N.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new N.jqplot.ShadowRenderer()};N.jqplot.CanvasGridRenderer.prototype.init=function(ak){this._ctx;N.extend(true,this,ak);var aj={lineJoin:"miter",lineCap:"round",fill:false,isarc:false,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:false,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(aj)};N.jqplot.CanvasGridRenderer.prototype.createElement=function(am){var al;if(this._elem){if(N.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==w){al=this._elem.get(0);window.G_vmlCanvasManager.uninitElement(al);al=null}this._elem.emptyForce();this._elem=null}al=am.canvasManager.getCanvas();var aj=this._plotDimensions.width;var ak=this._plotDimensions.height;al.width=aj;al.height=ak;this._elem=N(al);this._elem.addClass("jqplot-grid-canvas");this._elem.css({position:"absolute",left:0,top:0});al=am.canvasManager.initCanvas(al);this._top=this._offsets.top;this._bottom=ak-this._offsets.bottom;this._left=this._offsets.left;this._right=aj-this._offsets.right;this._width=this._right-this._left;this._height=this._bottom-this._top;al=null;return this._elem};N.jqplot.CanvasGridRenderer.prototype.draw=function(){this._ctx=this._elem.get(0).getContext("2d");var av=this._ctx;var az=this._axes;av.save();av.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height);av.fillStyle=this.backgroundColor||this.background;av.fillRect(this._left,this._top,this._width,this._height);av.save();av.lineJoin="miter";av.lineCap="butt";av.lineWidth=this.gridLineWidth;av.strokeStyle=this.gridLineColor;var aC,aB,ar,at;var ao=["xaxis","yaxis","x2axis","y2axis"];for(var aA=4;aA>0;aA--){var aF=ao[aA-1];var aj=az[aF];var aD=aj._ticks;var au=aD.length;if(aj.show){if(aj.drawBaseline){var aE={};if(aj.baselineWidth!==null){aE.lineWidth=aj.baselineWidth}if(aj.baselineColor!==null){aE.strokeStyle=aj.baselineColor}switch(aF){case"xaxis":aq(this._left,this._bottom,this._right,this._bottom,aE);break;case"yaxis":aq(this._left,this._bottom,this._left,this._top,aE);break;case"x2axis":aq(this._left,this._bottom,this._right,this._bottom,aE);break;case"y2axis":aq(this._right,this._bottom,this._right,this._top,aE);break}}for(var aw=au;aw>0;aw--){var ap=aD[aw-1];if(ap.show){var am=Math.round(aj.u2p(ap.value))+0.5;switch(aF){case"xaxis":if(ap.showGridline&&this.drawGridlines&&((!ap.isMinorTick&&aj.drawMajorGridlines)||(ap.isMinorTick&&aj.drawMinorGridlines))){aq(am,this._top,am,this._bottom)}if(ap.showMark&&ap.mark&&((!ap.isMinorTick&&aj.drawMajorTickMarks)||(ap.isMinorTick&&aj.drawMinorTickMarks))){ar=ap.markSize;at=ap.mark;var am=Math.round(aj.u2p(ap.value))+0.5;switch(at){case"outside":aC=this._bottom;aB=this._bottom+ar;break;case"inside":aC=this._bottom-ar;aB=this._bottom;break;case"cross":aC=this._bottom-ar;aB=this._bottom+ar;break;default:aC=this._bottom;aB=this._bottom+ar;break}if(this.shadow){this.renderer.shadowRenderer.draw(av,[[am,aC],[am,aB]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false})}aq(am,aC,am,aB)}break;case"yaxis":if(ap.showGridline&&this.drawGridlines&&((!ap.isMinorTick&&aj.drawMajorGridlines)||(ap.isMinorTick&&aj.drawMinorGridlines))){aq(this._right,am,this._left,am)}if(ap.showMark&&ap.mark&&((!ap.isMinorTick&&aj.drawMajorTickMarks)||(ap.isMinorTick&&aj.drawMinorTickMarks))){ar=ap.markSize;at=ap.mark;var am=Math.round(aj.u2p(ap.value))+0.5;switch(at){case"outside":aC=this._left-ar;aB=this._left;break;case"inside":aC=this._left;aB=this._left+ar;break;case"cross":aC=this._left-ar;aB=this._left+ar;break;default:aC=this._left-ar;aB=this._left;break}if(this.shadow){this.renderer.shadowRenderer.draw(av,[[aC,am],[aB,am]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false})}aq(aC,am,aB,am,{strokeStyle:aj.borderColor})}break;case"x2axis":if(ap.showGridline&&this.drawGridlines&&((!ap.isMinorTick&&aj.drawMajorGridlines)||(ap.isMinorTick&&aj.drawMinorGridlines))){aq(am,this._bottom,am,this._top)}if(ap.showMark&&ap.mark&&((!ap.isMinorTick&&aj.drawMajorTickMarks)||(ap.isMinorTick&&aj.drawMinorTickMarks))){ar=ap.markSize;at=ap.mark;var am=Math.round(aj.u2p(ap.value))+0.5;switch(at){case"outside":aC=this._top-ar;aB=this._top;break;case"inside":aC=this._top;aB=this._top+ar;break;case"cross":aC=this._top-ar;aB=this._top+ar;break;default:aC=this._top-ar;aB=this._top;break}if(this.shadow){this.renderer.shadowRenderer.draw(av,[[am,aC],[am,aB]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false})}aq(am,aC,am,aB)}break;case"y2axis":if(ap.showGridline&&this.drawGridlines&&((!ap.isMinorTick&&aj.drawMajorGridlines)||(ap.isMinorTick&&aj.drawMinorGridlines))){aq(this._left,am,this._right,am)}if(ap.showMark&&ap.mark&&((!ap.isMinorTick&&aj.drawMajorTickMarks)||(ap.isMinorTick&&aj.drawMinorTickMarks))){ar=ap.markSize;at=ap.mark;var am=Math.round(aj.u2p(ap.value))+0.5;switch(at){case"outside":aC=this._right;aB=this._right+ar;break;case"inside":aC=this._right-ar;aB=this._right;break;case"cross":aC=this._right-ar;aB=this._right+ar;break;default:aC=this._right;aB=this._right+ar;break}if(this.shadow){this.renderer.shadowRenderer.draw(av,[[aC,am],[aB,am]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false})}aq(aC,am,aB,am,{strokeStyle:aj.borderColor})}break;default:break}}}ap=null}aj=null;aD=null}ao=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var aA=7;aA>0;aA--){var aj=az[ao[aA-1]];var aD=aj._ticks;if(aj.show){var ak=aD[aj.numberTicks-1];var an=aD[0];var al=aj.getLeft();var ay=[[al,ak.getTop()+ak.getHeight()/2],[al,an.getTop()+an.getHeight()/2+1]];if(this.shadow){this.renderer.shadowRenderer.draw(av,ay,{lineCap:"butt",fill:false,closePath:false})}aq(ay[0][0],ay[0][1],ay[1][0],ay[1][1],{lineCap:"butt",strokeStyle:aj.borderColor,lineWidth:aj.borderWidth});for(var aw=aD.length;aw>0;aw--){var ap=aD[aw-1];ar=ap.markSize;at=ap.mark;var am=Math.round(aj.u2p(ap.value))+0.5;if(ap.showMark&&ap.mark){switch(at){case"outside":aC=al;aB=al+ar;break;case"inside":aC=al-ar;aB=al;break;case"cross":aC=al-ar;aB=al+ar;break;default:aC=al;aB=al+ar;break}ay=[[aC,am],[aB,am]];if(this.shadow){this.renderer.shadowRenderer.draw(av,ay,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false})}aq(aC,am,aB,am,{strokeStyle:aj.borderColor})}ap=null}an=null}aj=null;aD=null}av.restore();function aq(aJ,aI,aG,ax,aH){av.save();aH=aH||{};if(aH.lineWidth==null||aH.lineWidth!=0){N.extend(true,av,aH);av.beginPath();av.moveTo(aJ,aI);av.lineTo(aG,ax);av.stroke();av.restore()}}if(this.shadow){var ay=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(av,ay)}if(this.borderWidth!=0&&this.drawBorder){aq(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:az.x2axis.borderColor,lineWidth:az.x2axis.borderWidth});aq(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:az.y2axis.borderColor,lineWidth:az.y2axis.borderWidth});aq(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:az.xaxis.borderColor,lineWidth:az.xaxis.borderWidth});aq(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:az.yaxis.borderColor,lineWidth:az.yaxis.borderWidth})}av.restore();av=null;az=null};N.jqplot.DivTitleRenderer=function(){};N.jqplot.DivTitleRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.DivTitleRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();this._elem=null}var am=this.renderer;var al=document.createElement("div");this._elem=N(al);this._elem.addClass("jqplot-title");if(!this.text){this.show=false;this._elem.height(0);this._elem.width(0)}else{if(this.text){var aj;if(this.color){aj=this.color}else{if(this.textColor){aj=this.textColor}}var ak={position:"absolute",top:"0px",left:"0px"};if(this._plotWidth){ak.width=this._plotWidth+"px"}if(this.fontSize){ak.fontSize=this.fontSize}if(typeof this.textAlign==="string"){ak.textAlign=this.textAlign}else{ak.textAlign="center"}if(aj){ak.color=aj}if(this.paddingBottom){ak.paddingBottom=this.paddingBottom}if(this.fontFamily){ak.fontFamily=this.fontFamily}this._elem.css(ak);if(this.escapeHtml){this._elem.text(this.text)}else{this._elem.html(this.text)}}}al=null;return this._elem};N.jqplot.DivTitleRenderer.prototype.pack=function(){};var t=0.1;N.jqplot.LinePattern=function(ay,at){var ar={dotted:[t,N.jqplot.config.dotGapLength],dashed:[N.jqplot.config.dashLength,N.jqplot.config.gapLength],solid:null};if(typeof at==="string"){if(at[0]==="."||at[0]==="-"){var az=at;at=[];for(var aq=0,an=az.length;aq<an;aq++){if(az[aq]==="."){at.push(t)}else{if(az[aq]==="-"){at.push(N.jqplot.config.dashLength)}else{continue}}at.push(N.jqplot.config.gapLength)}}else{at=ar[at]}}if(!(at&&at.length)){return ay}var am=0;var au=at[0];var aw=0;var av=0;var ap=0;var aj=0;var ax=function(aA,aB){ay.moveTo(aA,aB);aw=aA;av=aB;ap=aA;aj=aB};var al=function(aA,aG){var aE=ay.lineWidth;var aC=aA-aw;var aB=aG-av;var aD=Math.sqrt(aC*aC+aB*aB);if((aD>0)&&(aE>0)){aC/=aD;aB/=aD;while(true){var aF=aE*au;if(aF<aD){aw+=aF*aC;av+=aF*aB;if((am&1)==0){ay.lineTo(aw,av)}else{ay.moveTo(aw,av)}aD-=aF;am++;if(am>=at.length){am=0}au=at[am]}else{aw=aA;av=aG;if((am&1)==0){ay.lineTo(aw,av)}else{ay.moveTo(aw,av)}au-=aD/aE;break}}}};var ak=function(){ay.beginPath()};var ao=function(){al(ap,aj)};return{moveTo:ax,lineTo:al,beginPath:ak,closePath:ao}};N.jqplot.LineRenderer=function(){this.shapeRenderer=new N.jqplot.ShapeRenderer();this.shadowRenderer=new N.jqplot.ShadowRenderer()};N.jqplot.LineRenderer.prototype.init=function(ak,ap){ak=ak||{};this._type="line";this.renderer.animation={show:false,direction:"left",speed:2500,_supported:true};this.renderer.smooth=false;this.renderer.tension=null;this.renderer.constrainSmoothing=true;this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];this.renderer.bandData=[];this.renderer.bands={show:false,hiData:[],lowData:[],color:this.color,showLines:false,fill:true,fillColor:null,_min:null,_max:null,interval:"3%"};var an={highlightMouseOver:ak.highlightMouseOver,highlightMouseDown:ak.highlightMouseDown,highlightColor:ak.highlightColor};delete (ak.highlightMouseOver);delete (ak.highlightMouseDown);delete (ak.highlightColor);N.extend(true,this.renderer,ak);this.renderer.options=ak;if(this.renderer.bandData.length>1&&(!ak.bands||ak.bands.show==null)){this.renderer.bands.show=true}else{if(ak.bands&&ak.bands.show==null&&ak.bands.interval!=null){this.renderer.bands.show=true}}if(this.fill){this.renderer.bands.show=false}if(this.renderer.bands.show){this.renderer.initBands.call(this,this.renderer.options,ap)}if(this._stack){this.renderer.smooth=false}var ao={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(ao);var al=ak.shadowOffset;if(al==null){if(this.lineWidth>2.5){al=1.25*(1+(Math.atan((this.lineWidth/2.5))/0.785398163-1)*0.6)}else{al=1.25*Math.atan((this.lineWidth/2.5))/0.785398163}}var aj={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,angle:this.shadowAngle,offset:al,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shadowRenderer.init(aj);this._areaPoints=[];this._boundingBox=[[],[]];if(!this.isTrendline&&this.fill||this.renderer.bands.show){this.highlightMouseOver=true;this.highlightMouseDown=false;this.highlightColor=null;if(an.highlightMouseDown&&an.highlightMouseOver==null){an.highlightMouseOver=false}N.extend(true,this,{highlightMouseOver:an.highlightMouseOver,highlightMouseDown:an.highlightMouseDown,highlightColor:an.highlightColor});if(!this.highlightColor){var am=(this.renderer.bands.show)?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=N.jqplot.computeHighlightColors(am)}if(this.highlighter){this.highlighter.show=false}}if(!this.isTrendline&&ap){ap.plugins.lineRenderer={};ap.postInitHooks.addOnce(B);ap.postDrawHooks.addOnce(ah);ap.eventListenerHooks.addOnce("jqplotMouseMove",h);ap.eventListenerHooks.addOnce("jqplotMouseDown",e);ap.eventListenerHooks.addOnce("jqplotMouseUp",af);ap.eventListenerHooks.addOnce("jqplotClick",g);ap.eventListenerHooks.addOnce("jqplotRightClick",u)}};N.jqplot.LineRenderer.prototype.initBands=function(am,ax){var an=am.bandData||[];var ap=this.renderer.bands;ap.hiData=[];ap.lowData=[];var aD=this.data;ap._max=null;ap._min=null;if(an.length==2){if(N.isArray(an[0][0])){var aq;var aj=0,au=0;for(var ay=0,av=an[0].length;ay<av;ay++){aq=an[0][ay];if((aq[1]!=null&&aq[1]>ap._max)||ap._max==null){ap._max=aq[1]}if((aq[1]!=null&&aq[1]<ap._min)||ap._min==null){ap._min=aq[1]}}for(var ay=0,av=an[1].length;ay<av;ay++){aq=an[1][ay];if((aq[1]!=null&&aq[1]>ap._max)||ap._max==null){ap._max=aq[1];au=1}if((aq[1]!=null&&aq[1]<ap._min)||ap._min==null){ap._min=aq[1];aj=1}}if(au===aj){ap.show=false}ap.hiData=an[au];ap.lowData=an[aj]}else{if(an[0].length===aD.length&&an[1].length===aD.length){var al=(an[0][0]>an[1][0])?0:1;var aE=(al)?0:1;for(var ay=0,av=aD.length;ay<av;ay++){ap.hiData.push([aD[ay][0],an[al][ay]]);ap.lowData.push([aD[ay][0],an[aE][ay]])}}else{ap.show=false}}}else{if(an.length>2&&!N.isArray(an[0][0])){var al=(an[0][0]>an[0][1])?0:1;var aE=(al)?0:1;for(var ay=0,av=an.length;ay<av;ay++){ap.hiData.push([aD[ay][0],an[ay][al]]);ap.lowData.push([aD[ay][0],an[ay][aE]])}}else{var at=ap.interval;var aC=null;var aB=null;var ak=null;var aw=null;if(N.isArray(at)){aC=at[0];aB=at[1]}else{aC=at}if(isNaN(aC)){if(aC.charAt(aC.length-1)==="%"){ak="multiply";aC=parseFloat(aC)/100+1}}else{aC=parseFloat(aC);ak="add"}if(aB!==null&&isNaN(aB)){if(aB.charAt(aB.length-1)==="%"){aw="multiply";aB=parseFloat(aB)/100+1}}else{if(aB!==null){aB=parseFloat(aB);aw="add"}}if(aC!==null){if(aB===null){aB=-aC;aw=ak;if(aw==="multiply"){aB+=2}}if(aC<aB){var az=aC;aC=aB;aB=az;az=ak;ak=aw;aw=az}for(var ay=0,av=aD.length;ay<av;ay++){switch(ak){case"add":ap.hiData.push([aD[ay][0],aD[ay][1]+aC]);break;case"multiply":ap.hiData.push([aD[ay][0],aD[ay][1]*aC]);break}switch(aw){case"add":ap.lowData.push([aD[ay][0],aD[ay][1]+aB]);break;case"multiply":ap.lowData.push([aD[ay][0],aD[ay][1]*aB]);break}}}else{ap.show=false}}}var ao=ap.hiData;var ar=ap.lowData;for(var ay=0,av=ao.length;ay<av;ay++){if((ao[ay][1]!=null&&ao[ay][1]>ap._max)||ap._max==null){ap._max=ao[ay][1]}}for(var ay=0,av=ar.length;ay<av;ay++){if((ar[ay][1]!=null&&ar[ay][1]<ap._min)||ap._min==null){ap._min=ar[ay][1]}}if(ap.fillColor===null){var aA=N.jqplot.getColorComponents(ap.color);aA[3]=aA[3]*0.5;ap.fillColor="rgba("+aA[0]+", "+aA[1]+", "+aA[2]+", "+aA[3]+")"}};function M(ak,aj){return(3.4182054+aj)*Math.pow(ak,-0.3534992)}function o(al,ak){var aj=Math.sqrt(Math.pow((ak[0]-al[0]),2)+Math.pow((ak[1]-al[1]),2));return 5.7648*Math.log(aj)+7.4456}function C(aj){var ak=(Math.exp(2*aj)-1)/(Math.exp(2*aj)+1);return ak}function L(aL){var av=this.renderer.smooth;var aF=this.canvas.getWidth();var ap=this._xaxis.series_p2u;var aI=this._yaxis.series_p2u;var aH=null;var ao=null;var aB=aL.length/aF;var al=[];var aA=[];if(!isNaN(parseFloat(av))){aH=parseFloat(av)}else{aH=M(aB,0.5)}var ay=[];var am=[];for(var aG=0,aC=aL.length;aG<aC;aG++){ay.push(aL[aG][1]);am.push(aL[aG][0])}function ax(aM,aN){if(aM-aN==0){return Math.pow(10,10)}else{return aM-aN}}var az,au,at,ar;var aj=aL.length-1;for(var an=1,aD=aL.length;an<aD;an++){var ak=[];var aw=[];for(var aE=0;aE<2;aE++){var aG=an-1+aE;if(aG==0||aG==aj){ak[aE]=Math.pow(10,10)}else{if(ay[aG+1]-ay[aG]==0||ay[aG]-ay[aG-1]==0){ak[aE]=0}else{if(((am[aG+1]-am[aG])/(ay[aG+1]-ay[aG])+(am[aG]-am[aG-1])/(ay[aG]-ay[aG-1]))==0){ak[aE]=0}else{if((ay[aG+1]-ay[aG])*(ay[aG]-ay[aG-1])<0){ak[aE]=0}else{ak[aE]=2/(ax(am[aG+1],am[aG])/(ay[aG+1]-ay[aG])+ax(am[aG],am[aG-1])/(ay[aG]-ay[aG-1]))}}}}}if(an==1){ak[0]=3/2*(ay[1]-ay[0])/ax(am[1],am[0])-ak[1]/2}else{if(an==aj){ak[1]=3/2*(ay[aj]-ay[aj-1])/ax(am[aj],am[aj-1])-ak[0]/2}}aw[0]=-2*(ak[1]+2*ak[0])/ax(am[an],am[an-1])+6*(ay[an]-ay[an-1])/Math.pow(ax(am[an],am[an-1]),2);aw[1]=2*(2*ak[1]+ak[0])/ax(am[an],am[an-1])-6*(ay[an]-ay[an-1])/Math.pow(ax(am[an],am[an-1]),2);ar=1/6*(aw[1]-aw[0])/ax(am[an],am[an-1]);at=1/2*(am[an]*aw[0]-am[an-1]*aw[1])/ax(am[an],am[an-1]);au=(ay[an]-ay[an-1]-at*(Math.pow(am[an],2)-Math.pow(am[an-1],2))-ar*(Math.pow(am[an],3)-Math.pow(am[an-1],3)))/ax(am[an],am[an-1]);az=ay[an-1]-au*am[an-1]-at*Math.pow(am[an-1],2)-ar*Math.pow(am[an-1],3);var aK=(am[an]-am[an-1])/aH;var aJ,aq;for(var aE=0,aC=aH;aE<aC;aE++){aJ=[];aq=am[an-1]+aE*aK;aJ.push(aq);aJ.push(az+au*aq+at*Math.pow(aq,2)+ar*Math.pow(aq,3));al.push(aJ);aA.push([ap(aJ[0]),aI(aJ[1])])}}al.push(aL[aG]);aA.push([ap(aL[aG][0]),aI(aL[aG][1])]);return[al,aA]}function H(ar){var aq=this.renderer.smooth;var aW=this.renderer.tension;var aj=this.canvas.getWidth();var aJ=this._xaxis.series_p2u;var at=this._yaxis.series_p2u;var aK=null;var aL=null;var aV=null;var aQ=null;var aO=null;var av=null;var aT=null;var ao=null;var aM,aN,aF,aE,aC,aA;var am,ak,ax,aw;var aD,aB,aP;var ay=[];var al=[];var an=ar.length/aj;var aU,az,aH,aI,aG;var au=[];var ap=[];if(!isNaN(parseFloat(aq))){aK=parseFloat(aq)}else{aK=M(an,0.5)}if(!isNaN(parseFloat(aW))){aW=parseFloat(aW)}for(var aS=0,aR=ar.length-1;aS<aR;aS++){if(aW===null){av=Math.abs((ar[aS+1][1]-ar[aS][1])/(ar[aS+1][0]-ar[aS][0]));aU=0.3;az=0.6;aH=(az-aU)/2;aI=2.5;aG=-1.4;ao=av/aI+aG;aQ=aH*C(ao)-aH*C(aG)+aU;if(aS>0){aT=Math.abs((ar[aS][1]-ar[aS-1][1])/(ar[aS][0]-ar[aS-1][0]))}ao=aT/aI+aG;aO=aH*C(ao)-aH*C(aG)+aU;aV=(aQ+aO)/2}else{aV=aW}for(aM=0;aM<aK;aM++){aN=aM/aK;aF=(1+2*aN)*Math.pow((1-aN),2);aE=aN*Math.pow((1-aN),2);aC=Math.pow(aN,2)*(3-2*aN);aA=Math.pow(aN,2)*(aN-1);if(ar[aS-1]){am=aV*(ar[aS+1][0]-ar[aS-1][0]);ak=aV*(ar[aS+1][1]-ar[aS-1][1])}else{am=aV*(ar[aS+1][0]-ar[aS][0]);ak=aV*(ar[aS+1][1]-ar[aS][1])}if(ar[aS+2]){ax=aV*(ar[aS+2][0]-ar[aS][0]);aw=aV*(ar[aS+2][1]-ar[aS][1])}else{ax=aV*(ar[aS+1][0]-ar[aS][0]);aw=aV*(ar[aS+1][1]-ar[aS][1])}aD=aF*ar[aS][0]+aC*ar[aS+1][0]+aE*am+aA*ax;aB=aF*ar[aS][1]+aC*ar[aS+1][1]+aE*ak+aA*aw;aP=[aD,aB];au.push(aP);ap.push([aJ(aD),at(aB)])}}au.push(ar[aR]);ap.push([aJ(ar[aR][0]),at(ar[aR][1])]);return[au,ap]}N.jqplot.LineRenderer.prototype.setGridData=function(ar){var an=this._xaxis.series_u2p;var aj=this._yaxis.series_u2p;var ao=this._plotData;var at=this._prevPlotData;this.gridData=[];this._prevGridData=[];this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];var am=this.renderer.bands;var ak=false;for(var ap=0,al=ao.length;ap<al;ap++){if(ao[ap][0]!=null&&ao[ap][1]!=null){this.gridData.push([an.call(this._xaxis,ao[ap][0]),aj.call(this._yaxis,ao[ap][1])])}else{if(ao[ap][0]==null){ak=true;this.gridData.push([null,aj.call(this._yaxis,ao[ap][1])])}else{if(ao[ap][1]==null){ak=true;this.gridData.push([an.call(this._xaxis,ao[ap][0]),null])}}}if(at[ap]!=null&&at[ap][0]!=null&&at[ap][1]!=null){this._prevGridData.push([an.call(this._xaxis,at[ap][0]),aj.call(this._yaxis,at[ap][1])])}else{if(at[ap]!=null&&at[ap][0]==null){this._prevGridData.push([null,aj.call(this._yaxis,at[ap][1])])}else{if(at[ap]!=null&&at[ap][0]!=null&&at[ap][1]==null){this._prevGridData.push([an.call(this._xaxis,at[ap][0]),null])}}}}if(ak){this.renderer.smooth=false;if(this._type==="line"){am.show=false}}if(this._type==="line"&&am.show){for(var ap=0,al=am.hiData.length;ap<al;ap++){this.renderer._hiBandGridData.push([an.call(this._xaxis,am.hiData[ap][0]),aj.call(this._yaxis,am.hiData[ap][1])])}for(var ap=0,al=am.lowData.length;ap<al;ap++){this.renderer._lowBandGridData.push([an.call(this._xaxis,am.lowData[ap][0]),aj.call(this._yaxis,am.lowData[ap][1])])}}if(this._type==="line"&&this.renderer.smooth&&this.gridData.length>2){var aq;if(this.renderer.constrainSmoothing){aq=L.call(this,this.gridData);this.renderer._smoothedData=aq[0];this.renderer._smoothedPlotData=aq[1];if(am.show){aq=L.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=aq[0];aq=L.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=aq[0]}aq=null}else{aq=H.call(this,this.gridData);this.renderer._smoothedData=aq[0];this.renderer._smoothedPlotData=aq[1];if(am.show){aq=H.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=aq[0];aq=H.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=aq[0]}aq=null}}};N.jqplot.LineRenderer.prototype.makeGridData=function(aq,at){var ao=this._xaxis.series_u2p;var aj=this._yaxis.series_u2p;var au=[];var al=[];this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];var an=this.renderer.bands;var ak=false;for(var ap=0;ap<aq.length;ap++){if(aq[ap][0]!=null&&aq[ap][1]!=null){au.push([ao.call(this._xaxis,aq[ap][0]),aj.call(this._yaxis,aq[ap][1])])}else{if(aq[ap][0]==null){ak=true;au.push([null,aj.call(this._yaxis,aq[ap][1])])}else{if(aq[ap][1]==null){ak=true;au.push([ao.call(this._xaxis,aq[ap][0]),null])}}}}if(ak){this.renderer.smooth=false;if(this._type==="line"){an.show=false}}if(this._type==="line"&&an.show){for(var ap=0,am=an.hiData.length;ap<am;ap++){this.renderer._hiBandGridData.push([ao.call(this._xaxis,an.hiData[ap][0]),aj.call(this._yaxis,an.hiData[ap][1])])}for(var ap=0,am=an.lowData.length;ap<am;ap++){this.renderer._lowBandGridData.push([ao.call(this._xaxis,an.lowData[ap][0]),aj.call(this._yaxis,an.lowData[ap][1])])}}if(this._type==="line"&&this.renderer.smooth&&au.length>2){var ar;if(this.renderer.constrainSmoothing){ar=L.call(this,au);this.renderer._smoothedData=ar[0];this.renderer._smoothedPlotData=ar[1];if(an.show){ar=L.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ar[0];ar=L.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ar[0]}ar=null}else{ar=H.call(this,au);this.renderer._smoothedData=ar[0];this.renderer._smoothedPlotData=ar[1];if(an.show){ar=H.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ar[0];ar=H.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ar[0]}ar=null}}return au};N.jqplot.LineRenderer.prototype.draw=function(az,aK,ak,aD){var aE;var at=N.extend(true,{},ak);var am=(at.shadow!=w)?at.shadow:this.shadow;var aL=(at.showLine!=w)?at.showLine:this.showLine;var aC=(at.fill!=w)?at.fill:this.fill;var aj=(at.fillAndStroke!=w)?at.fillAndStroke:this.fillAndStroke;var au,aA,ax,aG;az.save();if(aK.length){if(aL){if(aC){if(this.fillToZero){var aH=this.negativeColor;if(!this.useNegativeColors){aH=at.fillStyle}var aq=false;var ar=at.fillStyle;if(aj){var aJ=aK.slice(0)}if(this.index==0||!this._stack){var ay=[];var aN=(this.renderer.smooth)?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var aI=this._yaxis.series_u2p(this.fillToValue);var al=this._xaxis.series_u2p(this.fillToValue);at.closePath=true;if(this.fillAxis=="y"){ay.push([aK[0][0],aI]);this._areaPoints.push([aK[0][0],aI]);for(var aE=0;aE<aK.length-1;aE++){ay.push(aK[aE]);this._areaPoints.push(aK[aE]);if(aN[aE][1]*aN[aE+1][1]<=0){if(aN[aE][1]<0){aq=true;at.fillStyle=aH}else{aq=false;at.fillStyle=ar}var ap=aK[aE][0]+(aK[aE+1][0]-aK[aE][0])*(aI-aK[aE][1])/(aK[aE+1][1]-aK[aE][1]);ay.push([ap,aI]);this._areaPoints.push([ap,aI]);if(am){this.renderer.shadowRenderer.draw(az,ay,at)}this.renderer.shapeRenderer.draw(az,ay,at);ay=[[ap,aI]]}}if(aN[aK.length-1][1]<0){aq=true;at.fillStyle=aH}else{aq=false;at.fillStyle=ar}ay.push(aK[aK.length-1]);this._areaPoints.push(aK[aK.length-1]);ay.push([aK[aK.length-1][0],aI]);this._areaPoints.push([aK[aK.length-1][0],aI])}if(am){this.renderer.shadowRenderer.draw(az,ay,at)}this.renderer.shapeRenderer.draw(az,ay,at)}else{var aw=this._prevGridData;for(var aE=aw.length;aE>0;aE--){aK.push(aw[aE-1])}if(am){this.renderer.shadowRenderer.draw(az,aK,at)}this._areaPoints=aK;this.renderer.shapeRenderer.draw(az,aK,at)}}else{if(aj){var aJ=aK.slice(0)}if(this.index==0||!this._stack){var an=az.canvas.height;aK.unshift([aK[0][0],an]);var aF=aK.length;aK.push([aK[aF-1][0],an])}else{var aw=this._prevGridData;for(var aE=aw.length;aE>0;aE--){aK.push(aw[aE-1])}}this._areaPoints=aK;if(am){this.renderer.shadowRenderer.draw(az,aK,at)}this.renderer.shapeRenderer.draw(az,aK,at)}if(aj){var aB=N.extend(true,{},at,{fill:false,closePath:false});this.renderer.shapeRenderer.draw(az,aJ,aB);if(this.markerRenderer.show){if(this.renderer.smooth){aJ=this.gridData}for(aE=0;aE<aJ.length;aE++){this.markerRenderer.draw(aJ[aE][0],aJ[aE][1],az,at.markerOptions)}}}}else{if(this.renderer.bands.show){var ao;var aM=N.extend(true,{},at);if(this.renderer.bands.showLines){ao=(this.renderer.smooth)?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData;this.renderer.shapeRenderer.draw(az,ao,at);ao=(this.renderer.smooth)?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData;this.renderer.shapeRenderer.draw(az,ao,aM)}if(this.renderer.bands.fill){if(this.renderer.smooth){ao=this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse())}else{ao=this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse())}this._areaPoints=ao;aM.closePath=true;aM.fill=true;aM.fillStyle=this.renderer.bands.fillColor;this.renderer.shapeRenderer.draw(az,ao,aM)}}if(am){this.renderer.shadowRenderer.draw(az,aK,at)}this.renderer.shapeRenderer.draw(az,aK,at)}}var au=ax=aA=aG=null;for(aE=0;aE<this._areaPoints.length;aE++){var av=this._areaPoints[aE];if(au>av[0]||au==null){au=av[0]}if(aG<av[1]||aG==null){aG=av[1]}if(ax<av[0]||ax==null){ax=av[0]}if(aA>av[1]||aA==null){aA=av[1]}}if(this.type==="line"&&this.renderer.bands.show){aG=this._yaxis.series_u2p(this.renderer.bands._min);aA=this._yaxis.series_u2p(this.renderer.bands._max)}this._boundingBox=[[au,aG],[ax,aA]];if(this.markerRenderer.show&&!aC){if(this.renderer.smooth){aK=this.gridData}for(aE=0;aE<aK.length;aE++){if(aK[aE][0]!=null&&aK[aE][1]!=null){this.markerRenderer.draw(aK[aE][0],aK[aE][1],az,at.markerOptions)}}}}az.restore()};N.jqplot.LineRenderer.prototype.drawShadow=function(aj,al,ak){};function B(am,al,aj){for(var ak=0;ak<this.series.length;ak++){if(this.series[ak].renderer.constructor==N.jqplot.LineRenderer){if(this.series[ak].highlightMouseOver){this.series[ak].highlightMouseDown=false}}}}function ah(){if(this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas){this.plugins.lineRenderer.highlightCanvas.resetCanvas();this.plugins.lineRenderer.highlightCanvas=null}this.plugins.lineRenderer.highlightedSeriesIndex=null;this.plugins.lineRenderer.highlightCanvas=new N.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.lineRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(aj){ac(aj.data.plot)})}function ae(ap,ao,am,al){var ak=ap.series[ao];var aj=ap.plugins.lineRenderer.highlightCanvas;aj._ctx.clearRect(0,0,aj._ctx.canvas.width,aj._ctx.canvas.height);ak._highlightedPoint=am;ap.plugins.lineRenderer.highlightedSeriesIndex=ao;var an={fillStyle:ak.highlightColor};if(ak.type==="line"&&ak.renderer.bands.show){an.fill=true;an.closePath=true}ak.renderer.shapeRenderer.draw(aj._ctx,al,an);aj=null}function ac(al){var aj=al.plugins.lineRenderer.highlightCanvas;aj._ctx.clearRect(0,0,aj._ctx.canvas.width,aj._ctx.canvas.height);for(var ak=0;ak<al.series.length;ak++){al.series[ak]._highlightedPoint=null}al.plugins.lineRenderer.highlightedSeriesIndex=null;al.target.trigger("jqplotDataUnhighlight");aj=null}function h(an,am,aq,ap,ao){if(ap){var al=[ap.seriesIndex,ap.pointIndex,ap.data];var ak=jQuery.Event("jqplotDataMouseOver");ak.pageX=an.pageX;ak.pageY=an.pageY;ao.target.trigger(ak,al);if(ao.series[al[0]].highlightMouseOver&&!(al[0]==ao.plugins.lineRenderer.highlightedSeriesIndex)){var aj=jQuery.Event("jqplotDataHighlight");aj.which=an.which;aj.pageX=an.pageX;aj.pageY=an.pageY;ao.target.trigger(aj,al);ae(ao,ap.seriesIndex,ap.pointIndex,ap.points)}}else{if(ap==null){ac(ao)}}}function e(am,al,ap,ao,an){if(ao){var ak=[ao.seriesIndex,ao.pointIndex,ao.data];if(an.series[ak[0]].highlightMouseDown&&!(ak[0]==an.plugins.lineRenderer.highlightedSeriesIndex)){var aj=jQuery.Event("jqplotDataHighlight");aj.which=am.which;aj.pageX=am.pageX;aj.pageY=am.pageY;an.target.trigger(aj,ak);ae(an,ao.seriesIndex,ao.pointIndex,ao.points)}}else{if(ao==null){ac(an)}}}function af(al,ak,ao,an,am){var aj=am.plugins.lineRenderer.highlightedSeriesIndex;if(aj!=null&&am.series[aj].highlightMouseDown){ac(am)}}function g(am,al,ap,ao,an){if(ao){var ak=[ao.seriesIndex,ao.pointIndex,ao.data];var aj=jQuery.Event("jqplotDataClick");aj.which=am.which;aj.pageX=am.pageX;aj.pageY=am.pageY;an.target.trigger(aj,ak)}}function u(an,am,aq,ap,ao){if(ap){var al=[ap.seriesIndex,ap.pointIndex,ap.data];var aj=ao.plugins.lineRenderer.highlightedSeriesIndex;if(aj!=null&&ao.series[aj].highlightMouseDown){ac(ao)}var ak=jQuery.Event("jqplotDataRightClick");ak.which=an.which;ak.pageX=an.pageX;ak.pageY=an.pageY;ao.target.trigger(ak,al)}}N.jqplot.LinearAxisRenderer=function(){};N.jqplot.LinearAxisRenderer.prototype.init=function(aj){this.breakPoints=null;this.breakTickLabel="&asymp;";this.drawBaseline=true;this.baselineWidth=null;this.baselineColor=null;this.forceTickAt0=false;this.forceTickAt100=false;this.tickInset=0;this.minorTicks=0;this.alignTicks=false;this._autoFormatString="";this._overrideFormatString=false;this._scalefact=1;N.extend(true,this,aj);if(this.breakPoints){if(!N.isArray(this.breakPoints)){this.breakPoints=null}else{if(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0]){this.breakPoints=null}}}if(this.numberTicks!=null&&this.numberTicks<2){this.numberTicks=2}this.resetDataBounds()};N.jqplot.LinearAxisRenderer.prototype.draw=function(aj,aq){if(this.show){this.renderer.createTicks.call(this,aq);var ap=0;var ak;if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=N(document.createElement("div"));this._elem.addClass("jqplot-axis jqplot-"+this.name);this._elem.css("position","absolute");if(this.name=="xaxis"||this.name=="x2axis"){this._elem.width(this._plotDimensions.width)}else{this._elem.height(this._plotDimensions.height)}this.labelOptions.axis=this.name;this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var ao=this._label.draw(aj,aq);ao.appendTo(this._elem);ao=null}var an=this._ticks;var am;for(var al=0;al<an.length;al++){am=an[al];if(am.show&&am.showLabel&&(!am.isMinorTick||this.showMinorTicks)){this._elem.append(am.draw(aj,aq))}}am=null;an=null}return this._elem};N.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min;this.max=this._options.max;this.tickInterval=this._options.tickInterval;this.numberTicks=this._options.numberTicks;this._autoFormatString="";if(this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString){this.tickOptions.formatString=""}};N.jqplot.LinearAxisRenderer.prototype.set=function(){var aq=0;var al;var ak=0;var ap=0;var aj=(this._label==null)?false:this._label.show;if(this.show){var ao=this._ticks;var an;for(var am=0;am<ao.length;am++){an=ao[am];if(!an._breakTick&&an.show&&an.showLabel&&(!an.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis"){al=an._elem.outerHeight(true)}else{al=an._elem.outerWidth(true)}if(al>aq){aq=al}}}an=null;ao=null;if(aj){ak=this._label._elem.outerWidth(true);ap=this._label._elem.outerHeight(true)}if(this.name=="xaxis"){aq=aq+ap;this._elem.css({height:aq+"px",left:"0px",bottom:"0px"})}else{if(this.name=="x2axis"){aq=aq+ap;this._elem.css({height:aq+"px",left:"0px",top:"0px"})}else{if(this.name=="yaxis"){aq=aq+ak;this._elem.css({width:aq+"px",left:"0px",top:"0px"});if(aj&&this._label.constructor==N.jqplot.AxisLabelRenderer){this._label._elem.css("width",ak+"px")}}else{aq=aq+ak;this._elem.css({width:aq+"px",right:"0px",top:"0px"});if(aj&&this._label.constructor==N.jqplot.AxisLabelRenderer){this._label._elem.css("width",ak+"px")}}}}}};N.jqplot.LinearAxisRenderer.prototype.createTicks=function(al){var aV=this._ticks;var aM=this.ticks;var aB=this.name;var aD=this._dataBounds;var aj=(this.name.charAt(0)==="x")?this._plotDimensions.width:this._plotDimensions.height;var ap;var a8,aK;var ar,aq;var a6,a2;var aJ=this.min;var a7=this.max;var aY=this.numberTicks;var bc=this.tickInterval;var ao=30;this._scalefact=(Math.max(aj,ao+1)-ao)/300;if(aM.length){for(a2=0;a2<aM.length;a2++){var aQ=aM[a2];var aW=new this.tickRenderer(this.tickOptions);if(N.isArray(aQ)){aW.value=aQ[0];if(this.breakPoints){if(aQ[0]==this.breakPoints[0]){aW.label=this.breakTickLabel;aW._breakTick=true;aW.showGridline=false;aW.showMark=false}else{if(aQ[0]>this.breakPoints[0]&&aQ[0]<=this.breakPoints[1]){aW.show=false;aW.showGridline=false;aW.label=aQ[1]}else{aW.label=aQ[1]}}}else{aW.label=aQ[1]}aW.setTick(aQ[0],this.name);this._ticks.push(aW)}else{if(N.isPlainObject(aQ)){N.extend(true,aW,aQ);aW.axis=this.name;this._ticks.push(aW)}else{aW.value=aQ;if(this.breakPoints){if(aQ==this.breakPoints[0]){aW.label=this.breakTickLabel;aW._breakTick=true;aW.showGridline=false;aW.showMark=false}else{if(aQ>this.breakPoints[0]&&aQ<=this.breakPoints[1]){aW.show=false;aW.showGridline=false}}}aW.setTick(aQ,this.name);this._ticks.push(aW)}}}this.numberTicks=aM.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value;this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{if(aB=="xaxis"||aB=="x2axis"){aj=this._plotDimensions.width}else{aj=this._plotDimensions.height}var az=this.numberTicks;if(this.alignTicks){if(this.name==="x2axis"&&al.axes.xaxis.show){az=al.axes.xaxis.numberTicks}else{if(this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&al.axes.yaxis.show){az=al.axes.yaxis.numberTicks}}}a8=((this.min!=null)?this.min:aD.min);aK=((this.max!=null)?this.max:aD.max);var ax=aK-a8;var aU,aA;var av;if(this.tickOptions==null||!this.tickOptions.formatString){this._overrideFormatString=true}if(this.min==null||this.max==null&&this.tickInterval==null&&!this.autoscale){if(this.forceTickAt0){if(a8>0){a8=0}if(aK<0){aK=0}}if(this.forceTickAt100){if(a8>100){a8=100}if(aK<100){aK=100}}var aG=false,a3=false;if(this.min!=null){aG=true}else{if(this.max!=null){a3=true}}var aR=N.jqplot.LinearTickGenerator(a8,aK,this._scalefact,az,aG,a3);var ay=(this.min!=null)?a8:a8+ax*(this.padMin-1);var aS=(this.max!=null)?aK:aK-ax*(this.padMax-1);if(a8<ay||aK>aS){ay=(this.min!=null)?a8:a8-ax*(this.padMin-1);aS=(this.max!=null)?aK:aK+ax*(this.padMax-1);aR=N.jqplot.LinearTickGenerator(ay,aS,this._scalefact,az,aG,a3)}this.min=aR[0];this.max=aR[1];this.numberTicks=aR[2];this._autoFormatString=aR[3];this.tickInterval=aR[4]}else{if(a8==aK){var ak=0.05;if(a8>0){ak=Math.max(Math.log(a8)/Math.LN10,0.05)}a8-=ak;aK+=ak}if(this.autoscale&&this.min==null&&this.max==null){var am,an,au;var aE=false;var aP=false;var aC={min:null,max:null,average:null,stddev:null};for(var a2=0;a2<this._series.length;a2++){var aX=this._series[a2];var aF=(aX.fillAxis=="x")?aX._xaxis.name:aX._yaxis.name;if(this.name==aF){var aT=aX._plotValues[aX.fillAxis];var aI=aT[0];var a4=aT[0];for(var a1=1;a1<aT.length;a1++){if(aT[a1]<aI){aI=aT[a1]}else{if(aT[a1]>a4){a4=aT[a1]}}}var aw=(a4-aI)/a4;if(aX.renderer.constructor==N.jqplot.BarRenderer){if(aI>=0&&(aX.fillToZero||aw>0.1)){aE=true}else{aE=false;if(aX.fill&&aX.fillToZero&&aI<0&&a4>0){aP=true}else{aP=false}}}else{if(aX.fill){if(aI>=0&&(aX.fillToZero||aw>0.1)){aE=true}else{if(aI<0&&a4>0&&aX.fillToZero){aE=false;aP=true}else{aE=false;aP=false}}}else{if(aI<0){aE=false}}}}}if(aE){this.numberTicks=2+Math.ceil((aj-(this.tickSpacing-1))/this.tickSpacing);this.min=0;aJ=0;an=aK/(this.numberTicks-1);av=Math.pow(10,Math.abs(Math.floor(Math.log(an)/Math.LN10)));if(an/av==parseInt(an/av,10)){an+=av}this.tickInterval=Math.ceil(an/av)*av;this.max=this.tickInterval*(this.numberTicks-1)}else{if(aP){this.numberTicks=2+Math.ceil((aj-(this.tickSpacing-1))/this.tickSpacing);var aL=Math.ceil(Math.abs(a8)/ax*(this.numberTicks-1));var bb=this.numberTicks-1-aL;an=Math.max(Math.abs(a8/aL),Math.abs(aK/bb));av=Math.pow(10,Math.abs(Math.floor(Math.log(an)/Math.LN10)));this.tickInterval=Math.ceil(an/av)*av;this.max=this.tickInterval*bb;this.min=-this.tickInterval*aL}else{if(this.numberTicks==null){if(this.tickInterval){this.numberTicks=3+Math.ceil(ax/this.tickInterval)}else{this.numberTicks=2+Math.ceil((aj-(this.tickSpacing-1))/this.tickSpacing)}}if(this.tickInterval==null){an=ax/(this.numberTicks-1);if(an<1){av=Math.pow(10,Math.abs(Math.floor(Math.log(an)/Math.LN10)))}else{av=1}this.tickInterval=Math.ceil(an*av*this.pad)/av}else{av=1/this.tickInterval}am=this.tickInterval*(this.numberTicks-1);au=(am-ax)/2;if(this.min==null){this.min=Math.floor(av*(a8-au))/av}if(this.max==null){this.max=this.min+am}}}var aH=N.jqplot.getSignificantFigures(this.tickInterval);var aO;if(aH.digitsLeft>=aH.significantDigits){aO="%d"}else{var av=Math.max(0,5-aH.digitsLeft);av=Math.min(av,aH.digitsRight);aO="%."+av+"f"}this._autoFormatString=aO}else{aU=(this.min!=null)?this.min:a8-ax*(this.padMin-1);aA=(this.max!=null)?this.max:aK+ax*(this.padMax-1);ax=aA-aU;if(this.numberTicks==null){if(this.tickInterval!=null){this.numberTicks=Math.ceil((aA-aU)/this.tickInterval)+1}else{if(aj>100){this.numberTicks=parseInt(3+(aj-100)/75,10)}else{this.numberTicks=2}}}if(this.tickInterval==null){this.tickInterval=ax/(this.numberTicks-1)}if(this.max==null){aA=aU+this.tickInterval*(this.numberTicks-1)}if(this.min==null){aU=aA-this.tickInterval*(this.numberTicks-1)}var aH=N.jqplot.getSignificantFigures(this.tickInterval);var aO;if(aH.digitsLeft>=aH.significantDigits){aO="%d"}else{var av=Math.max(0,5-aH.digitsLeft);av=Math.min(av,aH.digitsRight);aO="%."+av+"f"}this._autoFormatString=aO;this.min=aU;this.max=aA}if(this.renderer.constructor==N.jqplot.LinearAxisRenderer&&this._autoFormatString==""){ax=this.max-this.min;var a9=new this.tickRenderer(this.tickOptions);var aN=a9.formatString||N.jqplot.config.defaultTickFormatString;var aN=aN.match(N.jqplot.sprintf.regex)[0];var a5=0;if(aN){if(aN.search(/[fFeEgGpP]/)>-1){var a0=aN.match(/\%\.(\d{0,})?[eEfFgGpP]/);if(a0){a5=parseInt(a0[1],10)}else{a5=6}}else{if(aN.search(/[di]/)>-1){a5=0}}var at=Math.pow(10,-a5);if(this.tickInterval<at){if(aY==null&&bc==null){this.tickInterval=at;if(a7==null&&aJ==null){this.min=Math.floor(this._dataBounds.min/at)*at;if(this.min==this._dataBounds.min){this.min=this._dataBounds.min-this.tickInterval}this.max=Math.ceil(this._dataBounds.max/at)*at;if(this.max==this._dataBounds.max){this.max=this._dataBounds.max+this.tickInterval}var aZ=(this.max-this.min)/this.tickInterval;aZ=aZ.toFixed(11);aZ=Math.ceil(aZ);this.numberTicks=aZ+1}else{if(a7==null){var aZ=(this._dataBounds.max-this.min)/this.tickInterval;aZ=aZ.toFixed(11);this.numberTicks=Math.ceil(aZ)+2;this.max=this.min+this.tickInterval*(this.numberTicks-1)}else{if(aJ==null){var aZ=(this.max-this._dataBounds.min)/this.tickInterval;aZ=aZ.toFixed(11);this.numberTicks=Math.ceil(aZ)+2;this.min=this.max-this.tickInterval*(this.numberTicks-1)}else{this.numberTicks=Math.ceil((a7-aJ)/this.tickInterval)+1;this.min=Math.floor(aJ*Math.pow(10,a5))/Math.pow(10,a5);this.max=Math.ceil(a7*Math.pow(10,a5))/Math.pow(10,a5);this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}}}}}}if(this._overrideFormatString&&this._autoFormatString!=""){this.tickOptions=this.tickOptions||{};this.tickOptions.formatString=this._autoFormatString}var aW,ba;for(var a2=0;a2<this.numberTicks;a2++){a6=this.min+a2*this.tickInterval;aW=new this.tickRenderer(this.tickOptions);aW.setTick(a6,this.name);this._ticks.push(aW);if(a2<this.numberTicks-1){for(var a1=0;a1<this.minorTicks;a1++){a6+=this.tickInterval/(this.minorTicks+1);ba=N.extend(true,{},this.tickOptions,{name:this.name,value:a6,label:"",isMinorTick:true});aW=new this.tickRenderer(ba);this._ticks.push(aW)}}aW=null}}if(this.tickInset){this.min=this.min-this.tickInset*this.tickInterval;this.max=this.max+this.tickInset*this.tickInterval}aV=null};N.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(al){if(N.isArray(al)&&al.length==this._ticks.length){var ak;for(var aj=0;aj<al.length;aj++){ak=this._ticks[aj];ak.value=al[aj];ak.label=ak.formatter(ak.formatString,al[aj]);ak.label=ak.prefix+ak.label;ak._elem.html(ak.label)}ak=null;this.min=N.jqplot.arrayMin(al);this.max=N.jqplot.arrayMax(al);this.pack()}};N.jqplot.LinearAxisRenderer.prototype.pack=function(al,ak){al=al||{};ak=ak||this._offsets;var aA=this._ticks;var aw=this.max;var av=this.min;var aq=ak.max;var ao=ak.min;var at=(this._label==null)?false:this._label.show;for(var au in al){this._elem.css(au,al[au])}this._offsets=ak;var am=aq-ao;var an=aw-av;if(this.breakPoints){an=an-this.breakPoints[1]+this.breakPoints[0];this.p2u=function(aC){return(aC-ao)*an/am+av};this.u2p=function(aC){if(aC>this.breakPoints[0]&&aC<this.breakPoints[1]){aC=this.breakPoints[0]}if(aC<=this.breakPoints[0]){return(aC-av)*am/an+ao}else{return(aC-this.breakPoints[1]+this.breakPoints[0]-av)*am/an+ao}};if(this.name.charAt(0)=="x"){this.series_u2p=function(aC){if(aC>this.breakPoints[0]&&aC<this.breakPoints[1]){aC=this.breakPoints[0]}if(aC<=this.breakPoints[0]){return(aC-av)*am/an}else{return(aC-this.breakPoints[1]+this.breakPoints[0]-av)*am/an}};this.series_p2u=function(aC){return aC*an/am+av}}else{this.series_u2p=function(aC){if(aC>this.breakPoints[0]&&aC<this.breakPoints[1]){aC=this.breakPoints[0]}if(aC>=this.breakPoints[1]){return(aC-aw)*am/an}else{return(aC+this.breakPoints[1]-this.breakPoints[0]-aw)*am/an}};this.series_p2u=function(aC){return aC*an/am+aw}}}else{this.p2u=function(aC){return(aC-ao)*an/am+av};this.u2p=function(aC){return(aC-av)*am/an+ao};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(aC){return(aC-av)*am/an};this.series_p2u=function(aC){return aC*an/am+av}}else{this.series_u2p=function(aC){return(aC-aw)*am/an};this.series_p2u=function(aC){return aC*an/am+aw}}}if(this.show){if(this.name=="xaxis"||this.name=="x2axis"){for(var ax=0;ax<aA.length;ax++){var ar=aA[ax];if(ar.show&&ar.showLabel){var aj;if(ar.constructor==N.jqplot.CanvasAxisTickRenderer&&ar.angle){var az=(this.name=="xaxis")?1:-1;switch(ar.labelPosition){case"auto":if(az*ar.angle<0){aj=-ar.getWidth()+ar._textRenderer.height*Math.sin(-ar._textRenderer.angle)/2}else{aj=-ar._textRenderer.height*Math.sin(ar._textRenderer.angle)/2}break;case"end":aj=-ar.getWidth()+ar._textRenderer.height*Math.sin(-ar._textRenderer.angle)/2;break;case"start":aj=-ar._textRenderer.height*Math.sin(ar._textRenderer.angle)/2;break;case"middle":aj=-ar.getWidth()/2+ar._textRenderer.height*Math.sin(-ar._textRenderer.angle)/2;break;default:aj=-ar.getWidth()/2+ar._textRenderer.height*Math.sin(-ar._textRenderer.angle)/2;break}}else{aj=-ar.getWidth()/2}var aB=this.u2p(ar.value)+aj+"px";ar._elem.css("left",aB);ar.pack()}}if(at){var ap=this._label._elem.outerWidth(true);this._label._elem.css("left",ao+am/2-ap/2+"px");if(this.name=="xaxis"){this._label._elem.css("bottom","0px")}else{this._label._elem.css("top","0px")}this._label.pack()}}else{for(var ax=0;ax<aA.length;ax++){var ar=aA[ax];if(ar.show&&ar.showLabel){var aj;if(ar.constructor==N.jqplot.CanvasAxisTickRenderer&&ar.angle){var az=(this.name=="yaxis")?1:-1;switch(ar.labelPosition){case"auto":case"end":if(az*ar.angle<0){aj=-ar._textRenderer.height*Math.cos(-ar._textRenderer.angle)/2}else{aj=-ar.getHeight()+ar._textRenderer.height*Math.cos(ar._textRenderer.angle)/2}break;case"start":if(ar.angle>0){aj=-ar._textRenderer.height*Math.cos(-ar._textRenderer.angle)/2}else{aj=-ar.getHeight()+ar._textRenderer.height*Math.cos(ar._textRenderer.angle)/2}break;case"middle":aj=-ar.getHeight()/2;break;default:aj=-ar.getHeight()/2;break}}else{aj=-ar.getHeight()/2}var aB=this.u2p(ar.value)+aj+"px";ar._elem.css("top",aB);ar.pack()}}if(at){var ay=this._label._elem.outerHeight(true);this._label._elem.css("top",aq-am/2-ay/2+"px");if(this.name=="yaxis"){this._label._elem.css("left","0px")}else{this._label._elem.css("right","0px")}this._label.pack()}}}aA=null};function j(ak){var aj;ak=Math.abs(ak);if(ak>=10){aj="%d"}else{if(ak>1){if(ak===parseInt(ak,10)){aj="%d"}else{aj="%.1f"}}else{var al=-Math.floor(Math.log(ak)/Math.LN10);aj="%."+al+"f"}}return aj}var b=[0.1,0.2,0.3,0.4,0.5,0.8,1,2,3,4,5];var c=function(ak){var aj=b.indexOf(ak);if(aj>0){return b[aj-1]}else{return b[b.length-1]/100}};var l=function(ak){var aj=b.indexOf(ak);if(aj<b.length-1){return b[aj+1]}else{return b[0]*100}};function d(an,aw,av){var at=Math.floor(av/2);var ak=Math.ceil(av*1.5);var am=Number.MAX_VALUE;var aj=(aw-an);var az;var ar;var au;var aA=N.jqplot.getSignificantFigures;var ay;var ap;var aq;var ax;for(var ao=0,al=ak-at+1;ao<al;ao++){aq=at+ao;az=aj/(aq-1);ar=aA(az);az=Math.abs(av-aq)+ar.digitsRight;if(az<am){am=az;au=aq;ax=ar.digitsRight}else{if(az===am){if(ar.digitsRight<ax){au=aq;ax=ar.digitsRight}}}}ay=Math.max(ax,Math.max(aA(an).digitsRight,aA(aw).digitsRight));if(ay===0){ap="%d"}else{ap="%."+ay+"f"}az=aj/(au-1);return[an,aw,au,ap,az]}function Y(ak,an){an=an||7;var am=ak/(an-1);var al=Math.pow(10,Math.floor(Math.log(am)/Math.LN10));var ao=am/al;var aj;if(al<1){if(ao>5){aj=10*al}else{if(ao>2){aj=5*al}else{if(ao>1){aj=2*al}else{aj=al}}}}else{if(ao>5){aj=10*al}else{if(ao>4){aj=5*al}else{if(ao>3){aj=4*al}else{if(ao>2){aj=3*al}else{if(ao>1){aj=2*al}else{aj=al}}}}}}return aj}function S(ak,aj){aj=aj||1;var am=Math.floor(Math.log(ak)/Math.LN10);var ao=Math.pow(10,am);var an=ak/ao;var al;an=an/aj;if(an<=0.38){al=0.1}else{if(an<=1.6){al=0.2}else{if(an<=4){al=0.5}else{if(an<=8){al=1}else{if(an<=16){al=2}else{al=5}}}}}return al*ao}function z(al,ak){var an=Math.floor(Math.log(al)/Math.LN10);var ap=Math.pow(10,an);var ao=al/ap;var aj;var am;ao=ao/ak;if(ao<=0.38){am=0.1}else{if(ao<=1.6){am=0.2}else{if(ao<=4){am=0.5}else{if(ao<=8){am=1}else{if(ao<=16){am=2}else{am=5}}}}}aj=am*ap;return[aj,am,ap]}N.jqplot.LinearTickGenerator=function(ap,at,al,am,aq,au){aq=(aq===null)?false:aq;au=(au===null||aq)?false:au;if(ap===at){at=(at)?0:1}al=al||1;if(at<ap){var av=at;at=ap;ap=av}var ak=[];var ay=S(at-ap,al);var ax=N.jqplot.getSignificantFigures;if(am==null){if(!aq&&!au){ak[0]=Math.floor(ap/ay)*ay;ak[1]=Math.ceil(at/ay)*ay;ak[2]=Math.round((ak[1]-ak[0])/ay+1);ak[3]=j(ay);ak[4]=ay}else{if(aq){ak[0]=ap;ak[2]=Math.ceil((at-ap)/ay+1);ak[1]=ap+(ak[2]-1)*ay;var aw=ax(ap).digitsRight;var ar=ax(ay).digitsRight;if(aw<ar){ak[3]=j(ay)}else{ak[3]="%."+aw+"f"}ak[4]=ay}else{if(au){ak[1]=at;ak[2]=Math.ceil((at-ap)/ay+1);ak[0]=at-(ak[2]-1)*ay;var an=ax(at).digitsRight;var ar=ax(ay).digitsRight;if(an<ar){ak[3]=j(ay)}else{ak[3]="%."+an+"f"}ak[4]=ay}}}}else{var ao=[];ao[0]=Math.floor(ap/ay)*ay;ao[1]=Math.ceil(at/ay)*ay;ao[2]=Math.round((ao[1]-ao[0])/ay+1);ao[3]=j(ay);ao[4]=ay;if(ao[2]===am){ak=ao}else{var aj=Y(ao[1]-ao[0],am);ak[0]=ao[0];ak[2]=am;ak[4]=aj;ak[3]=j(aj);ak[1]=ak[0]+(ak[2]-1)*ak[4]}}return ak};N.jqplot.LinearTickGenerator.bestLinearInterval=S;N.jqplot.LinearTickGenerator.bestInterval=Y;N.jqplot.LinearTickGenerator.bestLinearComponents=z;N.jqplot.LinearTickGenerator.bestConstrainedInterval=d;N.jqplot.MarkerRenderer=function(aj){this.show=true;this.style="filledCircle";this.lineWidth=2;this.size=9;this.color="#666666";this.shadow=true;this.shadowAngle=45;this.shadowOffset=1;this.shadowDepth=3;this.shadowAlpha="0.07";this.shadowRenderer=new N.jqplot.ShadowRenderer();this.shapeRenderer=new N.jqplot.ShapeRenderer();N.extend(true,this,aj)};N.jqplot.MarkerRenderer.prototype.init=function(aj){N.extend(true,this,aj);var al={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:true};if(this.style.indexOf("filled")!=-1){al.fill=true}if(this.style.indexOf("ircle")!=-1){al.isarc=true;al.closePath=false}this.shadowRenderer.init(al);var ak={fill:false,isarc:false,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:true};if(this.style.indexOf("filled")!=-1){ak.fill=true}if(this.style.indexOf("ircle")!=-1){ak.isarc=true;ak.closePath=false}this.shapeRenderer.init(ak)};N.jqplot.MarkerRenderer.prototype.drawDiamond=function(al,ak,ao,an,aq){var aj=1.2;var ar=this.size/2/aj;var ap=this.size/2*aj;var am=[[al-ar,ak],[al,ak+ap],[al+ar,ak],[al,ak-ap]];if(this.shadow){this.shadowRenderer.draw(ao,am)}this.shapeRenderer.draw(ao,am,aq)};N.jqplot.MarkerRenderer.prototype.drawPlus=function(am,al,ap,ao,at){var ak=1;var au=this.size/2*ak;var aq=this.size/2*ak;var ar=[[am,al-aq],[am,al+aq]];var an=[[am+au,al],[am-au,al]];var aj=N.extend(true,{},this.options,{closePath:false});if(this.shadow){this.shadowRenderer.draw(ap,ar,{closePath:false});this.shadowRenderer.draw(ap,an,{closePath:false})}this.shapeRenderer.draw(ap,ar,aj);this.shapeRenderer.draw(ap,an,aj)};N.jqplot.MarkerRenderer.prototype.drawX=function(am,al,ap,ao,at){var ak=1;var au=this.size/2*ak;var aq=this.size/2*ak;var aj=N.extend(true,{},this.options,{closePath:false});var ar=[[am-au,al-aq],[am+au,al+aq]];var an=[[am-au,al+aq],[am+au,al-aq]];if(this.shadow){this.shadowRenderer.draw(ap,ar,{closePath:false});this.shadowRenderer.draw(ap,an,{closePath:false})}this.shapeRenderer.draw(ap,ar,aj);this.shapeRenderer.draw(ap,an,aj)};N.jqplot.MarkerRenderer.prototype.drawDash=function(al,ak,ao,an,aq){var aj=1;var ar=this.size/2*aj;var ap=this.size/2*aj;var am=[[al-ar,ak],[al+ar,ak]];if(this.shadow){this.shadowRenderer.draw(ao,am)}this.shapeRenderer.draw(ao,am,aq)};N.jqplot.MarkerRenderer.prototype.drawLine=function(ao,an,aj,am,ak){var al=[ao,an];if(this.shadow){this.shadowRenderer.draw(aj,al)}this.shapeRenderer.draw(aj,al,ak)};N.jqplot.MarkerRenderer.prototype.drawSquare=function(al,ak,ao,an,aq){var aj=1;var ar=this.size/2/aj;var ap=this.size/2*aj;var am=[[al-ar,ak-ap],[al-ar,ak+ap],[al+ar,ak+ap],[al+ar,ak-ap]];if(this.shadow){this.shadowRenderer.draw(ao,am)}this.shapeRenderer.draw(ao,am,aq)};N.jqplot.MarkerRenderer.prototype.drawCircle=function(ak,aq,am,ap,an){var aj=this.size/2;var al=2*Math.PI;var ao=[ak,aq,aj,0,al,true];if(this.shadow){this.shadowRenderer.draw(am,ao)}this.shapeRenderer.draw(am,ao,an)};N.jqplot.MarkerRenderer.prototype.draw=function(aj,am,ak,al){al=al||{};if(al.show==null||al.show!=false){if(al.color&&!al.fillStyle){al.fillStyle=al.color}if(al.color&&!al.strokeStyle){al.strokeStyle=al.color}switch(this.style){case"diamond":this.drawDiamond(aj,am,ak,false,al);break;case"filledDiamond":this.drawDiamond(aj,am,ak,true,al);break;case"circle":this.drawCircle(aj,am,ak,false,al);break;case"filledCircle":this.drawCircle(aj,am,ak,true,al);break;case"square":this.drawSquare(aj,am,ak,false,al);break;case"filledSquare":this.drawSquare(aj,am,ak,true,al);break;case"x":this.drawX(aj,am,ak,true,al);break;case"plus":this.drawPlus(aj,am,ak,true,al);break;case"dash":this.drawDash(aj,am,ak,true,al);break;case"line":this.drawLine(aj,am,ak,false,al);break;default:this.drawDiamond(aj,am,ak,false,al);break}}};N.jqplot.ShadowRenderer=function(aj){this.angle=45;this.offset=1;this.alpha=0.07;this.lineWidth=1.5;this.lineJoin="miter";this.lineCap="round";this.closePath=false;this.fill=false;this.depth=3;this.strokeStyle="rgba(0,0,0,0.1)";this.isarc=false;N.extend(true,this,aj)};N.jqplot.ShadowRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.ShadowRenderer.prototype.draw=function(ax,av,az){ax.save();var aj=(az!=null)?az:{};var aw=(aj.fill!=null)?aj.fill:this.fill;var ar=(aj.fillRect!=null)?aj.fillRect:this.fillRect;var aq=(aj.closePath!=null)?aj.closePath:this.closePath;var an=(aj.offset!=null)?aj.offset:this.offset;var al=(aj.alpha!=null)?aj.alpha:this.alpha;var ap=(aj.depth!=null)?aj.depth:this.depth;var ay=(aj.isarc!=null)?aj.isarc:this.isarc;var at=(aj.linePattern!=null)?aj.linePattern:this.linePattern;ax.lineWidth=(aj.lineWidth!=null)?aj.lineWidth:this.lineWidth;ax.lineJoin=(aj.lineJoin!=null)?aj.lineJoin:this.lineJoin;ax.lineCap=(aj.lineCap!=null)?aj.lineCap:this.lineCap;ax.strokeStyle=aj.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+al+")";ax.fillStyle=aj.fillStyle||this.fillStyle||"rgba(0,0,0,"+al+")";for(var am=0;am<ap;am++){var au=N.jqplot.LinePattern(ax,at);ax.translate(Math.cos(this.angle*Math.PI/180)*an,Math.sin(this.angle*Math.PI/180)*an);au.beginPath();if(ay){ax.arc(av[0],av[1],av[2],av[3],av[4],true)}else{if(ar){if(ar){ax.fillRect(av[0],av[1],av[2],av[3])}}else{if(av&&av.length){var ak=true;for(var ao=0;ao<av.length;ao++){if(av[ao][0]!=null&&av[ao][1]!=null){if(ak){au.moveTo(av[ao][0],av[ao][1]);ak=false}else{au.lineTo(av[ao][0],av[ao][1])}}else{ak=true}}}}}if(aq){au.closePath()}if(aw){ax.fill()}else{ax.stroke()}}ax.restore()};N.jqplot.ShapeRenderer=function(aj){this.lineWidth=1.5;this.linePattern="solid";this.lineJoin="miter";this.lineCap="round";this.closePath=false;this.fill=false;this.isarc=false;this.fillRect=false;this.strokeRect=false;this.clearRect=false;this.strokeStyle="#999999";this.fillStyle="#999999";N.extend(true,this,aj)};N.jqplot.ShapeRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.ShapeRenderer.prototype.draw=function(av,at,ax){av.save();var aj=(ax!=null)?ax:{};var au=(aj.fill!=null)?aj.fill:this.fill;var ao=(aj.closePath!=null)?aj.closePath:this.closePath;var ap=(aj.fillRect!=null)?aj.fillRect:this.fillRect;var am=(aj.strokeRect!=null)?aj.strokeRect:this.strokeRect;var ak=(aj.clearRect!=null)?aj.clearRect:this.clearRect;var aw=(aj.isarc!=null)?aj.isarc:this.isarc;var aq=(aj.linePattern!=null)?aj.linePattern:this.linePattern;var ar=N.jqplot.LinePattern(av,aq);av.lineWidth=aj.lineWidth||this.lineWidth;av.lineJoin=aj.lineJoin||this.lineJoin;av.lineCap=aj.lineCap||this.lineCap;av.strokeStyle=(aj.strokeStyle||aj.color)||this.strokeStyle;av.fillStyle=aj.fillStyle||this.fillStyle;av.beginPath();if(aw){av.arc(at[0],at[1],at[2],at[3],at[4],true);if(ao){av.closePath()}if(au){av.fill()}else{av.stroke()}av.restore();return}else{if(ak){av.clearRect(at[0],at[1],at[2],at[3]);av.restore();return}else{if(ap||am){if(ap){av.fillRect(at[0],at[1],at[2],at[3])}if(am){av.strokeRect(at[0],at[1],at[2],at[3]);av.restore();return}}else{if(at&&at.length){var al=true;for(var an=0;an<at.length;an++){if(at[an][0]!=null&&at[an][1]!=null){if(al){ar.moveTo(at[an][0],at[an][1]);al=false}else{ar.lineTo(at[an][0],at[an][1])}}else{al=true}}if(ao){ar.closePath()}if(au){av.fill()}else{av.stroke()}}}}}av.restore()};N.jqplot.TableLegendRenderer=function(){};N.jqplot.TableLegendRenderer.prototype.init=function(aj){N.extend(true,this,aj)};N.jqplot.TableLegendRenderer.prototype.addrow=function(at,am,aj,aq){var an=(aj)?this.rowSpacing+"px":"0px";var ar;var al;var ak;var ap;var ao;ak=document.createElement("tr");ar=N(ak);ar.addClass("jqplot-table-legend");ak=null;if(aq){ar.prependTo(this._elem)}else{ar.appendTo(this._elem)}if(this.showSwatches){al=N(document.createElement("td"));al.addClass("jqplot-table-legend jqplot-table-legend-swatch");al.css({textAlign:"center",paddingTop:an});ap=N(document.createElement("div"));ap.addClass("jqplot-table-legend-swatch-outline");ao=N(document.createElement("div"));ao.addClass("jqplot-table-legend-swatch");ao.css({backgroundColor:am,borderColor:am});ar.append(al.append(ap.append(ao)))}if(this.showLabels){al=N(document.createElement("td"));al.addClass("jqplot-table-legend jqplot-table-legend-label");al.css("paddingTop",an);ar.append(al);if(this.escapeHtml){al.text(at)}else{al.html(at)}}al=null;ap=null;ao=null;ar=null;ak=null};N.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();this._elem=null}if(this.show){var ao=this._series;var ak=document.createElement("table");this._elem=N(ak);this._elem.addClass("jqplot-table-legend");var au={position:"absolute"};if(this.background){au.background=this.background}if(this.border){au.border=this.border}if(this.fontSize){au.fontSize=this.fontSize}if(this.fontFamily){au.fontFamily=this.fontFamily}if(this.textColor){au.textColor=this.textColor}if(this.marginTop!=null){au.marginTop=this.marginTop}if(this.marginBottom!=null){au.marginBottom=this.marginBottom}if(this.marginLeft!=null){au.marginLeft=this.marginLeft}if(this.marginRight!=null){au.marginRight=this.marginRight}var aj=false,aq=false,at;for(var ap=0;ap<ao.length;ap++){at=ao[ap];if(at._stack||at.renderer.constructor==N.jqplot.BezierCurveRenderer){aq=true}if(at.show&&at.showLabel){var an=this.labels[ap]||at.label.toString();if(an){var al=at.color;if(aq&&ap<ao.length-1){aj=true}else{if(aq&&ap==ao.length-1){aj=false}}this.renderer.addrow.call(this,an,al,aj,aq);aj=true}for(var am=0;am<N.jqplot.addLegendRowHooks.length;am++){var ar=N.jqplot.addLegendRowHooks[am].call(this,at);if(ar){this.renderer.addrow.call(this,ar.label,ar.color,aj);aj=true}}an=null}}}return this._elem};N.jqplot.TableLegendRenderer.prototype.pack=function(al){if(this.show){if(this.placement=="insideGrid"){switch(this.location){case"nw":var ak=al.left;var aj=al.top;this._elem.css("left",ak);this._elem.css("top",aj);break;case"n":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;var aj=al.top;this._elem.css("left",ak);this._elem.css("top",aj);break;case"ne":var ak=al.right;var aj=al.top;this._elem.css({right:ak,top:aj});break;case"e":var ak=al.right;var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({right:ak,top:aj});break;case"se":var ak=al.right;var aj=al.bottom;this._elem.css({right:ak,bottom:aj});break;case"s":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;var aj=al.bottom;this._elem.css({left:ak,bottom:aj});break;case"sw":var ak=al.left;var aj=al.bottom;this._elem.css({left:ak,bottom:aj});break;case"w":var ak=al.left;var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({left:ak,top:aj});break;default:var ak=al.right;var aj=al.bottom;this._elem.css({right:ak,bottom:aj});break}}else{if(this.placement=="outside"){switch(this.location){case"nw":var ak=this._plotDimensions.width-al.left;var aj=al.top;this._elem.css("right",ak);this._elem.css("top",aj);break;case"n":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;var aj=this._plotDimensions.height-al.top;this._elem.css("left",ak);this._elem.css("bottom",aj);break;case"ne":var ak=this._plotDimensions.width-al.right;var aj=al.top;this._elem.css({left:ak,top:aj});break;case"e":var ak=this._plotDimensions.width-al.right;var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({left:ak,top:aj});break;case"se":var ak=this._plotDimensions.width-al.right;var aj=al.bottom;this._elem.css({left:ak,bottom:aj});break;case"s":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;var aj=this._plotDimensions.height-al.bottom;this._elem.css({left:ak,top:aj});break;case"sw":var ak=this._plotDimensions.width-al.left;var aj=al.bottom;this._elem.css({right:ak,bottom:aj});break;case"w":var ak=this._plotDimensions.width-al.left;var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({right:ak,top:aj});break;default:var ak=al.right;var aj=al.bottom;this._elem.css({right:ak,bottom:aj});break}}else{switch(this.location){case"nw":this._elem.css({left:0,top:al.top});break;case"n":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;this._elem.css({left:ak,top:al.top});break;case"ne":this._elem.css({right:0,top:al.top});break;case"e":var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({right:al.right,top:aj});break;case"se":this._elem.css({right:al.right,bottom:al.bottom});break;case"s":var ak=(al.left+(this._plotDimensions.width-al.right))/2-this.getWidth()/2;this._elem.css({left:ak,bottom:al.bottom});break;case"sw":this._elem.css({left:al.left,bottom:al.bottom});break;case"w":var aj=(al.top+(this._plotDimensions.height-al.bottom))/2-this.getHeight()/2;this._elem.css({left:al.left,top:aj});break;default:this._elem.css({right:al.right,bottom:al.bottom});break}}}}};N.jqplot.ThemeEngine=function(){this.themes={};this.activeTheme=null};N.jqplot.ThemeEngine.prototype.init=function(){var am=new N.jqplot.Theme({_name:"Default"});var ap,ak,ao;for(ap in am.target){if(ap=="textColor"){am.target[ap]=this.target.css("color")}else{am.target[ap]=this.target.css(ap)}}if(this.title.show&&this.title._elem){for(ap in am.title){if(ap=="textColor"){am.title[ap]=this.title._elem.css("color")}else{am.title[ap]=this.title._elem.css(ap)}}}for(ap in am.grid){am.grid[ap]=this.grid[ap]}if(am.grid.backgroundColor==null&&this.grid.background!=null){am.grid.backgroundColor=this.grid.background}if(this.legend.show&&this.legend._elem){for(ap in am.legend){if(ap=="textColor"){am.legend[ap]=this.legend._elem.css("color")}else{am.legend[ap]=this.legend._elem.css(ap)}}}var al;for(ak=0;ak<this.series.length;ak++){al=this.series[ak];if(al.renderer.constructor==N.jqplot.LineRenderer){am.series.push(new q())}else{if(al.renderer.constructor==N.jqplot.BarRenderer){am.series.push(new V())}else{if(al.renderer.constructor==N.jqplot.PieRenderer){am.series.push(new f())}else{if(al.renderer.constructor==N.jqplot.DonutRenderer){am.series.push(new I())}else{if(al.renderer.constructor==N.jqplot.FunnelRenderer){am.series.push(new ab())}else{if(al.renderer.constructor==N.jqplot.MeterGaugeRenderer){am.series.push(new F())}else{am.series.push({})}}}}}}for(ap in am.series[ak]){am.series[ak][ap]=al[ap]}}var aj,an;for(ap in this.axes){an=this.axes[ap];aj=am.axes[ap]=new R();aj.borderColor=an.borderColor;aj.borderWidth=an.borderWidth;if(an._ticks&&an._ticks[0]){for(ao in aj.ticks){if(an._ticks[0].hasOwnProperty(ao)){aj.ticks[ao]=an._ticks[0][ao]}else{if(an._ticks[0]._elem){aj.ticks[ao]=an._ticks[0]._elem.css(ao)}}}}if(an._label&&an._label.show){for(ao in aj.label){if(an._label[ao]){aj.label[ao]=an._label[ao]}else{if(an._label._elem){if(ao=="textColor"){aj.label[ao]=an._label._elem.css("color")}else{aj.label[ao]=an._label._elem.css(ao)}}}}}}this.themeEngine._add(am);this.themeEngine.activeTheme=this.themeEngine.themes[am._name]};N.jqplot.ThemeEngine.prototype.get=function(aj){if(!aj){return this.activeTheme}else{return this.themes[aj]}};function Q(ak,aj){return ak-aj}N.jqplot.ThemeEngine.prototype.getThemeNames=function(){var aj=[];for(var ak in this.themes){aj.push(ak)}return aj.sort(Q)};N.jqplot.ThemeEngine.prototype.getThemes=function(){var ak=[];var aj=[];for(var am in this.themes){ak.push(am)}ak.sort(Q);for(var al=0;al<ak.length;al++){aj.push(this.themes[ak[al]])}return aj};N.jqplot.ThemeEngine.prototype.activate=function(ay,aD){var aj=false;if(!aD&&this.activeTheme&&this.activeTheme._name){aD=this.activeTheme._name}if(!this.themes.hasOwnProperty(aD)){throw new Error("No theme of that name")}else{var ao=this.themes[aD];this.activeTheme=ao;var aC,av=false,au=false;var ak=["xaxis","x2axis","yaxis","y2axis"];for(az=0;az<ak.length;az++){var ap=ak[az];if(ao.axesStyles.borderColor!=null){ay.axes[ap].borderColor=ao.axesStyles.borderColor}if(ao.axesStyles.borderWidth!=null){ay.axes[ap].borderWidth=ao.axesStyles.borderWidth}}for(var aB in ay.axes){var am=ay.axes[aB];if(am.show){var at=ao.axes[aB]||{};var aq=ao.axesStyles;var an=N.jqplot.extend(true,{},at,aq);aC=(ao.axesStyles.borderColor!=null)?ao.axesStyles.borderColor:an.borderColor;if(an.borderColor!=null){am.borderColor=an.borderColor;aj=true}aC=(ao.axesStyles.borderWidth!=null)?ao.axesStyles.borderWidth:an.borderWidth;if(an.borderWidth!=null){am.borderWidth=an.borderWidth;aj=true}if(am._ticks&&am._ticks[0]){for(var al in an.ticks){aC=an.ticks[al];if(aC!=null){am.tickOptions[al]=aC;am._ticks=[];aj=true}}}if(am._label&&am._label.show){for(var al in an.label){aC=an.label[al];if(aC!=null){am.labelOptions[al]=aC;aj=true}}}}}for(var aw in ao.grid){if(ao.grid[aw]!=null){ay.grid[aw]=ao.grid[aw]}}if(!aj){ay.grid.draw()}if(ay.legend.show){for(aw in ao.legend){if(ao.legend[aw]!=null){ay.legend[aw]=ao.legend[aw]}}}if(ay.title.show){for(aw in ao.title){if(ao.title[aw]!=null){ay.title[aw]=ao.title[aw]}}}var az;for(az=0;az<ao.series.length;az++){var ar={};var aA=false;for(aw in ao.series[az]){aC=(ao.seriesStyles[aw]!=null)?ao.seriesStyles[aw]:ao.series[az][aw];if(aC!=null){ar[aw]=aC;if(aw=="color"){ay.series[az].renderer.shapeRenderer.fillStyle=aC;ay.series[az].renderer.shapeRenderer.strokeStyle=aC;ay.series[az][aw]=aC}else{if((aw=="lineWidth")||(aw=="linePattern")){ay.series[az].renderer.shapeRenderer[aw]=aC;ay.series[az][aw]=aC}else{if(aw=="markerOptions"){X(ay.series[az].markerOptions,aC);X(ay.series[az].markerRenderer,aC)}else{ay.series[az][aw]=aC}}}aj=true}}}if(aj){ay.target.empty();ay.draw()}for(aw in ao.target){if(ao.target[aw]!=null){ay.target.css(aw,ao.target[aw])}}}};N.jqplot.ThemeEngine.prototype._add=function(ak,aj){if(aj){ak._name=aj}if(!ak._name){ak._name=Date.parse(new Date())}if(!this.themes.hasOwnProperty(ak._name)){this.themes[ak._name]=ak}else{throw new Error("jqplot.ThemeEngine Error: Theme already in use")}};N.jqplot.ThemeEngine.prototype.remove=function(aj){if(aj=="Default"){return false}return delete this.themes[aj]};N.jqplot.ThemeEngine.prototype.newTheme=function(aj,al){if(typeof(aj)=="object"){al=al||aj;aj=null}if(al&&al._name){aj=al._name}else{aj=aj||Date.parse(new Date())}var ak=this.copy(this.themes.Default._name,aj);N.jqplot.extend(ak,al);return ak};function D(al){if(al==null||typeof(al)!="object"){return al}var aj=new al.constructor();for(var ak in al){aj[ak]=D(al[ak])}return aj}N.jqplot.clone=D;function X(al,ak){if(ak==null||typeof(ak)!="object"){return}for(var aj in ak){if(aj=="highlightColors"){al[aj]=D(ak[aj])}if(ak[aj]!=null&&typeof(ak[aj])=="object"){if(!al.hasOwnProperty(aj)){al[aj]={}}X(al[aj],ak[aj])}else{al[aj]=ak[aj]}}}N.jqplot.merge=X;N.jqplot.extend=function(){var ao=arguments[0]||{},am=1,an=arguments.length,aj=false,al;if(typeof ao==="boolean"){aj=ao;ao=arguments[1]||{};am=2}if(typeof ao!=="object"&&!toString.call(ao)==="[object Function]"){ao={}}for(;am<an;am++){if((al=arguments[am])!=null){for(var ak in al){var ap=ao[ak],aq=al[ak];if(ao===aq){continue}if(aj&&aq&&typeof aq==="object"&&!aq.nodeType){ao[ak]=N.jqplot.extend(aj,ap||(aq.length!=null?[]:{}),aq)}else{if(aq!==w){ao[ak]=aq}}}}}return ao};N.jqplot.ThemeEngine.prototype.rename=function(ak,aj){if(ak=="Default"||aj=="Default"){throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default")}if(this.themes.hasOwnProperty(aj)){throw new Error("jqplot.ThemeEngine Error: New name already in use.")}else{if(this.themes.hasOwnProperty(ak)){var al=this.copy(ak,aj);this.remove(ak);return al}}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")};N.jqplot.ThemeEngine.prototype.copy=function(aj,al,an){if(al=="Default"){throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme")}if(!this.themes.hasOwnProperty(aj)){var ak="jqplot.ThemeEngine Error: Source name invalid";throw new Error(ak)}if(this.themes.hasOwnProperty(al)){var ak="jqplot.ThemeEngine Error: Target name invalid";throw new Error(ak)}else{var am=D(this.themes[aj]);am._name=al;N.jqplot.extend(true,am,an);this._add(am);return am}};N.jqplot.Theme=function(aj,ak){if(typeof(aj)=="object"){ak=ak||aj;aj=null}aj=aj||Date.parse(new Date());this._name=aj;this.target={backgroundColor:null};this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null};this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null};this.seriesStyles={};this.series=[];this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null};this.axesStyles={label:{},ticks:{}};this.axes={};if(typeof(ak)=="string"){this._name=ak}else{if(typeof(ak)=="object"){N.jqplot.extend(true,this,ak)}}};var R=function(){this.borderColor=null;this.borderWidth=null;this.ticks=new p();this.label=new v()};var p=function(){this.show=null;this.showGridline=null;this.showLabel=null;this.showMark=null;this.size=null;this.textColor=null;this.whiteSpace=null;this.fontSize=null;this.fontFamily=null};var v=function(){this.textColor=null;this.whiteSpace=null;this.fontSize=null;this.fontFamily=null;this.fontWeight=null};var q=function(){this.color=null;this.lineWidth=null;this.linePattern=null;this.shadow=null;this.fillColor=null;this.showMarker=null;this.markerOptions=new K()};var K=function(){this.show=null;this.style=null;this.lineWidth=null;this.size=null;this.color=null;this.shadow=null};var V=function(){this.color=null;this.seriesColors=null;this.lineWidth=null;this.shadow=null;this.barPadding=null;this.barMargin=null;this.barWidth=null;this.highlightColors=null};var f=function(){this.seriesColors=null;this.padding=null;this.sliceMargin=null;this.fill=null;this.shadow=null;this.startAngle=null;this.lineWidth=null;this.highlightColors=null};var I=function(){this.seriesColors=null;this.padding=null;this.sliceMargin=null;this.fill=null;this.shadow=null;this.startAngle=null;this.lineWidth=null;this.innerDiameter=null;this.thickness=null;this.ringMargin=null;this.highlightColors=null};var ab=function(){this.color=null;this.lineWidth=null;this.shadow=null;this.padding=null;this.sectionMargin=null;this.seriesColors=null;this.highlightColors=null};var F=function(){this.padding=null;this.backgroundColor=null;this.ringColor=null;this.tickColor=null;this.ringWidth=null;this.intervalColors=null;this.intervalInnerRadius=null;this.intervalOuterRadius=null;this.hubRadius=null;this.needleThickness=null;this.needlePad=null};N.fn.jqplotChildText=function(){return N(this).contents().filter(function(){return this.nodeType==3}).text()};N.fn.jqplotGetComputedFontStyle=function(){var am=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle;var ak=am["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"];var an=[];for(var al=0;al<ak.length;++al){var aj=String(am[ak[al]]);if(aj&&aj!="normal"){an.push(aj)}}return an.join(" ")};N.fn.jqplotToImageCanvas=function(al){al=al||{};var ax=(al.x_offset==null)?0:al.x_offset;var az=(al.y_offset==null)?0:al.y_offset;var an=(al.backgroundColor==null)?"rgb(255,255,255)":al.backgroundColor;if(N(this).width()==0||N(this).height()==0){return null}if(N.jqplot.use_excanvas){return null}var ap=document.createElement("canvas");var aC=N(this).outerHeight(true);var av=N(this).outerWidth(true);var ao=N(this).offset();var aq=ao.left;var at=ao.top;var aw=0,au=0;var aA=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"];var ar,aj,ak,aD;for(var aB=0;aB<aA.length;aB++){N(this).find("."+aA[aB]).each(function(){ar=N(this).offset().top-at;aj=N(this).offset().left-aq;aD=aj+N(this).outerWidth(true)+aw;ak=ar+N(this).outerHeight(true)+au;if(aj<-aw){av=av-aw-aj;aw=-aj}if(ar<-au){aC=aC-au-ar;au=-ar}if(aD>av){av=aD}if(ak>aC){aC=ak}})}ap.width=av+Number(ax);ap.height=aC+Number(az);var am=ap.getContext("2d");am.save();am.fillStyle=an;am.fillRect(0,0,ap.width,ap.height);am.restore();am.translate(aw,au);am.textAlign="left";am.textBaseline="top";function aE(aG){var aH=parseInt(N(aG).css("line-height"),10);if(isNaN(aH)){aH=parseInt(N(aG).css("font-size"),10)*1.2}return aH}function aF(aH,aG,aU,aI,aQ,aJ){var aS=aE(aH);var aM=N(aH).innerWidth();var aN=N(aH).innerHeight();var aP=aU.split(/\s+/);var aT=aP.length;var aR="";var aO=[];var aW=aQ;var aV=aI;for(var aL=0;aL<aT;aL++){aR+=aP[aL];if(aG.measureText(aR).width>aM){aO.push(aL);aR="";aL--}}if(aO.length===0){if(N(aH).css("textAlign")==="center"){aV=aI+(aJ-aG.measureText(aR).width)/2-aw}aG.fillText(aU,aV,aQ)}else{aR=aP.slice(0,aO[0]).join(" ");if(N(aH).css("textAlign")==="center"){aV=aI+(aJ-aG.measureText(aR).width)/2-aw}aG.fillText(aR,aV,aW);aW+=aS;for(var aL=1,aK=aO.length;aL<aK;aL++){aR=aP.slice(aO[aL-1],aO[aL]).join(" ");if(N(aH).css("textAlign")==="center"){aV=aI+(aJ-aG.measureText(aR).width)/2-aw}aG.fillText(aR,aV,aW);aW+=aS}aR=aP.slice(aO[aL-1],aP.length).join(" ");if(N(aH).css("textAlign")==="center"){aV=aI+(aJ-aG.measureText(aR).width)/2-aw}aG.fillText(aR,aV,aW)}}function ay(aI,aL,aG){var aP=aI.tagName.toLowerCase();var aH=N(aI).position();var aM=window.getComputedStyle?window.getComputedStyle(aI,""):aI.currentStyle;var aK=aL+aH.left+parseInt(aM.marginLeft,10)+parseInt(aM.borderLeftWidth,10)+parseInt(aM.paddingLeft,10);var aN=aG+aH.top+parseInt(aM.marginTop,10)+parseInt(aM.borderTopWidth,10)+parseInt(aM.paddingTop,10);var aO=ap.width;if((aP=="div"||aP=="span")&&!N(aI).hasClass("jqplot-highlighter-tooltip")){N(aI).children().each(function(){ay(this,aK,aN)});var aQ=N(aI).jqplotChildText();if(aQ){am.font=N(aI).jqplotGetComputedFontStyle();am.fillStyle=N(aI).css("color");aF(aI,am,aQ,aK,aN,aO)}}else{if(aP==="table"&&N(aI).hasClass("jqplot-table-legend")){am.strokeStyle=N(aI).css("border-top-color");am.fillStyle=N(aI).css("background-color");am.fillRect(aK,aN,N(aI).innerWidth(),N(aI).innerHeight());if(parseInt(N(aI).css("border-top-width"),10)>0){am.strokeRect(aK,aN,N(aI).innerWidth(),N(aI).innerHeight())}N(aI).find("div.jqplot-table-legend-swatch-outline").each(function(){var aW=N(this);am.strokeStyle=aW.css("border-top-color");var aS=aK+aW.position().left;var aT=aN+aW.position().top;am.strokeRect(aS,aT,aW.innerWidth(),aW.innerHeight());aS+=parseInt(aW.css("padding-left"),10);aT+=parseInt(aW.css("padding-top"),10);var aV=aW.innerHeight()-2*parseInt(aW.css("padding-top"),10);var aR=aW.innerWidth()-2*parseInt(aW.css("padding-left"),10);var aU=aW.children("div.jqplot-table-legend-swatch");am.fillStyle=aU.css("background-color");am.fillRect(aS,aT,aR,aV)});N(aI).find("td.jqplot-table-legend-label").each(function(){var aT=N(this);var aR=aK+aT.position().left;var aS=aN+aT.position().top+parseInt(aT.css("padding-top"),10);am.font=aT.jqplotGetComputedFontStyle();am.fillStyle=aT.css("color");aF(aT,am,aT.text(),aR,aS,aO)});var aJ=null}else{if(aP=="canvas"){am.drawImage(aI,aK,aN)}}}}N(this).children().each(function(){ay(this,ax,az)});return ap};N.fn.jqplotToImageStr=function(ak){var aj=N(this).jqplotToImageCanvas(ak);if(aj){return aj.toDataURL("image/png")}else{return null}};N.fn.jqplotToImageElem=function(aj){var ak=document.createElement("img");var al=N(this).jqplotToImageStr(aj);ak.src=al;return ak};N.fn.jqplotToImageElemStr=function(aj){var ak="<img src="+N(this).jqplotToImageStr(aj)+" />";return ak};N.fn.jqplotSaveImage=function(){var aj=N(this).jqplotToImageStr({});if(aj){window.location.href=aj.replace("image/png","image/octet-stream")}};N.fn.jqplotViewImage=function(){var ak=N(this).jqplotToImageElemStr({});var al=N(this).jqplotToImageStr({});if(ak){var aj=window.open("");aj.document.open("image/png");aj.document.write(ak);aj.document.close();aj=null}};var ai=function(){this.syntax=ai.config.syntax;this._type="jsDate";this.proxy=new Date();this.options={};this.locale=ai.regional.getLocale();this.formatString="";this.defaultCentury=ai.config.defaultCentury;switch(arguments.length){case 0:break;case 1:if(m(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var al=this.options=arguments[0];this.syntax=al.syntax||this.syntax;this.defaultCentury=al.defaultCentury||this.defaultCentury;this.proxy=ai.createDate(al.date)}else{this.proxy=ai.createDate(arguments[0])}break;default:var aj=[];for(var ak=0;ak<arguments.length;ak++){aj.push(arguments[ak])}this.proxy=new Date();this.proxy.setFullYear.apply(this.proxy,aj.slice(0,3));if(aj.slice(3).length){this.proxy.setHours.apply(this.proxy,aj.slice(3))}break}};ai.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900};ai.prototype.add=function(al,ak){var aj=G[ak]||G.day;if(typeof aj=="number"){this.proxy.setTime(this.proxy.getTime()+(aj*al))}else{aj.add(this,al)}return this};ai.prototype.clone=function(){return new ai(this.proxy.getTime())};ai.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*60000};ai.prototype.diff=function(ak,an,aj){ak=new ai(ak);if(ak===null){return null}var al=G[an]||G.day;if(typeof al=="number"){var am=(this.proxy.getTime()-ak.proxy.getTime())/al}else{var am=al.diff(this.proxy,ak.proxy)}return(aj?am:Math[am>0?"floor":"ceil"](am))};ai.prototype.getAbbrDayName=function(){return ai.regional[this.locale]["dayNamesShort"][this.proxy.getDay()]};ai.prototype.getAbbrMonthName=function(){return ai.regional[this.locale]["monthNamesShort"][this.proxy.getMonth()]};ai.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"};ai.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"};ai.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)};ai.prototype.getDate=function(){return this.proxy.getDate()};ai.prototype.getDay=function(){return this.proxy.getDay()};ai.prototype.getDayOfWeek=function(){var aj=this.proxy.getDay();return aj===0?7:aj};ai.prototype.getDayOfYear=function(){var ak=this.proxy;var aj=ak-new Date(""+ak.getFullYear()+"/1/1 GMT");aj+=ak.getTimezoneOffset()*60000;ak=null;return parseInt(aj/60000/60/24,10)+1};ai.prototype.getDayName=function(){return ai.regional[this.locale]["dayNames"][this.proxy.getDay()]};ai.prototype.getFullWeekOfYear=function(){var am=this.proxy;var aj=this.getDayOfYear();var al=6-am.getDay();var ak=parseInt((aj+al)/7,10);return ak};ai.prototype.getFullYear=function(){return this.proxy.getFullYear()};ai.prototype.getGmtOffset=function(){var aj=this.proxy.getTimezoneOffset()/60;var ak=aj<0?"+":"-";aj=Math.abs(aj);return ak+P(Math.floor(aj),2)+":"+P((aj%1)*60,2)};ai.prototype.getHours=function(){return this.proxy.getHours()};ai.prototype.getHours12=function(){var aj=this.proxy.getHours();return aj>12?aj-12:(aj==0?12:aj)};ai.prototype.getIsoWeek=function(){var am=this.proxy;var al=this.getWeekOfYear();var aj=(new Date(""+am.getFullYear()+"/1/1")).getDay();var ak=al+(aj>4||aj<=1?0:1);if(ak==53&&(new Date(""+am.getFullYear()+"/12/31")).getDay()<4){ak=1}else{if(ak===0){am=new ai(new Date(""+(am.getFullYear()-1)+"/12/31"));ak=am.getIsoWeek()}}am=null;return ak};ai.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()};ai.prototype.getMinutes=function(){return this.proxy.getMinutes()};ai.prototype.getMonth=function(){return this.proxy.getMonth()};ai.prototype.getMonthName=function(){return ai.regional[this.locale]["monthNames"][this.proxy.getMonth()]};ai.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1};ai.prototype.getSeconds=function(){return this.proxy.getSeconds()};ai.prototype.getShortYear=function(){return this.proxy.getYear()%100};ai.prototype.getTime=function(){return this.proxy.getTime()};ai.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")};ai.prototype.getTimezoneName=function(){var aj=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return aj[1]||aj[2]||"GMT"+this.getGmtOffset()};ai.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()};ai.prototype.getWeekOfYear=function(){var aj=this.getDayOfYear();var al=7-this.getDayOfWeek();var ak=parseInt((aj+al)/7,10);return ak};ai.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1000,0)};ai.prototype.getYear=function(){return this.proxy.getYear()};ai.prototype.next=function(aj){aj=aj||"day";return this.clone().add(1,aj)};ai.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date();break;case 1:if(m(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var al=this.options=arguments[0];this.syntax=al.syntax||this.syntax;this.defaultCentury=al.defaultCentury||this.defaultCentury;this.proxy=ai.createDate(al.date)}else{this.proxy=ai.createDate(arguments[0])}break;default:var aj=[];for(var ak=0;ak<arguments.length;ak++){aj.push(arguments[ak])}this.proxy=new Date();this.proxy.setFullYear.apply(this.proxy,aj.slice(0,3));if(aj.slice(3).length){this.proxy.setHours.apply(this.proxy,aj.slice(3))}break}return this};ai.prototype.setDate=function(aj){this.proxy.setDate(aj);return this};ai.prototype.setFullYear=function(){this.proxy.setFullYear.apply(this.proxy,arguments);return this};ai.prototype.setHours=function(){this.proxy.setHours.apply(this.proxy,arguments);return this};ai.prototype.setMilliseconds=function(aj){this.proxy.setMilliseconds(aj);return this};ai.prototype.setMinutes=function(){this.proxy.setMinutes.apply(this.proxy,arguments);return this};ai.prototype.setMonth=function(){this.proxy.setMonth.apply(this.proxy,arguments);return this};ai.prototype.setSeconds=function(){this.proxy.setSeconds.apply(this.proxy,arguments);return this};ai.prototype.setTime=function(aj){this.proxy.setTime(aj);return this};ai.prototype.setYear=function(){this.proxy.setYear.apply(this.proxy,arguments);return this};ai.prototype.strftime=function(aj){aj=aj||this.formatString||ai.regional[this.locale]["formatString"];return ai.strftime(this,aj,this.syntax)};ai.prototype.toString=function(){return this.proxy.toString()};ai.prototype.toYmdInt=function(){return(this.proxy.getFullYear()*10000)+(this.getMonthNumber()*100)+this.proxy.getDate()};ai.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthNamesShort:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:[" ","","","","","","","",""," "," "," "],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},pl:{monthNames:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dayNamesShort:["Ni","Pn","Wt","r","Cz","Pt","Sb"],formatString:"%Y-%m-%d %H:%M:%S"},nl:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","July","Augustus","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:","["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],dayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],formatString:"%Y-%m-%d %H:%M:%S"},sv:{monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],dayNames:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["sn","mn","tis","ons","tor","fre","lr"],formatString:"%Y-%m-%d %H:%M:%S"}};ai.regional["en-US"]=ai.regional["en-GB"]=ai.regional.en;ai.regional.getLocale=function(){var aj=ai.config.defaultLocale;if(document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){aj=document.getElementsByTagName("html")[0].lang;if(!ai.regional.hasOwnProperty(aj)){aj=ai.config.defaultLocale}}return aj};var E=24*60*60*1000;var P=function(aj,am){aj=String(aj);var ak=am-aj.length;var al=String(Math.pow(10,ak)).slice(1);return al.concat(aj)};var G={millisecond:1,second:1000,minute:60*1000,hour:60*60*1000,day:E,week:7*E,month:{add:function(al,aj){G.year.add(al,Math[aj>0?"floor":"ceil"](aj/12));var ak=al.getMonth()+(aj%12);if(ak==12){ak=0;al.setYear(al.getFullYear()+1)}else{if(ak==-1){ak=11;al.setYear(al.getFullYear()-1)}}al.setMonth(ak)},diff:function(an,al){var aj=an.getFullYear()-al.getFullYear();var ak=an.getMonth()-al.getMonth()+(aj*12);var am=an.getDate()-al.getDate();return ak+(am/30)}},year:{add:function(ak,aj){ak.setYear(ak.getFullYear()+Math[aj>0?"floor":"ceil"](aj))},diff:function(ak,aj){return G.month.diff(ak,aj)/12}}};for(var aa in G){if(aa.substring(aa.length-1)!="s"){G[aa+"s"]=G[aa]}}var J=function(an,am,ak){if(ai.formats[ak]["shortcuts"][am]){return ai.strftime(an,ai.formats[ak]["shortcuts"][am],ak)}else{var aj=(ai.formats[ak]["codes"][am]||"").split(".");var al=an["get"+aj[0]]?an["get"+aj[0]]():"";if(aj[1]){al=P(al,aj[1])}return al}};ai.strftime=function(ap,am,al,aq){var ak="perl";var ao=ai.regional.getLocale();if(al&&ai.formats.hasOwnProperty(al)){ak=al}else{if(al&&ai.regional.hasOwnProperty(al)){ao=al}}if(aq&&ai.formats.hasOwnProperty(aq)){ak=aq}else{if(aq&&ai.regional.hasOwnProperty(aq)){ao=aq}}if(m(ap)!="[object Object]"||ap._type!="jsDate"){ap=new ai(ap);ap.locale=ao}if(!am){am=ap.formatString||ai.regional[ao]["formatString"]}var aj=am||"%Y-%m-%d",ar="",an;while(aj.length>0){if(an=aj.match(ai.formats[ak].codes.matcher)){ar+=aj.slice(0,an.index);ar+=(an[1]||"")+J(ap,an[2],ak);aj=aj.slice(an.index+an[0].length)}else{ar+=aj;aj=""}}return ar};ai.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"};ai.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}};ai.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}};ai.createDate=function(al){if(al==null){return new Date()}if(al instanceof Date){return al}if(typeof al=="number"){return new Date(al)}var aq=String(al).replace(/^\s*(.+)\s*$/g,"$1");aq=aq.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3");aq=aq.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var ap=aq.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(ap&&ap.length>3){var av=parseFloat(ap[3]);var ao=ai.config.defaultCentury+av;ao=String(ao);aq=aq.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,ap[1]+" "+ap[2]+" "+ao)}ap=aq.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/);function au(az,ay){var aE=parseFloat(ay[1]);var aD=parseFloat(ay[2]);var aC=parseFloat(ay[3]);var aB=ai.config.defaultCentury;var ax,aw,aF,aA;if(aE>31){aw=aC;aF=aD;ax=aB+aE}else{aw=aD;aF=aE;ax=aB+aC}aA=aF+"/"+aw+"/"+ax;return az.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,aA)}if(ap&&ap.length>3){aq=au(aq,ap)}var ap=aq.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);if(ap&&ap.length>3){aq=au(aq,ap)}var an=0;var ak=ai.matchers.length;var at,aj,ar=aq,am;while(an<ak){aj=Date.parse(ar);if(!isNaN(aj)){return new Date(aj)}at=ai.matchers[an];if(typeof at=="function"){am=at.call(ai,ar);if(am instanceof Date){return am}}else{ar=aq.replace(at[0],at[1])}an++}return NaN};ai.daysInMonth=function(aj,ak){if(ak==2){return new Date(aj,1,29).getDate()==29?29:28}return[w,31,w,31,30,31,30,31,31,30,31,30,31][ak]};ai.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(am){var ak=am.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(ak){if(ak[1]){var al=this.createDate(ak[1]);if(isNaN(al)){return}}else{var al=new Date();al.setMilliseconds(0)}var aj=parseFloat(ak[2]);if(ak[6]){aj=ak[6].toLowerCase()=="am"?(aj==12?0:aj):(aj==12?12:aj+12)}al.setHours(aj,parseInt(ak[3]||0,10),parseInt(ak[4]||0,10),((parseFloat(ak[5]||0))||0)*1000);return al}else{return am}},function(am){var ak=am.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(ak){if(ak[1]){var al=this.createDate(ak[1]);if(isNaN(al)){return}}else{var al=new Date();al.setMilliseconds(0)}var aj=parseFloat(ak[2]);al.setHours(aj,parseInt(ak[3],10),parseInt(ak[4],10),parseFloat(ak[5])*1000);return al}else{return am}},function(an){var al=an.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(al){var am=new Date();var ao=ai.config.defaultCentury;var aq=parseFloat(al[1]);var ap=parseFloat(al[3]);var ak,aj,ar;if(aq>31){aj=ap;ak=ao+aq}else{aj=aq;ak=ao+ap}var ar=ad(al[2],ai.regional[ai.regional.getLocale()]["monthNamesShort"]);if(ar==-1){ar=ad(al[2],ai.regional[ai.regional.getLocale()]["monthNames"])}am.setFullYear(ak,ar,aj);am.setHours(0,0,0,0);return am}else{return an}}];function ad(al,am){if(am.indexOf){return am.indexOf(al)}for(var aj=0,ak=am.length;aj<ak;aj++){if(am[aj]===al){return aj}}return -1}function m(aj){if(aj===null){return"[object Null]"}return Object.prototype.toString.call(aj)}N.jsDate=ai;N.jqplot.sprintf=function(){function ap(aw,ar,at,av){var au=(aw.length>=ar)?"":Array(1+ar-aw.length>>>0).join(at);return av?aw+au:au+aw}function am(au){var at=new String(au);for(var ar=10;ar>0;ar--){if(at==(at=at.replace(/^(\d+)(\d{3})/,"$1"+N.jqplot.sprintf.thousandsSeparator+"$2"))){break}}return at}function al(ax,aw,az,au,av,at){var ay=au-ax.length;if(ay>0){var ar=" ";if(at){ar="&nbsp;"}if(az||!av){ax=ap(ax,au,ar,az)}else{ax=ax.slice(0,aw.length)+ap("",ay,"0",true)+ax.slice(aw.length)}}return ax}function aq(aA,at,ay,au,ar,ax,az,aw){var av=aA>>>0;ay=ay&&av&&{"2":"0b","8":"0","16":"0x"}[at]||"";aA=ay+ap(av.toString(at),ax||0,"0",false);return al(aA,ay,au,ar,az,aw)}function aj(aw,ax,au,ar,av,at){if(ar!=null){aw=aw.slice(0,ar)}return al(aw,"",ax,au,av,at)}var ak=arguments,an=0,ao=ak[an++];return ao.replace(N.jqplot.sprintf.regex,function(aO,az,aA,aD,aQ,aL,ax){if(aO=="%%"){return"%"}var aF=false,aB="",aC=false,aN=false,ay=false,aw=false;for(var aK=0;aA&&aK<aA.length;aK++){switch(aA.charAt(aK)){case" ":aB=" ";break;case"+":aB="+";break;case"-":aF=true;break;case"0":aC=true;break;case"#":aN=true;break;case"&":ay=true;break;case"'":aw=true;break}}if(!aD){aD=0}else{if(aD=="*"){aD=+ak[an++]}else{if(aD.charAt(0)=="*"){aD=+ak[aD.slice(1,-1)]}else{aD=+aD}}}if(aD<0){aD=-aD;aF=true}if(!isFinite(aD)){throw new Error("$.jqplot.sprintf: (minimum-)width must be finite")}if(!aL){aL="fFeE".indexOf(ax)>-1?6:(ax=="d")?0:void (0)}else{if(aL=="*"){aL=+ak[an++]}else{if(aL.charAt(0)=="*"){aL=+ak[aL.slice(1,-1)]}else{aL=+aL}}}var aH=az?ak[az.slice(0,-1)]:ak[an++];switch(ax){case"s":if(aH==null){return""}return aj(String(aH),aF,aD,aL,aC,ay);case"c":return aj(String.fromCharCode(+aH),aF,aD,aL,aC,ay);case"b":return aq(aH,2,aN,aF,aD,aL,aC,ay);case"o":return aq(aH,8,aN,aF,aD,aL,aC,ay);case"x":return aq(aH,16,aN,aF,aD,aL,aC,ay);case"X":return aq(aH,16,aN,aF,aD,aL,aC,ay).toUpperCase();case"u":return aq(aH,10,aN,aF,aD,aL,aC,ay);case"i":var au=parseInt(+aH,10);if(isNaN(au)){return""}var aJ=au<0?"-":aB;var aM=aw?am(String(Math.abs(au))):String(Math.abs(au));aH=aJ+ap(aM,aL,"0",false);return al(aH,aJ,aF,aD,aC,ay);case"d":var au=Math.round(+aH);if(isNaN(au)){return""}var aJ=au<0?"-":aB;var aM=aw?am(String(Math.abs(au))):String(Math.abs(au));aH=aJ+ap(aM,aL,"0",false);return al(aH,aJ,aF,aD,aC,ay);case"e":case"E":case"f":case"F":case"g":case"G":var au=+aH;if(isNaN(au)){return""}var aJ=au<0?"-":aB;var av=["toExponential","toFixed","toPrecision"]["efg".indexOf(ax.toLowerCase())];var aP=["toString","toUpperCase"]["eEfFgG".indexOf(ax)%2];var aM=Math.abs(au)[av](aL);var aG=aM.toString().split(".");aG[0]=aw?am(aG[0]):aG[0];aM=aG.join(N.jqplot.sprintf.decimalMark);aH=aJ+aM;var aE=al(aH,aJ,aF,aD,aC,ay)[aP]();return aE;case"p":case"P":var au=+aH;if(isNaN(au)){return""}var aJ=au<0?"-":aB;var aG=String(Number(Math.abs(au)).toExponential()).split(/e|E/);var at=(aG[0].indexOf(".")!=-1)?aG[0].length-1:String(au).length;var aI=(aG[1]<0)?-aG[1]-1:0;if(Math.abs(au)<1){if(at+aI<=aL){aH=aJ+Math.abs(au).toPrecision(at)}else{if(at<=aL-1){aH=aJ+Math.abs(au).toExponential(at-1)}else{aH=aJ+Math.abs(au).toExponential(aL-1)}}}else{var ar=(at<=aL)?at:aL;aH=aJ+Math.abs(au).toPrecision(ar)}var aP=["toString","toUpperCase"]["pP".indexOf(ax)%2];return al(aH,aJ,aF,aD,aC,ay)[aP]();case"n":return"";default:return aO}})};N.jqplot.sprintf.thousandsSeparator=",";N.jqplot.sprintf.decimalMark=".";N.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g;N.jqplot.getSignificantFigures=function(an){var ap=String(Number(Math.abs(an)).toExponential()).split(/e|E/);var ao=(ap[0].indexOf(".")!=-1)?ap[0].length-1:ap[0].length;var ak=(ap[1]<0)?-ap[1]-1:0;var aj=parseInt(ap[1],10);var al=(aj+1>0)?aj+1:0;var am=(ao<=al)?0:ao-aj-1;return{significantDigits:ao,digitsLeft:al,digitsRight:am,zeros:ak,exponent:aj}};N.jqplot.getPrecision=function(aj){return N.jqplot.getSignificantFigures(aj).digitsRight};var Z=N.uiBackCompat!==false;N.jqplot.effects={effect:{}};var n="jqplot.storage.";N.extend(N.jqplot.effects,{version:"1.9pre",save:function(ak,al){for(var aj=0;aj<al.length;aj++){if(al[aj]!==null){ak.data(n+al[aj],ak[0].style[al[aj]])}}},restore:function(ak,al){for(var aj=0;aj<al.length;aj++){if(al[aj]!==null){ak.css(al[aj],ak.data(n+al[aj]))}}},setMode:function(aj,ak){if(ak==="toggle"){ak=aj.is(":hidden")?"show":"hide"}return ak},createWrapper:function(ak){if(ak.parent().is(".ui-effects-wrapper")){return ak.parent()}var al={width:ak.outerWidth(true),height:ak.outerHeight(true),"float":ak.css("float")},an=N("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),aj={width:ak.width(),height:ak.height()},am=document.activeElement;ak.wrap(an);if(ak[0]===am||N.contains(ak[0],am)){N(am).focus()}an=ak.parent();if(ak.css("position")==="static"){an.css({position:"relative"});ak.css({position:"relative"})}else{N.extend(al,{position:ak.css("position"),zIndex:ak.css("z-index")});N.each(["top","left","bottom","right"],function(ao,ap){al[ap]=ak.css(ap);if(isNaN(parseInt(al[ap],10))){al[ap]="auto"}});ak.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}ak.css(aj);return an.css(al).show()},removeWrapper:function(aj){var ak=document.activeElement;if(aj.parent().is(".ui-effects-wrapper")){aj.parent().replaceWith(aj);if(aj[0]===ak||N.contains(aj[0],ak)){N(ak).focus()}}return aj}});function k(ak,aj,al,am){if(N.isPlainObject(ak)){return ak}ak={effect:ak};if(aj===w){aj={}}if(N.isFunction(aj)){am=aj;al=null;aj={}}if(N.type(aj)==="number"||N.fx.speeds[aj]){am=al;al=aj;aj={}}if(N.isFunction(al)){am=al;al=null}if(aj){N.extend(ak,aj)}al=al||aj.duration;ak.duration=N.fx.off?0:typeof al==="number"?al:al in N.fx.speeds?N.fx.speeds[al]:N.fx.speeds._default;ak.complete=am||aj.complete;return ak}function ag(aj){if(!aj||typeof aj==="number"||N.fx.speeds[aj]){return true}if(typeof aj==="string"&&!N.jqplot.effects.effect[aj]){if(Z&&N.jqplot.effects[aj]){return false}return true}return false}N.fn.extend({jqplotEffect:function(ar,at,ak,aq){var ap=k.apply(this,arguments),am=ap.mode,an=ap.queue,ao=N.jqplot.effects.effect[ap.effect],aj=!ao&&Z&&N.jqplot.effects[ap.effect];if(N.fx.off||!(ao||aj)){if(am){return this[am](ap.duration,ap.complete)}else{return this.each(function(){if(ap.complete){ap.complete.call(this)}})}}function al(aw){var ax=N(this),av=ap.complete,ay=ap.mode;function au(){if(N.isFunction(av)){av.call(ax[0])}if(N.isFunction(aw)){aw()}}if(ax.is(":hidden")?ay==="hide":ay==="show"){au()}else{ao.call(ax[0],ap,au)}}if(ao){return an===false?this.each(al):this.queue(an||"fx",al)}else{return aj.call(this,{options:ap,duration:ap.duration,callback:ap.complete,mode:ap.mode})}}});var a=/up|down|vertical/,x=/up|left|vertical|horizontal/;N.jqplot.effects.effect.blind=function(al,aq){var am=N(this),au=["position","top","bottom","left","right","height","width"],ar=N.jqplot.effects.setMode(am,al.mode||"hide"),aw=al.direction||"up",ao=a.test(aw),an=ao?"height":"width",at=ao?"top":"left",ay=x.test(aw),ap={},ax=ar==="show",ak,aj,av;if(am.parent().is(".ui-effects-wrapper")){N.jqplot.effects.save(am.parent(),au)}else{N.jqplot.effects.save(am,au)}am.show();av=parseInt(am.css("top"),10);ak=N.jqplot.effects.createWrapper(am).css({overflow:"hidden"});aj=ao?ak[an]()+av:ak[an]();ap[an]=ax?String(aj):"0";if(!ay){am.css(ao?"bottom":"right",0).css(ao?"top":"left","").css({position:"absolute"});ap[at]=ax?"0":String(aj)}if(ax){ak.css(an,0);if(!ay){ak.css(at,aj)}}ak.animate(ap,{duration:al.duration,easing:al.easing,queue:false,complete:function(){if(ar==="hide"){am.hide()}N.jqplot.effects.restore(am,au);N.jqplot.effects.removeWrapper(am);aq()}})}})(jQuery);(function(c){c.jqplot.EnhancedLegendRenderer=function(){c.jqplot.TableLegendRenderer.call(this)};c.jqplot.EnhancedLegendRenderer.prototype=new c.jqplot.TableLegendRenderer();c.jqplot.EnhancedLegendRenderer.prototype.constructor=c.jqplot.EnhancedLegendRenderer;c.jqplot.EnhancedLegendRenderer.prototype.init=function(d){this.numberRows=null;this.numberColumns=null;this.seriesToggle="normal";this.seriesToggleReplot=false;this.disableIEFading=true;c.extend(true,this,d);if(this.seriesToggle){c.jqplot.postDrawHooks.push(b)}};c.jqplot.EnhancedLegendRenderer.prototype.draw=function(m,z){var f=this;if(this.show){var t=this._series;var v;var x="position:absolute;";x+=(this.background)?"background:"+this.background+";":"";x+=(this.border)?"border:"+this.border+";":"";x+=(this.fontSize)?"font-size:"+this.fontSize+";":"";x+=(this.fontFamily)?"font-family:"+this.fontFamily+";":"";x+=(this.textColor)?"color:"+this.textColor+";":"";x+=(this.marginTop!=null)?"margin-top:"+this.marginTop+";":"";x+=(this.marginBottom!=null)?"margin-bottom:"+this.marginBottom+";":"";x+=(this.marginLeft!=null)?"margin-left:"+this.marginLeft+";":"";x+=(this.marginRight!=null)?"margin-right:"+this.marginRight+";":"";this._elem=c('<table class="jqplot-table-legend" style="'+x+'"></table>');if(this.seriesToggle){this._elem.css("z-index","3")}var D=false,q=false,d,o;if(this.numberRows){d=this.numberRows;if(!this.numberColumns){o=Math.ceil(t.length/d)}else{o=this.numberColumns}}else{if(this.numberColumns){o=this.numberColumns;d=Math.ceil(t.length/this.numberColumns)}else{d=t.length;o=1}}var C,A,e,l,k,n,p,u,h,g;var w=0;for(C=t.length-1;C>=0;C--){if(o==1&&t[C]._stack||t[C].renderer.constructor==c.jqplot.BezierCurveRenderer){q=true}}for(C=0;C<d;C++){e=c(document.createElement("tr"));e.addClass("jqplot-table-legend");if(q){e.prependTo(this._elem)}else{e.appendTo(this._elem)}for(A=0;A<o;A++){if(w<t.length&&(t[w].show||t[w].showLabel)){v=t[w];n=this.labels[w]||v.label.toString();if(n){var y=v.color;if(!q){if(C>0){D=true}else{D=false}}else{if(C==d-1){D=false}else{D=true}}p=(D)?this.rowSpacing:"0";l=c(document.createElement("td"));l.addClass("jqplot-table-legend jqplot-table-legend-swatch");l.css({textAlign:"center",paddingTop:p});h=c(document.createElement("div"));h.addClass("jqplot-table-legend-swatch-outline");g=c(document.createElement("div"));g.addClass("jqplot-table-legend-swatch");g.css({backgroundColor:y,borderColor:y});l.append(h.append(g));k=c(document.createElement("td"));k.addClass("jqplot-table-legend jqplot-table-legend-label");k.css("paddingTop",p);if(this.escapeHtml){k.text(n)}else{k.html(n)}if(q){if(this.showLabels){k.prependTo(e)}if(this.showSwatches){l.prependTo(e)}}else{if(this.showSwatches){l.appendTo(e)}if(this.showLabels){k.appendTo(e)}}if(this.seriesToggle){var B;if(typeof(this.seriesToggle)==="string"||typeof(this.seriesToggle)==="number"){if(!c.jqplot.use_excanvas||!this.disableIEFading){B=this.seriesToggle}}if(this.showSwatches){l.bind("click",{series:v,speed:B,plot:z,replot:this.seriesToggleReplot},a);l.addClass("jqplot-seriesToggle")}if(this.showLabels){k.bind("click",{series:v,speed:B,plot:z,replot:this.seriesToggleReplot},a);k.addClass("jqplot-seriesToggle")}if(!v.show&&v.showLabel){l.addClass("jqplot-series-hidden");k.addClass("jqplot-series-hidden")}}D=true}}w++}l=k=h=g=null}}return this._elem};var a=function(k){var j=k.data,n=j.series,l=j.replot,h=j.plot,f=j.speed,m=n.index,g=false;if(n.canvas._elem.is(":hidden")||!n.show){g=true}var e=function(){if(l){var o={};if(c.isPlainObject(l)){c.extend(true,o,l)}h.replot(o);if(g&&f){var d=h.series[m];if(d.shadowCanvas._elem){d.shadowCanvas._elem.hide().fadeIn(f)}d.canvas._elem.hide().fadeIn(f);d.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+d.index).hide().fadeIn(f)}}else{var d=h.series[m];if(d.canvas._elem.is(":hidden")||!d.show){if(typeof h.options.legend.showSwatches==="undefined"||h.options.legend.showSwatches===true){h.legend._elem.find("td").eq(m*2).addClass("jqplot-series-hidden")}if(typeof h.options.legend.showLabels==="undefined"||h.options.legend.showLabels===true){h.legend._elem.find("td").eq((m*2)+1).addClass("jqplot-series-hidden")}}else{if(typeof h.options.legend.showSwatches==="undefined"||h.options.legend.showSwatches===true){h.legend._elem.find("td").eq(m*2).removeClass("jqplot-series-hidden")}if(typeof h.options.legend.showLabels==="undefined"||h.options.legend.showLabels===true){h.legend._elem.find("td").eq((m*2)+1).removeClass("jqplot-series-hidden")}}}};n.toggleDisplay(k,e)};var b=function(){if(this.legend.renderer.constructor==c.jqplot.EnhancedLegendRenderer&&this.legend.seriesToggle){var d=this.legend._elem.detach();this.eventCanvas._elem.after(d)}}})(jQuery);(function(a){a.jqplot.CanvasTextRenderer=function(b){this.fontStyle="normal";this.fontVariant="normal";this.fontWeight="normal";this.fontSize="10px";this.fontFamily="sans-serif";this.fontStretch=1;this.fillStyle="#666666";this.angle=0;this.textAlign="start";this.textBaseline="alphabetic";this.text;this.width;this.height;this.pt2px=1.28;a.extend(true,this,b);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};a.jqplot.CanvasTextRenderer.prototype.init=function(b){a.extend(true,this,b);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};a.jqplot.CanvasTextRenderer.prototype.normalizeFontSize=function(b){b=String(b);var c=parseFloat(b);if(b.indexOf("px")>-1){return c/this.pt2px}else{if(b.indexOf("pt")>-1){return c}else{if(b.indexOf("em")>-1){return c*12}else{if(b.indexOf("%")>-1){return c*12/100}else{return c/this.pt2px}}}}};a.jqplot.CanvasTextRenderer.prototype.fontWeight2Float=function(b){if(Number(b)){return b/400}else{switch(b){case"normal":return 1;break;case"bold":return 1.75;break;case"bolder":return 2.25;break;case"lighter":return 0.75;break;default:return 1;break}}};a.jqplot.CanvasTextRenderer.prototype.getText=function(){return this.text};a.jqplot.CanvasTextRenderer.prototype.setText=function(c,b){this.text=c;this.setWidth(b);return this};a.jqplot.CanvasTextRenderer.prototype.getWidth=function(b){return this.width};a.jqplot.CanvasTextRenderer.prototype.setWidth=function(c,b){if(!b){this.width=this.measure(c,this.text)}else{this.width=b}return this};a.jqplot.CanvasTextRenderer.prototype.getHeight=function(b){return this.height};a.jqplot.CanvasTextRenderer.prototype.setHeight=function(b){if(!b){this.height=this.normalizedFontSize*this.pt2px}else{this.height=b}return this};a.jqplot.CanvasTextRenderer.prototype.letter=function(b){return this.letters[b]};a.jqplot.CanvasTextRenderer.prototype.ascent=function(){return this.normalizedFontSize};a.jqplot.CanvasTextRenderer.prototype.descent=function(){return 7*this.normalizedFontSize/25};a.jqplot.CanvasTextRenderer.prototype.measure=function(d,g){var f=0;var b=g.length;for(var e=0;e<b;e++){var h=this.letter(g.charAt(e));if(h){f+=h.width*this.normalizedFontSize/25*this.fontStretch}}return f};a.jqplot.CanvasTextRenderer.prototype.draw=function(t,n){var s=0;var o=this.height*0.72;var p=0;var l=n.length;var k=this.normalizedFontSize/25;t.save();var h,f;if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){h=0;f=-Math.sin(this.angle)*this.width}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){h=Math.sin(this.angle)*this.height;f=0}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){h=-Math.cos(this.angle)*this.width;f=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){h=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;f=-Math.cos(this.angle)*this.height}}}}t.strokeStyle=this.fillStyle;t.fillStyle=this.fillStyle;t.translate(h,f);t.rotate(this.angle);t.lineCap="round";var u=(this.normalizedFontSize>30)?2:2+(30-this.normalizedFontSize)/20;t.lineWidth=u*k*this.fontWeight2Float(this.fontWeight);for(var g=0;g<l;g++){var m=this.letter(n.charAt(g));if(!m){continue}t.beginPath();var e=1;var b=0;for(var d=0;d<m.points.length;d++){var q=m.points[d];if(q[0]==-1&&q[1]==-1){e=1;continue}if(e){t.moveTo(s+q[0]*k*this.fontStretch,o-q[1]*k);e=false}else{t.lineTo(s+q[0]*k*this.fontStretch,o-q[1]*k)}}t.stroke();s+=m.width*k*this.fontStretch}t.restore();return p};a.jqplot.CanvasTextRenderer.prototype.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:18,points:[[6,9],[12,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};a.jqplot.CanvasFontRenderer=function(b){b=b||{};if(!b.pt2px){b.pt2px=1.5}a.jqplot.CanvasTextRenderer.call(this,b)};a.jqplot.CanvasFontRenderer.prototype=new a.jqplot.CanvasTextRenderer({});a.jqplot.CanvasFontRenderer.prototype.constructor=a.jqplot.CanvasFontRenderer;a.jqplot.CanvasFontRenderer.prototype.measure=function(c,e){var d=this.fontSize+" "+this.fontFamily;c.save();c.font=d;var b=c.measureText(e).width;c.restore();return b};a.jqplot.CanvasFontRenderer.prototype.draw=function(e,g){var c=0;var h=this.height*0.72;e.save();var d,b;if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){d=0;b=-Math.sin(this.angle)*this.width}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){d=Math.sin(this.angle)*this.height;b=0}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){d=-Math.cos(this.angle)*this.width;b=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){d=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;b=-Math.cos(this.angle)*this.height}}}}e.strokeStyle=this.fillStyle;e.fillStyle=this.fillStyle;var f=this.fontSize+" "+this.fontFamily;e.font=f;e.translate(d,b);e.rotate(this.angle);e.fillText(g,c,h);e.restore()}})(jQuery);(function(a){a.jqplot.CategoryAxisRenderer=function(b){a.jqplot.LinearAxisRenderer.call(this);this.sortMergedLabels=false};a.jqplot.CategoryAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer();a.jqplot.CategoryAxisRenderer.prototype.constructor=a.jqplot.CategoryAxisRenderer;a.jqplot.CategoryAxisRenderer.prototype.init=function(e){this.groups=1;this.groupLabels=[];this._groupLabels=[];this._grouped=false;this._barsPerGroup=null;this.reverse=false;a.extend(true,this,{tickOptions:{formatString:"%d"}},e);var b=this._dataBounds;for(var f=0;f<this._series.length;f++){var g=this._series[f];if(g.groups){this.groups=g.groups}var h=g.data;for(var c=0;c<h.length;c++){if(this.name=="xaxis"||this.name=="x2axis"){if(h[c][0]<b.min||b.min==null){b.min=h[c][0]}if(h[c][0]>b.max||b.max==null){b.max=h[c][0]}}else{if(h[c][1]<b.min||b.min==null){b.min=h[c][1]}if(h[c][1]>b.max||b.max==null){b.max=h[c][1]}}}}if(this.groupLabels.length){this.groups=this.groupLabels.length}};a.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){var E=this._ticks;var A=this.ticks;var G=this.name;var D=this._dataBounds;var w,B;var q,x;var d,c;var b,y;if(A.length){if(this.groups>1&&!this._grouped){var u=A.length;var p=parseInt(u/this.groups,10);var e=0;for(var y=p;y<u;y+=p){A.splice(y+e,0," ");e++}this._grouped=true}this.min=0.5;this.max=A.length+0.5;var m=this.max-this.min;this.numberTicks=2*A.length+1;for(y=0;y<A.length;y++){b=this.min+2*y*m/(this.numberTicks-1);var h=new this.tickRenderer(this.tickOptions);h.showLabel=false;h.setTick(b,this.name);this._ticks.push(h);var h=new this.tickRenderer(this.tickOptions);h.label=A[y];h.showMark=false;h.showGridline=false;h.setTick(b+0.5,this.name);this._ticks.push(h)}var h=new this.tickRenderer(this.tickOptions);h.showLabel=false;h.setTick(b+1,this.name);this._ticks.push(h)}else{if(G=="xaxis"||G=="x2axis"){w=this._plotDimensions.width}else{w=this._plotDimensions.height}if(this.min!=null&&this.max!=null&&this.numberTicks!=null){this.tickInterval=null}if(this.min!=null&&this.max!=null&&this.tickInterval!=null){if(parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval){this.tickInterval=null}}var z=[];var C=0;var q=0.5;var x,F;var f=false;for(var y=0;y<this._series.length;y++){var k=this._series[y];for(var v=0;v<k.data.length;v++){if(this.name=="xaxis"||this.name=="x2axis"){F=k.data[v][0]}else{F=k.data[v][1]}if(a.inArray(F,z)==-1){f=true;C+=1;z.push(F)}}}if(f&&this.sortMergedLabels){if(typeof z[0]=="string"){z.sort()}else{z.sort(function(l,j){return l-j})}}this.ticks=z;for(var y=0;y<this._series.length;y++){var k=this._series[y];for(var v=0;v<k.data.length;v++){if(this.name=="xaxis"||this.name=="x2axis"){F=k.data[v][0]}else{F=k.data[v][1]}var n=a.inArray(F,z)+1;if(this.name=="xaxis"||this.name=="x2axis"){k.data[v][0]=n}else{k.data[v][1]=n}}}if(this.groups>1&&!this._grouped){var u=z.length;var p=parseInt(u/this.groups,10);var e=0;for(var y=p;y<u;y+=p+1){z[y]=" "}this._grouped=true}x=C+0.5;if(this.numberTicks==null){this.numberTicks=2*C+1}var m=x-q;this.min=q;this.max=x;var o=0;var g=parseInt(3+w/10,10);var p=parseInt(C/g,10);if(this.tickInterval==null){this.tickInterval=m/(this.numberTicks-1)}for(var y=0;y<this.numberTicks;y++){b=this.min+y*this.tickInterval;var h=new this.tickRenderer(this.tickOptions);if(y/2==parseInt(y/2,10)){h.showLabel=false;h.showMark=true}else{if(p>0&&o<p){h.showLabel=false;o+=1}else{h.showLabel=true;o=0}h.label=h.formatter(h.formatString,z[(y-1)/2]);h.showMark=false;h.showGridline=false}h.setTick(b,this.name);this._ticks.push(h)}}};a.jqplot.CategoryAxisRenderer.prototype.draw=function(b,j){if(this.show){this.renderer.createTicks.call(this);var h=0;var c;if(this._elem){this._elem.emptyForce()}this._elem=this._elem||a('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>');if(this.name=="xaxis"||this.name=="x2axis"){this._elem.width(this._plotDimensions.width)}else{this._elem.height(this._plotDimensions.height)}this.labelOptions.axis=this.name;this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var g=this._label.draw(b,j);g.appendTo(this._elem)}var f=this._ticks;for(var e=0;e<f.length;e++){var d=f[e];if(d.showLabel&&(!d.isMinorTick||this.showMinorTicks)){var g=d.draw(b,j);g.appendTo(this._elem)}}this._groupLabels=[];for(var e=0;e<this.groupLabels.length;e++){var g=a('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>');g.html(this.groupLabels[e]);this._groupLabels.push(g);g.appendTo(this._elem)}}return this._elem};a.jqplot.CategoryAxisRenderer.prototype.set=function(){var e=0;var m;var k=0;var f=0;var d=(this._label==null)?false:this._label.show;if(this.show){var n=this._ticks;for(var c=0;c<n.length;c++){var g=n[c];if(g.showLabel&&(!g.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis"){m=g._elem.outerHeight(true)}else{m=g._elem.outerWidth(true)}if(m>e){e=m}}}var j=0;for(var c=0;c<this._groupLabels.length;c++){var b=this._groupLabels[c];if(this.name=="xaxis"||this.name=="x2axis"){m=b.outerHeight(true)}else{m=b.outerWidth(true)}if(m>j){j=m}}if(d){k=this._label._elem.outerWidth(true);f=this._label._elem.outerHeight(true)}if(this.name=="xaxis"){e+=j+f;this._elem.css({height:e+"px",left:"0px",bottom:"0px"})}else{if(this.name=="x2axis"){e+=j+f;this._elem.css({height:e+"px",left:"0px",top:"0px"})}else{if(this.name=="yaxis"){e+=j+k;this._elem.css({width:e+"px",left:"0px",top:"0px"});if(d&&this._label.constructor==a.jqplot.AxisLabelRenderer){this._label._elem.css("width",k+"px")}}else{e+=j+k;this._elem.css({width:e+"px",right:"0px",top:"0px"});if(d&&this._label.constructor==a.jqplot.AxisLabelRenderer){this._label._elem.css("width",k+"px")}}}}}};a.jqplot.CategoryAxisRenderer.prototype.axisOuterThickness=function(f){var b=(f.name=="xaxis"||f.name=="x2axis");var c=0,e=0,d=0;f._ticks.forEach(function(h){if(h.showLabel&&(!h.isMinorTick||f.showMinorTicks)){var g=b?h._elem.outerHeight(true):h._elem.outerWidth(true);c=Math.max(c,g)}});f._groupLabels.forEach(function(g){var h=b?g.outerHeight(true):g.outerWidth(true);e=Math.max(e,h)});if(f._label&&f._label.show){d=b?f._label._elem.outerHeight(true):f._label._elem.outerWidth(true)}return c+e+d};a.jqplot.CategoryAxisRenderer.prototype.pack=function(g,e){var F=this._ticks;var z=this.max;var x=this.min;var q=e.max;var n=e.min;var u=(this._label==null)?false:this._label.show;var A;for(var v in g){this._elem.css(v,g[v])}this._offsets=e;var l=q-n;var m=z-x;if(!this.reverse){this.u2p=function(h){return(h-x)*l/m+n};this.p2u=function(h){return(h-n)*m/l+x};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(h){return(h-x)*l/m};this.series_p2u=function(h){return h*m/l+x}}else{this.series_u2p=function(h){return(h-z)*l/m};this.series_p2u=function(h){return h*m/l+z}}}else{this.u2p=function(h){return n+(z-h)*l/m};this.p2u=function(h){return x+(h-n)*m/l};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(h){return(z-h)*l/m};this.series_p2u=function(h){return h*m/l+z}}else{this.series_u2p=function(h){return(x-h)*l/m};this.series_p2u=function(h){return h*m/l+x}}}if(this.show){if(this.name=="xaxis"||this.name=="x2axis"){for(A=0;A<F.length;A++){var s=F[A];if(s.show&&s.showLabel){var c;if(s.constructor==a.jqplot.CanvasAxisTickRenderer&&s.angle){var D=(this.name=="xaxis")?1:-1;switch(s.labelPosition){case"auto":if(D*s.angle<0){c=-s.getWidth()+s._textRenderer.height*Math.sin(-s._textRenderer.angle)/2}else{c=-s._textRenderer.height*Math.sin(s._textRenderer.angle)/2}break;case"end":c=-s.getWidth()+s._textRenderer.height*Math.sin(-s._textRenderer.angle)/2;break;case"start":c=-s._textRenderer.height*Math.sin(s._textRenderer.angle)/2;break;case"middle":c=-s.getWidth()/2+s._textRenderer.height*Math.sin(-s._textRenderer.angle)/2;break;default:c=-s.getWidth()/2+s._textRenderer.height*Math.sin(-s._textRenderer.angle)/2;break}}else{c=-s.getWidth()/2}var G=this.u2p(s.value)+c+"px";s._elem.css("left",G);if(s.constructor==a.jqplot.AxisTickRenderer){var d=(this.u2p(F[A+1].value)-this.u2p(s.value));s._elem.css({left:(this.u2p(s.value)-d)+"px",width:(d*2)+"px","white-space":"normal","text-align":"center"})}s.pack()}}var C=["bottom",0];if(u){var o=this._label._elem.outerWidth(true);this._label._elem.css("left",n+l/2-o/2+"px");if(this.name=="xaxis"){this._label._elem.css("bottom","0px");C=["bottom",this._label._elem.outerHeight(true)]}else{this._label._elem.css("top","0px");C=["top",this._label._elem.outerHeight(true)]}this._label.pack()}var f=parseInt(this._ticks.length/this.groups,10)+1;for(A=0;A<this._groupLabels.length;A++){var E=0;var k=0;for(var y=A*f;y<(A+1)*f;y++){if(y>=this._ticks.length-1){continue}if(this._ticks[y]._elem&&this._ticks[y].label!=" "){var s=this._ticks[y]._elem;var v=s.position();E+=v.left+s.outerWidth(true)/2;k++}}E=E/k;this._groupLabels[A].css({left:(E-this._groupLabels[A].outerWidth(true)/2)});this._groupLabels[A].css(C[0],C[1])}}else{for(A=0;A<F.length;A++){var s=F[A];if(s.show&&s.showLabel){var c;if(s.constructor==a.jqplot.CanvasAxisTickRenderer&&s.angle){var D=(this.name=="yaxis")?1:-1;switch(s.labelPosition){case"auto":case"end":if(D*s.angle<0){c=-s._textRenderer.height*Math.cos(-s._textRenderer.angle)/2}else{c=-s.getHeight()+s._textRenderer.height*Math.cos(s._textRenderer.angle)/2}break;case"start":if(s.angle>0){c=-s._textRenderer.height*Math.cos(-s._textRenderer.angle)/2}else{c=-s.getHeight()+s._textRenderer.height*Math.cos(s._textRenderer.angle)/2}break;case"middle":c=-s.getHeight()/2;break;default:c=-s.getHeight()/2;break}}else{c=-s.getHeight()/2}var G=this.u2p(s.value)+c+"px";s._elem.css("top",G);s.pack()}}var C=["left",0];if(u){var B=this._label._elem.outerHeight(true);this._label._elem.css("top",q-l/2-B/2+"px");if(this.name=="yaxis"){this._label._elem.css("left","0px");C=["left",this._label._elem.outerWidth(true)]}else{this._label._elem.css("right","0px");C=["right",this._label._elem.outerWidth(true)]}this._label.pack()}var f=parseInt(this._ticks.length/this.groups,10)+1;for(A=0;A<this._groupLabels.length;A++){var E=0;var k=0;for(var y=A*f;y<(A+1)*f;y++){if(y>=this._ticks.length-1){continue}if(this._ticks[y]._elem&&this._ticks[y].label!=" "){var s=this._ticks[y]._elem;var v=s.position();E+=v.top+s.outerHeight()/2;k++}}E=E/k;this._groupLabels[A].css({top:E-this._groupLabels[A].outerHeight()/2});this._groupLabels[A].css(C[0],C[1])}}var b=this.renderer.axisOuterThickness(this);if(this.name=="xaxis"||this.name=="x2axis"){this._elem.css({height:b})}else{this._elem.css({width:b})}}}})(jQuery);(function(a){a.jqplot.CanvasTextRenderer=function(b){this.fontStyle="normal";this.fontVariant="normal";this.fontWeight="normal";this.fontSize="10px";this.fontFamily="sans-serif";this.fontStretch=1;this.fillStyle="#666666";this.angle=0;this.textAlign="start";this.textBaseline="alphabetic";this.text;this.width;this.height;this.pt2px=1.28;a.extend(true,this,b);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};a.jqplot.CanvasTextRenderer.prototype.init=function(b){a.extend(true,this,b);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};a.jqplot.CanvasTextRenderer.prototype.normalizeFontSize=function(b){b=String(b);var c=parseFloat(b);if(b.indexOf("px")>-1){return c/this.pt2px}else{if(b.indexOf("pt")>-1){return c}else{if(b.indexOf("em")>-1){return c*12}else{if(b.indexOf("%")>-1){return c*12/100}else{return c/this.pt2px}}}}};a.jqplot.CanvasTextRenderer.prototype.fontWeight2Float=function(b){if(Number(b)){return b/400}else{switch(b){case"normal":return 1;break;case"bold":return 1.75;break;case"bolder":return 2.25;break;case"lighter":return 0.75;break;default:return 1;break}}};a.jqplot.CanvasTextRenderer.prototype.getText=function(){return this.text};a.jqplot.CanvasTextRenderer.prototype.setText=function(c,b){this.text=c;this.setWidth(b);return this};a.jqplot.CanvasTextRenderer.prototype.getWidth=function(b){return this.width};a.jqplot.CanvasTextRenderer.prototype.setWidth=function(c,b){if(!b){this.width=this.measure(c,this.text)}else{this.width=b}return this};a.jqplot.CanvasTextRenderer.prototype.getHeight=function(b){return this.height};a.jqplot.CanvasTextRenderer.prototype.setHeight=function(b){if(!b){this.height=this.normalizedFontSize*this.pt2px}else{this.height=b}return this};a.jqplot.CanvasTextRenderer.prototype.letter=function(b){return this.letters[b]};a.jqplot.CanvasTextRenderer.prototype.ascent=function(){return this.normalizedFontSize};a.jqplot.CanvasTextRenderer.prototype.descent=function(){return 7*this.normalizedFontSize/25};a.jqplot.CanvasTextRenderer.prototype.measure=function(d,g){var f=0;var b=g.length;for(var e=0;e<b;e++){var h=this.letter(g.charAt(e));if(h){f+=h.width*this.normalizedFontSize/25*this.fontStretch}}return f};a.jqplot.CanvasTextRenderer.prototype.draw=function(t,n){var s=0;var o=this.height*0.72;var p=0;var l=n.length;var k=this.normalizedFontSize/25;t.save();var h,f;if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){h=0;f=-Math.sin(this.angle)*this.width}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){h=Math.sin(this.angle)*this.height;f=0}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){h=-Math.cos(this.angle)*this.width;f=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){h=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;f=-Math.cos(this.angle)*this.height}}}}t.strokeStyle=this.fillStyle;t.fillStyle=this.fillStyle;t.translate(h,f);t.rotate(this.angle);t.lineCap="round";var u=(this.normalizedFontSize>30)?2:2+(30-this.normalizedFontSize)/20;t.lineWidth=u*k*this.fontWeight2Float(this.fontWeight);for(var g=0;g<l;g++){var m=this.letter(n.charAt(g));if(!m){continue}t.beginPath();var e=1;var b=0;for(var d=0;d<m.points.length;d++){var q=m.points[d];if(q[0]==-1&&q[1]==-1){e=1;continue}if(e){t.moveTo(s+q[0]*k*this.fontStretch,o-q[1]*k);e=false}else{t.lineTo(s+q[0]*k*this.fontStretch,o-q[1]*k)}}t.stroke();s+=m.width*k*this.fontStretch}t.restore();return p};a.jqplot.CanvasTextRenderer.prototype.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:18,points:[[6,9],[12,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};a.jqplot.CanvasFontRenderer=function(b){b=b||{};if(!b.pt2px){b.pt2px=1.5}a.jqplot.CanvasTextRenderer.call(this,b)};a.jqplot.CanvasFontRenderer.prototype=new a.jqplot.CanvasTextRenderer({});a.jqplot.CanvasFontRenderer.prototype.constructor=a.jqplot.CanvasFontRenderer;a.jqplot.CanvasFontRenderer.prototype.measure=function(c,e){var d=this.fontSize+" "+this.fontFamily;c.save();c.font=d;var b=c.measureText(e).width;c.restore();return b};a.jqplot.CanvasFontRenderer.prototype.draw=function(e,g){var c=0;var h=this.height*0.72;e.save();var d,b;if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){d=0;b=-Math.sin(this.angle)*this.width}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){d=Math.sin(this.angle)*this.height;b=0}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){d=-Math.cos(this.angle)*this.width;b=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){d=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;b=-Math.cos(this.angle)*this.height}}}}e.strokeStyle=this.fillStyle;e.fillStyle=this.fillStyle;var f=this.fontSize+" "+this.fontFamily;e.font=f;e.translate(d,b);e.rotate(this.angle);e.fillText(g,c,h);e.restore()}})(jQuery);(function(a){a.jqplot.CanvasAxisLabelRenderer=function(b){this.angle=0;this.axis;this.show=true;this.showLabel=true;this.label="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="11pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=true;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};a.extend(true,this,b);if(b.angle==null&&this.axis!="xaxis"&&this.axis!="x2axis"){this.angle=-90}var c={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px){c.pt2px=this.pt2px}if(this.enableFontSupport){if(a.jqplot.support_canvas_text()){this._textRenderer=new a.jqplot.CanvasFontRenderer(c)}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c)}}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c)}};a.jqplot.CanvasAxisLabelRenderer.prototype.init=function(b){a.extend(true,this,b);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};a.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(d){if(this._elem){return this._elem.outerWidth(true)}else{var f=this._textRenderer;var c=f.getWidth(d);var e=f.getHeight(d);var b=Math.abs(Math.sin(f.angle)*e)+Math.abs(Math.cos(f.angle)*c);return b}};a.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(d){if(this._elem){return this._elem.outerHeight(true)}else{var f=this._textRenderer;var c=f.getWidth(d);var e=f.getHeight(d);var b=Math.abs(Math.cos(f.angle)*e)+Math.abs(Math.sin(f.angle)*c);return b}};a.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){var b=this.angle*Math.PI/180;return b};a.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(c,f){if(this._elem){if(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){window.G_vmlCanvasManager.uninitElement(this._elem.get(0))}this._elem.emptyForce();this._elem=null}var e=f.canvasManager.getCanvas();this._textRenderer.setText(this.label,c);var b=this.getWidth(c);var d=this.getHeight(c);e.width=b;e.height=d;e.style.width=b;e.style.height=d;e=f.canvasManager.initCanvas(e);this._elem=a(e);this._elem.css({position:"absolute"});this._elem.addClass("jqplot-"+this.axis+"-label");e=null;return this._elem};a.jqplot.CanvasAxisLabelRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label.decodeHTMLEntities())}})(jQuery);(function(a){a.jqplot.CanvasAxisTickRenderer=function(b){this.mark="outside";this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.angle=0;this.markSize=4;this.show=true;this.showLabel=true;this.labelPosition="auto";this.label="";this.value=null;this._styles={};this.formatter=a.jqplot.DefaultTickFormatter;this.formatString="";this.prefix="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="10pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=true;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};a.extend(true,this,b);var c={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px){c.pt2px=this.pt2px}if(this.enableFontSupport){if(a.jqplot.support_canvas_text()){this._textRenderer=new a.jqplot.CanvasFontRenderer(c)}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c)}}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c)}};a.jqplot.CanvasAxisTickRenderer.prototype.init=function(b){a.extend(true,this,b);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};a.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(d){if(this._elem){return this._elem.outerWidth(true)}else{var f=this._textRenderer;var c=f.getWidth(d);var e=f.getHeight(d);var b=Math.abs(Math.sin(f.angle)*e)+Math.abs(Math.cos(f.angle)*c);return b}};a.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(d){if(this._elem){return this._elem.outerHeight(true)}else{var f=this._textRenderer;var c=f.getWidth(d);var e=f.getHeight(d);var b=Math.abs(Math.cos(f.angle)*e)+Math.abs(Math.sin(f.angle)*c);return b}};a.jqplot.CanvasAxisTickRenderer.prototype.getTop=function(b){if(this._elem){return this._elem.position().top}else{return null}};a.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){var b=this.angle*Math.PI/180;return b};a.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(b,d,c){this.value=b;if(c){this.isMinorTick=true}return this};a.jqplot.CanvasAxisTickRenderer.prototype.draw=function(c,f){if(!this.label){this.label=this.prefix+this.formatter(this.formatString,this.value)}if(this._elem){if(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){window.G_vmlCanvasManager.uninitElement(this._elem.get(0))}this._elem.emptyForce();this._elem=null}var e=f.canvasManager.getCanvas();this._textRenderer.setText(this.label,c);var b=this.getWidth(c);var d=this.getHeight(c);e.width=b;e.height=d;e.style.width=b;e.style.height=d;e.style.textAlign="left";e.style.position="absolute";e=f.canvasManager.initCanvas(e);this._elem=a(e);this._elem.css(this._styles);this._elem.addClass("jqplot-"+this.axis+"-tick");e=null;return this._elem};a.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}})(jQuery);(function(e){e.jqplot.PieRenderer=function(){e.jqplot.LineRenderer.call(this)};e.jqplot.PieRenderer.prototype=new e.jqplot.LineRenderer();e.jqplot.PieRenderer.prototype.constructor=e.jqplot.PieRenderer;e.jqplot.PieRenderer.prototype.init=function(s,w){this.diameter=null;this.padding=20;this.sliceMargin=0;this.fill=true;this.shadowOffset=2;this.shadowAlpha=0.07;this.shadowDepth=5;this.highlightMouseOver=true;this.highlightMouseDown=false;this.highlightColors=[];this.dataLabels="percent";this.showDataLabels=false;this.dataLabelFormatString=null;this.dataLabelThreshold=3;this.dataLabelPositionFactor=0.52;this.dataLabelNudge=2;this.dataLabelCenterOn=true;this.startAngle=0;this.tickRenderer=e.jqplot.PieTickRenderer;this._drawData=true;this._type="pie";if(s.highlightMouseDown&&s.highlightMouseOver==null){s.highlightMouseOver=false}e.extend(true,this,s);if(this.sliceMargin<0){this.sliceMargin=0}this._diameter=null;this._radius=null;this._sliceAngles=[];this._highlightedPoint=null;if(this.highlightColors.length==0){for(var u=0;u<this.seriesColors.length;u++){var t=e.jqplot.getColorComponents(this.seriesColors[u]);var p=[t[0],t[1],t[2]];var v=p[0]+p[1]+p[2];for(var q=0;q<3;q++){p[q]=(v>570)?p[q]*0.8:p[q]+0.3*(255-p[q]);p[q]=parseInt(p[q],10)}this.highlightColors.push("rgb("+p[0]+","+p[1]+","+p[2]+")")}}this.highlightColorGenerator=new e.jqplot.ColorGenerator(this.highlightColors);w.postParseOptionsHooks.addOnce(n);w.postInitHooks.addOnce(g);w.eventListenerHooks.addOnce("jqplotMouseMove",b);w.eventListenerHooks.addOnce("jqplotMouseDown",a);w.eventListenerHooks.addOnce("jqplotMouseUp",m);w.eventListenerHooks.addOnce("jqplotClick",f);w.eventListenerHooks.addOnce("jqplotRightClick",o);w.postDrawHooks.addOnce(j)};e.jqplot.PieRenderer.prototype.setGridData=function(v){var q=[];var w=[];var p=this.startAngle/180*Math.PI;var u=0;this._drawData=false;for(var t=0;t<this.data.length;t++){if(this.data[t][1]!=0){this._drawData=true}q.push(this.data[t][1]);w.push([this.data[t][0]]);if(t>0){q[t]+=q[t-1]}u+=this.data[t][1]}var s=Math.PI*2/q[q.length-1];for(var t=0;t<q.length;t++){w[t][1]=q[t]*s;w[t][2]=this.data[t][1]/u}this.gridData=w};e.jqplot.PieRenderer.prototype.makeGridData=function(v,w){var q=[];var x=[];var u=0;var p=this.startAngle/180*Math.PI;this._drawData=false;for(var t=0;t<v.length;t++){if(this.data[t][1]!=0){this._drawData=true}q.push(v[t][1]);x.push([v[t][0]]);if(t>0){q[t]+=q[t-1]}u+=v[t][1]}var s=Math.PI*2/q[q.length-1];for(var t=0;t<q.length;t++){x[t][1]=q[t]*s;x[t][2]=v[t][1]/u}return x};function h(p){return Math.sin((p-(p-Math.PI)/8/Math.PI)/2)}function k(w,v,p,x,t){var y=0;var s=v-w;var u=Math.abs(s);var q=p;if(x==false){q+=t}if(q>0&&u>0.01&&u<6.282){y=parseFloat(q)/2/h(s)}return y}e.jqplot.PieRenderer.prototype.drawSlice=function(C,A,z,v,x){if(this._drawData){var q=this._radius;var B=this.fill;var y=this.lineWidth;var t=this.sliceMargin;if(this.fill==false){t+=this.lineWidth}C.save();C.translate(this._center[0],this._center[1]);var E=k(A,z,this.sliceMargin,this.fill,this.lineWidth);var p=E*Math.cos((A+z)/2);var D=E*Math.sin((A+z)/2);if((z-A)<=Math.PI){q-=E}else{q+=E}C.translate(p,D);if(x){for(var w=0,u=this.shadowDepth;w<u;w++){C.save();C.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI));s(q)}for(var w=0,u=this.shadowDepth;w<u;w++){C.restore()}}else{s(q)}C.restore()}function s(F){if(z>6.282+this.startAngle){z=6.282+this.startAngle;if(A>z){A=6.281+this.startAngle}}if(A>=z){return}C.beginPath();C.fillStyle=v;C.strokeStyle=v;C.lineWidth=y;C.arc(0,0,F,A,z,false);C.lineTo(0,0);C.closePath();if(B){C.fill()}else{C.stroke()}}};e.jqplot.PieRenderer.prototype.draw=function(C,A,F,p){var X;var I=(F!=undefined)?F:{};var u=0;var t=0;var O=1;var M=new e.jqplot.ColorGenerator(this.seriesColors);if(F.legendInfo&&F.legendInfo.placement=="insideGrid"){var K=F.legendInfo;switch(K.location){case"nw":u=K.width+K.xoffset;break;case"w":u=K.width+K.xoffset;break;case"sw":u=K.width+K.xoffset;break;case"ne":u=K.width+K.xoffset;O=-1;break;case"e":u=K.width+K.xoffset;O=-1;break;case"se":u=K.width+K.xoffset;O=-1;break;case"n":t=K.height+K.yoffset;break;case"s":t=K.height+K.yoffset;O=-1;break;default:break}}var L=(I.shadow!=undefined)?I.shadow:this.shadow;var B=(I.fill!=undefined)?I.fill:this.fill;var D=C.canvas.width;var J=C.canvas.height;var R=D-u-2*this.padding;var Y=J-t-2*this.padding;var N=Math.min(R,Y);var Z=N;this._sliceAngles=[];var z=this.sliceMargin;if(this.fill==false){z+=this.lineWidth}var s;var H=0;var S,ab,aa,ac;var E=this.startAngle/180*Math.PI;for(var X=0,W=A.length;X<W;X++){ab=(X==0)?E:A[X-1][1]+E;aa=A[X][1]+E;this._sliceAngles.push([ab,aa]);s=k(ab,aa,this.sliceMargin,this.fill,this.lineWidth);if(Math.abs(aa-ab)>Math.PI){H=Math.max(s,H)}}if(this.diameter!=null&&this.diameter>0){this._diameter=this.diameter-2*H}else{this._diameter=Z-2*H}if(this._diameter<6){e.jqplot.log("Diameter of pie too small, not rendering.");return}var T=this._radius=this._diameter/2;this._center=[(D-O*u)/2+O*u+H*Math.cos(E),(J-O*t)/2+O*t+H*Math.sin(E)];if(this.shadow){for(var X=0,W=A.length;X<W;X++){ac="rgba(0,0,0,"+this.shadowAlpha+")";this.renderer.drawSlice.call(this,C,this._sliceAngles[X][0],this._sliceAngles[X][1],ac,true)}}for(var X=0;X<A.length;X++){this.renderer.drawSlice.call(this,C,this._sliceAngles[X][0],this._sliceAngles[X][1],M.next(),false);if(this.showDataLabels&&A[X][2]*100>=this.dataLabelThreshold){var G,V=(this._sliceAngles[X][0]+this._sliceAngles[X][1])/2,U;if(this.dataLabels=="label"){G=this.dataLabelFormatString||"%s";U=e.jqplot.sprintf(G,A[X][0])}else{if(this.dataLabels=="value"){G=this.dataLabelFormatString||"%d";U=e.jqplot.sprintf(G,this.data[X][1])}else{if(this.dataLabels=="percent"){G=this.dataLabelFormatString||"%d%%";U=e.jqplot.sprintf(G,A[X][2]*100)}else{if(this.dataLabels.constructor==Array){G=this.dataLabelFormatString||"%s";U=e.jqplot.sprintf(G,this.dataLabels[X])}}}}var q=(this._radius)*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge;var Q=this._center[0]+Math.cos(V)*q+this.canvas._offsets.left;var P=this._center[1]+Math.sin(V)*q+this.canvas._offsets.top;var v=e('<div class="jqplot-pie-series jqplot-data-label" style="position:absolute;">'+U+"</div>").insertBefore(p.eventCanvas._elem);if(this.dataLabelCenterOn){Q-=v.width()/2;P-=v.height()/2}else{Q-=v.width()*Math.sin(V/2);P-=v.height()/2}Q=Math.round(Q);P=Math.round(P);v.css({left:Q,top:P})}}};e.jqplot.PieAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this)};e.jqplot.PieAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer();e.jqplot.PieAxisRenderer.prototype.constructor=e.jqplot.PieAxisRenderer;e.jqplot.PieAxisRenderer.prototype.init=function(p){this.tickRenderer=e.jqplot.PieTickRenderer;e.extend(true,this,p);this._dataBounds={min:0,max:100};this.min=0;this.max=100;this.showTicks=false;this.ticks=[];this.showMark=false;this.show=false};e.jqplot.PieLegendRenderer=function(){e.jqplot.TableLegendRenderer.call(this)};e.jqplot.PieLegendRenderer.prototype=new e.jqplot.TableLegendRenderer();e.jqplot.PieLegendRenderer.prototype.constructor=e.jqplot.PieLegendRenderer;e.jqplot.PieLegendRenderer.prototype.init=function(p){this.numberRows=null;this.numberColumns=null;e.extend(true,this,p)};e.jqplot.PieLegendRenderer.prototype.draw=function(){var u=this;if(this.show){var D=this._series;this._elem=e(document.createElement("table"));this._elem.addClass("jqplot-table-legend");var G={position:"absolute"};if(this.background){G.background=this.background}if(this.border){G.border=this.border}if(this.fontSize){G.fontSize=this.fontSize}if(this.fontFamily){G.fontFamily=this.fontFamily}if(this.textColor){G.textColor=this.textColor}if(this.marginTop!=null){G.marginTop=this.marginTop}if(this.marginBottom!=null){G.marginBottom=this.marginBottom}if(this.marginLeft!=null){G.marginLeft=this.marginLeft}if(this.marginRight!=null){G.marginRight=this.marginRight}this._elem.css(G);var K=false,C=false,p,A;var E=D[0];var q=new e.jqplot.ColorGenerator(E.seriesColors);if(E.show){var L=E.data;if(this.numberRows){p=this.numberRows;if(!this.numberColumns){A=Math.ceil(L.length/p)}else{A=this.numberColumns}}else{if(this.numberColumns){A=this.numberColumns;p=Math.ceil(L.length/this.numberColumns)}else{p=L.length;A=1}}var J,I;var t,y,x;var z,B,H;var F=0;var w,v;for(J=0;J<p;J++){t=e(document.createElement("tr"));t.addClass("jqplot-table-legend");if(C){t.prependTo(this._elem)}else{t.appendTo(this._elem)}for(I=0;I<A;I++){if(F<L.length){z=this.labels[F]||L[F][0].toString();H=q.next();if(!C){if(J>0){K=true}else{K=false}}else{if(J==p-1){K=false}else{K=true}}B=(K)?this.rowSpacing:"0";y=e(document.createElement("td"));y.addClass("jqplot-table-legend jqplot-table-legend-swatch");y.css({textAlign:"center",paddingTop:B});w=e(document.createElement("div"));w.addClass("jqplot-table-legend-swatch-outline");v=e(document.createElement("div"));v.addClass("jqplot-table-legend-swatch");v.css({backgroundColor:H,borderColor:H});y.append(w.append(v));x=e(document.createElement("td"));x.addClass("jqplot-table-legend jqplot-table-legend-label");x.css("paddingTop",B);if(this.escapeHtml){x.text(z)}else{x.html(z)}if(C){x.prependTo(t);y.prependTo(t)}else{y.appendTo(t);x.appendTo(t)}K=true}F++}}}}return this._elem};e.jqplot.PieRenderer.prototype.handleMove=function(s,q,v,u,t){if(u){var p=[u.seriesIndex,u.pointIndex,u.data];t.target.trigger("jqplotDataMouseOver",p);if(t.series[p[0]].highlightMouseOver&&!(p[0]==t.plugins.pieRenderer.highlightedSeriesIndex&&p[1]==t.series[p[0]]._highlightedPoint)){t.target.trigger("jqplotDataHighlight",p);d(t,p[0],p[1])}}else{if(u==null){l(t)}}};function c(u,t,q){q=q||{};q.axesDefaults=q.axesDefaults||{};q.legend=q.legend||{};q.seriesDefaults=q.seriesDefaults||{};var p=false;if(q.seriesDefaults.renderer==e.jqplot.PieRenderer){p=true}else{if(q.series){for(var s=0;s<q.series.length;s++){if(q.series[s].renderer==e.jqplot.PieRenderer){p=true}}}}if(p){q.axesDefaults.renderer=e.jqplot.PieAxisRenderer;q.legend.renderer=e.jqplot.PieLegendRenderer;q.legend.preDraw=true;q.seriesDefaults.pointLabels={show:false}}}function g(t,s,p){for(var q=0;q<this.series.length;q++){if(this.series[q].renderer.constructor==e.jqplot.PieRenderer){if(this.series[q].highlightMouseOver){this.series[q].highlightMouseDown=false}}}}function n(p){for(var q=0;q<this.series.length;q++){this.series[q].seriesColors=this.seriesColors;this.series[q].colorGenerator=e.jqplot.colorGenerator}}function d(v,u,t){var q=v.series[u];var p=v.plugins.pieRenderer.highlightCanvas;p._ctx.clearRect(0,0,p._ctx.canvas.width,p._ctx.canvas.height);q._highlightedPoint=t;v.plugins.pieRenderer.highlightedSeriesIndex=u;q.renderer.drawSlice.call(q,p._ctx,q._sliceAngles[t][0],q._sliceAngles[t][1],q.highlightColorGenerator.get(t),false)}function l(s){var p=s.plugins.pieRenderer.highlightCanvas;p._ctx.clearRect(0,0,p._ctx.canvas.width,p._ctx.canvas.height);for(var q=0;q<s.series.length;q++){s.series[q]._highlightedPoint=null}s.plugins.pieRenderer.highlightedSeriesIndex=null;s.target.trigger("jqplotDataUnhighlight")}function b(u,t,x,w,v){if(w){var s=[w.seriesIndex,w.pointIndex,w.data];var q=jQuery.Event("jqplotDataMouseOver");q.pageX=u.pageX;q.pageY=u.pageY;v.target.trigger(q,s);if(v.series[s[0]].highlightMouseOver&&!(s[0]==v.plugins.pieRenderer.highlightedSeriesIndex&&s[1]==v.series[s[0]]._highlightedPoint)){var p=jQuery.Event("jqplotDataHighlight");p.which=u.which;p.pageX=u.pageX;p.pageY=u.pageY;v.target.trigger(p,s);d(v,s[0],s[1])}}else{if(w==null){l(v)}}}function a(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];if(u.series[q[0]].highlightMouseDown&&!(q[0]==u.plugins.pieRenderer.highlightedSeriesIndex&&q[1]==u.series[q[0]]._highlightedPoint)){var p=jQuery.Event("jqplotDataHighlight");p.which=t.which;p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q);d(u,q[0],q[1])}}else{if(v==null){l(u)}}}function m(s,q,v,u,t){var p=t.plugins.pieRenderer.highlightedSeriesIndex;if(p!=null&&t.series[p].highlightMouseDown){l(t)}}function f(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];var p=jQuery.Event("jqplotDataClick");p.which=t.which;p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q)}}function o(u,t,x,w,v){if(w){var s=[w.seriesIndex,w.pointIndex,w.data];var p=v.plugins.pieRenderer.highlightedSeriesIndex;if(p!=null&&v.series[p].highlightMouseDown){l(v)}var q=jQuery.Event("jqplotDataRightClick");q.which=u.which;q.pageX=u.pageX;q.pageY=u.pageY;v.target.trigger(q,s)}}function j(){if(this.plugins.pieRenderer&&this.plugins.pieRenderer.highlightCanvas){this.plugins.pieRenderer.highlightCanvas.resetCanvas();this.plugins.pieRenderer.highlightCanvas=null}this.plugins.pieRenderer={highlightedSeriesIndex:null};this.plugins.pieRenderer.highlightCanvas=new e.jqplot.GenericCanvas();var q=e(this.targetId+" .jqplot-data-label");if(q.length){e(q[0]).before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",this._plotDimensions,this))}else{this.eventCanvas._elem.before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",this._plotDimensions,this))}var p=this.plugins.pieRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(s){l(s.data.plot)})}e.jqplot.preInitHooks.push(c);e.jqplot.PieTickRenderer=function(){e.jqplot.AxisTickRenderer.call(this)};e.jqplot.PieTickRenderer.prototype=new e.jqplot.AxisTickRenderer();e.jqplot.PieTickRenderer.prototype.constructor=e.jqplot.PieTickRenderer})(jQuery);(function(e){e.jqplot.DonutRenderer=function(){e.jqplot.LineRenderer.call(this)};e.jqplot.DonutRenderer.prototype=new e.jqplot.LineRenderer();e.jqplot.DonutRenderer.prototype.constructor=e.jqplot.DonutRenderer;e.jqplot.DonutRenderer.prototype.init=function(q,v){this.diameter=null;this.innerDiameter=null;this.thickness=null;this.padding=20;this.sliceMargin=0;this.ringMargin=null;this.fill=true;this.shadowOffset=2;this.shadowAlpha=0.07;this.shadowDepth=5;this.highlightMouseOver=true;this.highlightMouseDown=false;this.highlightColors=[];this.dataLabels="percent";this.showDataLabels=false;this.dataLabelFormatString=null;this.dataLabelThreshold=3;this.dataLabelPositionFactor=0.4;this.dataLabelNudge=0;this.startAngle=0;this.tickRenderer=e.jqplot.DonutTickRenderer;this._drawData=true;this._type="donut";if(q.highlightMouseDown&&q.highlightMouseOver==null){q.highlightMouseOver=false}e.extend(true,this,q);if(this.diameter!=null){this.diameter=this.diameter-this.sliceMargin}this._diameter=null;this._innerDiameter=null;this._radius=null;this._innerRadius=null;this._thickness=null;this._previousSeries=[];this._numberSeries=1;this._sliceAngles=[];this._highlightedPoint=null;if(this.highlightColors.length==0){for(var t=0;t<this.seriesColors.length;t++){var s=e.jqplot.getColorComponents(this.seriesColors[t]);var o=[s[0],s[1],s[2]];var u=o[0]+o[1]+o[2];for(var p=0;p<3;p++){o[p]=(u>570)?o[p]*0.8:o[p]+0.3*(255-o[p]);o[p]=parseInt(o[p],10)}this.highlightColors.push("rgb("+o[0]+","+o[1]+","+o[2]+")")}}v.postParseOptionsHooks.addOnce(m);v.postInitHooks.addOnce(g);v.eventListenerHooks.addOnce("jqplotMouseMove",b);v.eventListenerHooks.addOnce("jqplotMouseDown",a);v.eventListenerHooks.addOnce("jqplotMouseUp",k);v.eventListenerHooks.addOnce("jqplotClick",f);v.eventListenerHooks.addOnce("jqplotRightClick",n);v.postDrawHooks.addOnce(h)};e.jqplot.DonutRenderer.prototype.setGridData=function(u){var p=[];var v=[];var o=this.startAngle/180*Math.PI;var t=0;this._drawData=false;for(var s=0;s<this.data.length;s++){if(this.data[s][1]!=0){this._drawData=true}p.push(this.data[s][1]);v.push([this.data[s][0]]);if(s>0){p[s]+=p[s-1]}t+=this.data[s][1]}var q=Math.PI*2/p[p.length-1];for(var s=0;s<p.length;s++){v[s][1]=p[s]*q;v[s][2]=this.data[s][1]/t}this.gridData=v};e.jqplot.DonutRenderer.prototype.makeGridData=function(u,v){var p=[];var w=[];var t=0;var o=this.startAngle/180*Math.PI;this._drawData=false;for(var s=0;s<u.length;s++){if(this.data[s][1]!=0){this._drawData=true}p.push(u[s][1]);w.push([u[s][0]]);if(s>0){p[s]+=p[s-1]}t+=u[s][1]}var q=Math.PI*2/p[p.length-1];for(var s=0;s<p.length;s++){w[s][1]=p[s]*q;w[s][2]=u[s][1]/t}return w};e.jqplot.DonutRenderer.prototype.drawSlice=function(y,v,u,q,t){var o=this._diameter/2;var w=o-this._thickness;var x=this.fill;y.save();y.translate(this._center[0],this._center[1]);if(t){for(var s=0;s<this.shadowDepth;s++){y.save();y.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI));p()}}else{p()}function p(){if(u>6.282+this.startAngle){u=6.282+this.startAngle;if(v>u){v=6.281+this.startAngle}}if(v>=u){return}y.beginPath();y.fillStyle=q;y.strokeStyle=q;y.arc(0,0,o,v,u,false);y.lineTo(w*Math.cos(u),w*Math.sin(u));y.arc(0,0,w,u,v,true);y.closePath();if(x){y.fill()}else{y.stroke()}}if(t){for(var s=0;s<this.shadowDepth;s++){y.restore()}}y.restore()};e.jqplot.DonutRenderer.prototype.draw=function(O,W,u,Q){var R;var K=(u!=undefined)?u:{};var s=0;var q=0;var v=1;if(u.legendInfo&&u.legendInfo.placement=="insideGrid"){var J=u.legendInfo;switch(J.location){case"nw":s=J.width+J.xoffset;break;case"w":s=J.width+J.xoffset;break;case"sw":s=J.width+J.xoffset;break;case"ne":s=J.width+J.xoffset;v=-1;break;case"e":s=J.width+J.xoffset;v=-1;break;case"se":s=J.width+J.xoffset;v=-1;break;case"n":q=J.height+J.yoffset;break;case"s":q=J.height+J.yoffset;v=-1;break;default:break}}var C=(K.shadow!=undefined)?K.shadow:this.shadow;var X=(K.showLine!=undefined)?K.showLine:this.showLine;var P=(K.fill!=undefined)?K.fill:this.fill;var t=O.canvas.width;var I=O.canvas.height;var H=t-s-2*this.padding;var S=I-q-2*this.padding;var z=Math.min(H,S);var U=z;var Y=(this.ringMargin==null)?this.sliceMargin*2:this.ringMargin;for(var R=0;R<this._previousSeries.length;R++){U-=2*this._previousSeries[R]._thickness+2*Y}this._diameter=this.diameter||U;if(this.innerDiameter!=null){var N=(this._numberSeries>1&&this.index>0)?this._previousSeries[0]._diameter:this._diameter;this._thickness=this.thickness||(N-this.innerDiameter-2*Y*this._numberSeries)/this._numberSeries/2}else{this._thickness=this.thickness||z/2/(this._numberSeries+1)*0.85}var L=this._radius=this._diameter/2;this._innerRadius=this._radius-this._thickness;var p=this.startAngle/180*Math.PI;this._center=[(t-v*s)/2+v*s,(I-v*q)/2+v*q];if(this.shadow){var M="rgba(0,0,0,"+this.shadowAlpha+")";for(var R=0;R<W.length;R++){var B=(R==0)?p:W[R-1][1]+p;B+=this.sliceMargin/180*Math.PI;this.renderer.drawSlice.call(this,O,B,W[R][1]+p,M,true)}}for(var R=0;R<W.length;R++){var B=(R==0)?p:W[R-1][1]+p;B+=this.sliceMargin/180*Math.PI;var A=W[R][1]+p;this._sliceAngles.push([B,A]);this.renderer.drawSlice.call(this,O,B,A,this.seriesColors[R],false);if(this.showDataLabels&&W[R][2]*100>=this.dataLabelThreshold){var T,V=(B+A)/2,D;if(this.dataLabels=="label"){T=this.dataLabelFormatString||"%s";D=e.jqplot.sprintf(T,W[R][0])}else{if(this.dataLabels=="value"){T=this.dataLabelFormatString||"%d";D=e.jqplot.sprintf(T,this.data[R][1])}else{if(this.dataLabels=="percent"){T=this.dataLabelFormatString||"%d%%";D=e.jqplot.sprintf(T,W[R][2]*100)}else{if(this.dataLabels.constructor==Array){T=this.dataLabelFormatString||"%s";D=e.jqplot.sprintf(T,this.dataLabels[R])}}}}var o=this._innerRadius+this._thickness*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge;var G=this._center[0]+Math.cos(V)*o+this.canvas._offsets.left;var F=this._center[1]+Math.sin(V)*o+this.canvas._offsets.top;var E=e('<span class="jqplot-donut-series jqplot-data-label" style="position:absolute;">'+D+"</span>").insertBefore(Q.eventCanvas._elem);G-=E.width()/2;F-=E.height()/2;G=Math.round(G);F=Math.round(F);E.css({left:G,top:F})}}};e.jqplot.DonutAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this)};e.jqplot.DonutAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer();e.jqplot.DonutAxisRenderer.prototype.constructor=e.jqplot.DonutAxisRenderer;e.jqplot.DonutAxisRenderer.prototype.init=function(o){this.tickRenderer=e.jqplot.DonutTickRenderer;e.extend(true,this,o);this._dataBounds={min:0,max:100};this.min=0;this.max=100;this.showTicks=false;this.ticks=[];this.showMark=false;this.show=false};e.jqplot.DonutLegendRenderer=function(){e.jqplot.TableLegendRenderer.call(this)};e.jqplot.DonutLegendRenderer.prototype=new e.jqplot.TableLegendRenderer();e.jqplot.DonutLegendRenderer.prototype.constructor=e.jqplot.DonutLegendRenderer;e.jqplot.DonutLegendRenderer.prototype.init=function(o){this.numberRows=null;this.numberColumns=null;e.extend(true,this,o)};e.jqplot.DonutLegendRenderer.prototype.draw=function(){var t=this;if(this.show){var A=this._series;var D="position:absolute;";D+=(this.background)?"background:"+this.background+";":"";D+=(this.border)?"border:"+this.border+";":"";D+=(this.fontSize)?"font-size:"+this.fontSize+";":"";D+=(this.fontFamily)?"font-family:"+this.fontFamily+";":"";D+=(this.textColor)?"color:"+this.textColor+";":"";D+=(this.marginTop!=null)?"margin-top:"+this.marginTop+";":"";D+=(this.marginBottom!=null)?"margin-bottom:"+this.marginBottom+";":"";D+=(this.marginLeft!=null)?"margin-left:"+this.marginLeft+";":"";D+=(this.marginRight!=null)?"margin-right:"+this.marginRight+";":"";this._elem=e('<table class="jqplot-table-legend" style="'+D+'"></table>');var H=false,z=false,o,x;var B=A[0];var p=new e.jqplot.ColorGenerator(B.seriesColors);if(B.show){var I=B.data;if(this.numberRows){o=this.numberRows;if(!this.numberColumns){x=Math.ceil(I.length/o)}else{x=this.numberColumns}}else{if(this.numberColumns){x=this.numberColumns;o=Math.ceil(I.length/this.numberColumns)}else{o=I.length;x=1}}var G,F,q,v,u,w,y,E;var C=0;for(G=0;G<o;G++){if(z){q=e('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem)}else{q=e('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem)}for(F=0;F<x;F++){if(C<I.length){w=this.labels[C]||I[C][0].toString();E=p.next();if(!z){if(G>0){H=true}else{H=false}}else{if(G==o-1){H=false}else{H=true}}y=(H)?this.rowSpacing:"0";v=e('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+y+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+E+';"></div></div></td>');u=e('<td class="jqplot-table-legend" style="padding-top:'+y+';"></td>');if(this.escapeHtml){u.text(w)}else{u.html(w)}if(z){u.prependTo(q);v.prependTo(q)}else{v.appendTo(q);u.appendTo(q)}H=true}C++}}}}return this._elem};function c(t,s,p){p=p||{};p.axesDefaults=p.axesDefaults||{};p.legend=p.legend||{};p.seriesDefaults=p.seriesDefaults||{};var o=false;if(p.seriesDefaults.renderer==e.jqplot.DonutRenderer){o=true}else{if(p.series){for(var q=0;q<p.series.length;q++){if(p.series[q].renderer==e.jqplot.DonutRenderer){o=true}}}}if(o){p.axesDefaults.renderer=e.jqplot.DonutAxisRenderer;p.legend.renderer=e.jqplot.DonutLegendRenderer;p.legend.preDraw=true;p.seriesDefaults.pointLabels={show:false}}}function g(t,s,p){for(var q=1;q<this.series.length;q++){if(!this.series[q]._previousSeries.length){for(var o=0;o<q;o++){if(this.series[q].renderer.constructor==e.jqplot.DonutRenderer&&this.series[o].renderer.constructor==e.jqplot.DonutRenderer){this.series[q]._previousSeries.push(this.series[o])}}}}for(q=0;q<this.series.length;q++){if(this.series[q].renderer.constructor==e.jqplot.DonutRenderer){this.series[q]._numberSeries=this.series.length;if(this.series[q].highlightMouseOver){this.series[q].highlightMouseDown=false}}}}var l=false;function m(o){for(var p=0;p<this.series.length;p++){this.series[p].seriesColors=this.seriesColors;this.series[p].colorGenerator=e.jqplot.colorGenerator}}function d(u,t,q){var p=u.series[t];var o=u.plugins.donutRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height);p._highlightedPoint=q;u.plugins.donutRenderer.highlightedSeriesIndex=t;p.renderer.drawSlice.call(p,o._ctx,p._sliceAngles[q][0],p._sliceAngles[q][1],p.highlightColors[q],false)}function j(q){var o=q.plugins.donutRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height);for(var p=0;p<q.series.length;p++){q.series[p]._highlightedPoint=null}q.plugins.donutRenderer.highlightedSeriesIndex=null;q.target.trigger("jqplotDataUnhighlight")}function b(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];var p=jQuery.Event("jqplotDataMouseOver");p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q);if(u.series[q[0]].highlightMouseOver&&!(q[0]==u.plugins.donutRenderer.highlightedSeriesIndex&&q[1]==u.series[q[0]]._highlightedPoint)){var o=jQuery.Event("jqplotDataHighlight");o.which=t.which;o.pageX=t.pageX;o.pageY=t.pageY;u.target.trigger(o,q);d(u,q[0],q[1])}}else{if(v==null){j(u)}}}function a(s,q,v,u,t){if(u){var p=[u.seriesIndex,u.pointIndex,u.data];if(t.series[p[0]].highlightMouseDown&&!(p[0]==t.plugins.donutRenderer.highlightedSeriesIndex&&p[1]==t.series[p[0]]._highlightedPoint)){var o=jQuery.Event("jqplotDataHighlight");o.which=s.which;o.pageX=s.pageX;o.pageY=s.pageY;t.target.trigger(o,p);d(t,p[0],p[1])}}else{if(u==null){j(t)}}}function k(q,p,u,t,s){var o=s.plugins.donutRenderer.highlightedSeriesIndex;if(o!=null&&s.series[o].highlightMouseDown){j(s)}}function f(s,q,v,u,t){if(u){var p=[u.seriesIndex,u.pointIndex,u.data];var o=jQuery.Event("jqplotDataClick");o.which=s.which;o.pageX=s.pageX;o.pageY=s.pageY;t.target.trigger(o,p)}}function n(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];var o=u.plugins.donutRenderer.highlightedSeriesIndex;if(o!=null&&u.series[o].highlightMouseDown){j(u)}var p=jQuery.Event("jqplotDataRightClick");p.which=t.which;p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q)}}function h(){if(this.plugins.donutRenderer&&this.plugins.donutRenderer.highlightCanvas){this.plugins.donutRenderer.highlightCanvas.resetCanvas();this.plugins.donutRenderer.highlightCanvas=null}this.plugins.donutRenderer={highlightedSeriesIndex:null};this.plugins.donutRenderer.highlightCanvas=new e.jqplot.GenericCanvas();var p=e(this.targetId+" .jqplot-data-label");if(p.length){e(p[0]).before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this))}else{this.eventCanvas._elem.before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this))}var o=this.plugins.donutRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(q){j(q.data.plot)})}e.jqplot.preInitHooks.push(c);e.jqplot.DonutTickRenderer=function(){e.jqplot.AxisTickRenderer.call(this)};e.jqplot.DonutTickRenderer.prototype=new e.jqplot.AxisTickRenderer();e.jqplot.DonutTickRenderer.prototype.constructor=e.jqplot.DonutTickRenderer})(jQuery);(function(d){d.jqplot.BarRenderer=function(){d.jqplot.LineRenderer.call(this)};d.jqplot.BarRenderer.prototype=new d.jqplot.LineRenderer();d.jqplot.BarRenderer.prototype.constructor=d.jqplot.BarRenderer;d.jqplot.BarRenderer.prototype.init=function(p,s){this.barPadding=8;this.barMargin=10;this.barDirection="vertical";this.barWidth=null;this.shadowOffset=2;this.shadowDepth=5;this.shadowAlpha=0.08;this.waterfall=false;this.groups=1;this.varyBarColor=false;this.highlightMouseOver=true;this.highlightMouseDown=false;this.highlightColors=[];this.transposedData=true;this.renderer.animation={show:false,direction:"down",speed:3000,_supported:true};this._type="bar";if(p.highlightMouseDown&&p.highlightMouseOver==null){p.highlightMouseOver=false}d.extend(true,this,p);d.extend(true,this.renderer,p);this.fill=true;if(this.barDirection==="horizontal"&&this.rendererOptions.animation&&this.rendererOptions.animation.direction==null){this.renderer.animation.direction="left"}if(this.waterfall){this.fillToZero=false;this.disableStack=true}if(this.barDirection=="vertical"){this._primaryAxis="_xaxis";this._stackAxis="y";this.fillAxis="y"}else{this._primaryAxis="_yaxis";this._stackAxis="x";this.fillAxis="x"}this._highlightedPoint=null;this._plotSeriesInfo=null;this._dataColors=[];this._barPoints=[];var q={lineJoin:"miter",lineCap:"round",fill:true,isarc:false,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(q);var o={lineJoin:"miter",lineCap:"round",fill:true,isarc:false,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(o);s.postInitHooks.addOnce(h);s.postDrawHooks.addOnce(k);s.eventListenerHooks.addOnce("jqplotMouseMove",b);s.eventListenerHooks.addOnce("jqplotMouseDown",a);s.eventListenerHooks.addOnce("jqplotMouseUp",m);s.eventListenerHooks.addOnce("jqplotClick",e);s.eventListenerHooks.addOnce("jqplotRightClick",n)};function g(v,q,p,y){if(this.rendererOptions.barDirection=="horizontal"){this._stackAxis="x";this._primaryAxis="_yaxis"}if(this.rendererOptions.waterfall==true){this._data=d.extend(true,[],this.data);var u=0;var w=(!this.rendererOptions.barDirection||this.rendererOptions.barDirection==="vertical"||this.transposedData===false)?1:0;for(var s=0;s<this.data.length;s++){u+=this.data[s][w];if(s>0){this.data[s][w]+=this.data[s-1][w]}}this.data[this.data.length]=(w==1)?[this.data.length+1,u]:[u,this.data.length+1];this._data[this._data.length]=(w==1)?[this._data.length+1,u]:[u,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=true;var o=this.data.length;var x=parseInt(o/this.rendererOptions.groups,10);var t=0;for(var s=x;s<o;s+=x){this.data.splice(s+t,0,[null,null]);this._plotData.splice(s+t,0,[null,null]);this._stackData.splice(s+t,0,[null,null]);t++}for(s=0;s<this.data.length;s++){if(this._primaryAxis=="_xaxis"){this.data[s][0]=s+1;this._plotData[s][0]=s+1;this._stackData[s][0]=s+1}else{this.data[s][1]=s+1;this._plotData[s][1]=s+1;this._stackData[s][1]=s+1}}}}d.jqplot.preSeriesInitHooks.push(g);d.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){var u=0;var v=0;var t=this[this._primaryAxis];var q,p,w;for(var o=0;o<t._series.length;o++){p=t._series[o];if(p===this){w=o}if(p.renderer.constructor==d.jqplot.BarRenderer){u+=p.data.length;v+=1}}return[u,v,w]};d.jqplot.BarRenderer.prototype.setBarWidth=function(){var t;var o=0;var p=0;var v=this[this._primaryAxis];var z,u,x;var y=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);o=y[0];p=y[1];var w=v.numberTicks;var q=(w-1)/2;if(v.name=="xaxis"||v.name=="x2axis"){if(this._stack){this.barWidth=(v._offsets.max-v._offsets.min)/o*p-this.barMargin}else{this.barWidth=((v._offsets.max-v._offsets.min)/q-this.barPadding*(p-1)-this.barMargin*2)/p}}else{if(this._stack){this.barWidth=(v._offsets.min-v._offsets.max)/o*p-this.barMargin}else{this.barWidth=((v._offsets.min-v._offsets.max)/q-this.barPadding*(p-1)-this.barMargin*2)/p}}return[o,p]};function f(p){var s=[];for(var u=0;u<p.length;u++){var t=d.jqplot.getColorComponents(p[u]);var o=[t[0],t[1],t[2]];var v=o[0]+o[1]+o[2];for(var q=0;q<3;q++){o[q]=(v>570)?o[q]*0.8:o[q]+0.3*(255-o[q]);o[q]=parseInt(o[q],10)}s.push("rgb("+o[0]+","+o[1]+","+o[2]+")")}return s}function j(x,w,u,v,p){var s=x,y=x-1,o,q,t=(p==="x")?0:1;if(s>0){q=v.series[y]._plotData[w][t];if((u*q)<0){o=j(y,w,u,v,p)}else{o=v.series[y].gridData[w][t]}}else{o=(t===0)?v.series[s]._xaxis.series_u2p(0):v.series[s]._yaxis.series_u2p(0)}return o}d.jqplot.BarRenderer.prototype.draw=function(G,N,s,I){var K;var C=d.extend({},s);var y=(C.shadow!=undefined)?C.shadow:this.shadow;var Q=(C.showLine!=undefined)?C.showLine:this.showLine;var H=(C.fill!=undefined)?C.fill:this.fill;var q=this.xaxis;var L=this.yaxis;var A=this._xaxis.series_u2p;var M=this._yaxis.series_u2p;var F,E;this._dataColors=[];this._barPoints=[];if(this.barWidth==null){this.renderer.setBarWidth.call(this)}var P=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);var z=P[0];var x=P[1];var u=P[2];var J=[];if(this._stack){this._barNudge=0}else{this._barNudge=(-Math.abs(x/2-0.5)+u)*(this.barWidth+this.barPadding)}if(Q){var w=new d.jqplot.ColorGenerator(this.negativeSeriesColors);var D=new d.jqplot.ColorGenerator(this.seriesColors);var O=w.get(this.index);if(!this.useNegativeColors){O=C.fillStyle}var v=C.fillStyle;var t;var R;var p;if(this.barDirection=="vertical"){for(var K=0;K<N.length;K++){if(!this._stack&&this.data[K][1]==null){continue}J=[];t=N[K][0]+this._barNudge;if(this._stack&&this._prevGridData.length){p=j(this.index,K,this._plotData[K][1],I,"y")}else{if(this.fillToZero){p=this._yaxis.series_u2p(0)}else{if(this.waterfall&&K>0&&K<this.gridData.length-1){p=this.gridData[K-1][1]}else{if(this.waterfall&&K==0&&K<this.gridData.length-1){if(this._yaxis.min<=0&&this._yaxis.max>=0){p=this._yaxis.series_u2p(0)}else{if(this._yaxis.min>0){p=G.canvas.height}else{p=0}}}else{if(this.waterfall&&K==this.gridData.length-1){if(this._yaxis.min<=0&&this._yaxis.max>=0){p=this._yaxis.series_u2p(0)}else{if(this._yaxis.min>0){p=G.canvas.height}else{p=0}}}else{p=G.canvas.height}}}}}if((this.fillToZero&&this._plotData[K][1]<0)||(this.waterfall&&this._data[K][1]<0)){if(this.varyBarColor&&!this._stack){if(this.useNegativeColors){C.fillStyle=w.next()}else{C.fillStyle=D.next()}}else{C.fillStyle=O}}else{if(this.varyBarColor&&!this._stack){C.fillStyle=D.next()}else{C.fillStyle=v}}if(!this.fillToZero||this._plotData[K][1]>=0){J.push([t-this.barWidth/2,p]);J.push([t-this.barWidth/2,N[K][1]]);J.push([t+this.barWidth/2,N[K][1]]);J.push([t+this.barWidth/2,p])}else{J.push([t-this.barWidth/2,N[K][1]]);J.push([t-this.barWidth/2,p]);J.push([t+this.barWidth/2,p]);J.push([t+this.barWidth/2,N[K][1]])}this._barPoints.push(J);if(y&&!this._stack){var B=d.extend(true,{},C);delete B.fillStyle;this.renderer.shadowRenderer.draw(G,J,B)}var o=C.fillStyle||this.color;this._dataColors.push(o);this.renderer.shapeRenderer.draw(G,J,C)}}else{if(this.barDirection=="horizontal"){for(var K=0;K<N.length;K++){if(!this._stack&&this.data[K][0]==null){continue}J=[];t=N[K][1]-this._barNudge;R;if(this._stack&&this._prevGridData.length){R=j(this.index,K,this._plotData[K][0],I,"x")}else{if(this.fillToZero){R=this._xaxis.series_u2p(0)}else{if(this.waterfall&&K>0&&K<this.gridData.length-1){R=this.gridData[K-1][0]}else{if(this.waterfall&&K==0&&K<this.gridData.length-1){if(this._xaxis.min<=0&&this._xaxis.max>=0){R=this._xaxis.series_u2p(0)}else{if(this._xaxis.min>0){R=0}else{R=0}}}else{if(this.waterfall&&K==this.gridData.length-1){if(this._xaxis.min<=0&&this._xaxis.max>=0){R=this._xaxis.series_u2p(0)}else{if(this._xaxis.min>0){R=0}else{R=G.canvas.width}}}else{R=0}}}}}if((this.fillToZero&&this._plotData[K][0]<0)||(this.waterfall&&this._data[K][0]<0)){if(this.varyBarColor&&!this._stack){if(this.useNegativeColors){C.fillStyle=w.next()}else{C.fillStyle=D.next()}}else{C.fillStyle=O}}else{if(this.varyBarColor&&!this._stack){C.fillStyle=D.next()}else{C.fillStyle=v}}if(!this.fillToZero||this._plotData[K][0]>=0){J.push([R,t+this.barWidth/2]);J.push([R,t-this.barWidth/2]);J.push([N[K][0],t-this.barWidth/2]);J.push([N[K][0],t+this.barWidth/2])}else{J.push([N[K][0],t+this.barWidth/2]);J.push([N[K][0],t-this.barWidth/2]);J.push([R,t-this.barWidth/2]);J.push([R,t+this.barWidth/2])}this._barPoints.push(J);if(y&&!this._stack){var B=d.extend(true,{},C);delete B.fillStyle;this.renderer.shadowRenderer.draw(G,J,B)}var o=C.fillStyle||this.color;this._dataColors.push(o);this.renderer.shapeRenderer.draw(G,J,C)}}}}if(this.highlightColors.length==0){this.highlightColors=d.jqplot.computeHighlightColors(this._dataColors)}else{if(typeof(this.highlightColors)=="string"){var P=this.highlightColors;this.highlightColors=[];for(var K=0;K<this._dataColors.length;K++){this.highlightColors.push(P)}}}};d.jqplot.BarRenderer.prototype.drawShadow=function(B,I,q,D){var F;var y=(q!=undefined)?q:{};var v=(y.shadow!=undefined)?y.shadow:this.shadow;var K=(y.showLine!=undefined)?y.showLine:this.showLine;var C=(y.fill!=undefined)?y.fill:this.fill;var p=this.xaxis;var G=this.yaxis;var x=this._xaxis.series_u2p;var H=this._yaxis.series_u2p;var A,E,z,w,u,t;if(this._stack&&this.shadow){if(this.barWidth==null){this.renderer.setBarWidth.call(this)}var J=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);w=J[0];u=J[1];t=J[2];if(this._stack){this._barNudge=0}else{this._barNudge=(-Math.abs(u/2-0.5)+t)*(this.barWidth+this.barPadding)}if(K){if(this.barDirection=="vertical"){for(var F=0;F<I.length;F++){if(this.data[F][1]==null){continue}E=[];var s=I[F][0]+this._barNudge;var o;if(this._stack&&this._prevGridData.length){o=j(this.index,F,this._plotData[F][1],D,"y")}else{if(this.fillToZero){o=this._yaxis.series_u2p(0)}else{o=B.canvas.height}}E.push([s-this.barWidth/2,o]);E.push([s-this.barWidth/2,I[F][1]]);E.push([s+this.barWidth/2,I[F][1]]);E.push([s+this.barWidth/2,o]);this.renderer.shadowRenderer.draw(B,E,y)}}else{if(this.barDirection=="horizontal"){for(var F=0;F<I.length;F++){if(this.data[F][0]==null){continue}E=[];var s=I[F][1]-this._barNudge;var L;if(this._stack&&this._prevGridData.length){L=j(this.index,F,this._plotData[F][0],D,"x")}else{if(this.fillToZero){L=this._xaxis.series_u2p(0)}else{L=0}}E.push([L,s+this.barWidth/2]);E.push([I[F][0],s+this.barWidth/2]);E.push([I[F][0],s-this.barWidth/2]);E.push([L,s-this.barWidth/2]);this.renderer.shadowRenderer.draw(B,E,y)}}}}}};function h(s,q,o){for(var p=0;p<this.series.length;p++){if(this.series[p].renderer.constructor==d.jqplot.BarRenderer){if(this.series[p].highlightMouseOver){this.series[p].highlightMouseDown=false}}}}function k(){if(this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas){this.plugins.barRenderer.highlightCanvas.resetCanvas();this.plugins.barRenderer.highlightCanvas=null}this.plugins.barRenderer={highlightedSeriesIndex:null};this.plugins.barRenderer.highlightCanvas=new d.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.barRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(o){l(o.data.plot)})}function c(w,v,t,q){var p=w.series[v];var o=w.plugins.barRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height);p._highlightedPoint=t;w.plugins.barRenderer.highlightedSeriesIndex=v;var u={fillStyle:p.highlightColors[t]};p.renderer.shapeRenderer.draw(o._ctx,q,u);o=null}function l(q){var o=q.plugins.barRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height);for(var p=0;p<q.series.length;p++){q.series[p]._highlightedPoint=null}q.plugins.barRenderer.highlightedSeriesIndex=null;q.target.trigger("jqplotDataUnhighlight");o=null}function b(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];var p=jQuery.Event("jqplotDataMouseOver");p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q);if(u.series[q[0]].show&&u.series[q[0]].highlightMouseOver&&!(q[0]==u.plugins.barRenderer.highlightedSeriesIndex&&q[1]==u.series[q[0]]._highlightedPoint)){var o=jQuery.Event("jqplotDataHighlight");o.which=t.which;o.pageX=t.pageX;o.pageY=t.pageY;u.target.trigger(o,q);c(u,v.seriesIndex,v.pointIndex,v.points)}}else{if(v==null){l(u)}}}function a(s,q,v,u,t){if(u){var p=[u.seriesIndex,u.pointIndex,u.data];if(t.series[p[0]].highlightMouseDown&&!(p[0]==t.plugins.barRenderer.highlightedSeriesIndex&&p[1]==t.series[p[0]]._highlightedPoint)){var o=jQuery.Event("jqplotDataHighlight");o.which=s.which;o.pageX=s.pageX;o.pageY=s.pageY;t.target.trigger(o,p);c(t,u.seriesIndex,u.pointIndex,u.points)}}else{if(u==null){l(t)}}}function m(q,p,u,t,s){var o=s.plugins.barRenderer.highlightedSeriesIndex;if(o!=null&&s.series[o].highlightMouseDown){l(s)}}function e(s,q,v,u,t){if(u){var p=[u.seriesIndex,u.pointIndex,u.data];var o=jQuery.Event("jqplotDataClick");o.which=s.which;o.pageX=s.pageX;o.pageY=s.pageY;t.target.trigger(o,p)}}function n(t,s,w,v,u){if(v){var q=[v.seriesIndex,v.pointIndex,v.data];var o=u.plugins.barRenderer.highlightedSeriesIndex;if(o!=null&&u.series[o].highlightMouseDown){l(u)}var p=jQuery.Event("jqplotDataRightClick");p.which=t.which;p.pageX=t.pageX;p.pageY=t.pageY;u.target.trigger(p,q)}}})(jQuery);(function(c){c.jqplot.PointLabels=function(e){this.show=c.jqplot.config.enablePlugins;this.location="n";this.labelsFromSeries=false;this.seriesLabelIndex=null;this.labels=[];this._labels=[];this.stackedValue=false;this.ypadding=6;this.xpadding=6;this.escapeHTML=true;this.edgeTolerance=-5;this.formatter=c.jqplot.DefaultTickFormatter;this.formatString="";this.hideZeros=false;this._elems=[];c.extend(true,this,e)};var a=["nw","n","ne","e","se","s","sw","w"];var d={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7};var b=["se","s","sw","w","nw","n","ne","e"];c.jqplot.PointLabels.init=function(k,h,f,g,j){var e=c.extend(true,{},f,g);e.pointLabels=e.pointLabels||{};if(this.renderer.constructor===c.jqplot.BarRenderer&&this.barDirection==="horizontal"&&!e.pointLabels.location){e.pointLabels.location="e"}this.plugins.pointLabels=new c.jqplot.PointLabels(e.pointLabels);this.plugins.pointLabels.setLabels.call(this)};c.jqplot.PointLabels.prototype.setLabels=function(){var f=this.plugins.pointLabels;var h;if(f.seriesLabelIndex!=null){h=f.seriesLabelIndex}else{if(this.renderer.constructor===c.jqplot.BarRenderer&&this.barDirection==="horizontal"){h=(this._plotData[0].length<3)?0:this._plotData[0].length-1}else{h=(this._plotData.length===0)?0:this._plotData[0].length-1}}f._labels=[];if(f.labels.length===0||f.labelsFromSeries){if(f.stackedValue){if(this._plotData.length&&this._plotData[0].length){for(var e=0;e<this._plotData.length;e++){f._labels.push(this._plotData[e][h])}}}else{var g=this.data;if(this.renderer.constructor===c.jqplot.BarRenderer&&this.waterfall){g=this._data}if(g.length&&g[0].length){for(var e=0;e<g.length;e++){f._labels.push(g[e][h])}}g=null}}else{if(f.labels.length){f._labels=f.labels}}};c.jqplot.PointLabels.prototype.xOffset=function(f,e,g){e=e||this.location;g=g||this.xpadding;var h;switch(e){case"nw":h=-f.outerWidth(true)-this.xpadding;break;case"n":h=-f.outerWidth(true)/2;break;case"ne":h=this.xpadding;break;case"e":h=this.xpadding;break;case"se":h=this.xpadding;break;case"s":h=-f.outerWidth(true)/2;break;case"sw":h=-f.outerWidth(true)-this.xpadding;break;case"w":h=-f.outerWidth(true)-this.xpadding;break;default:h=-f.outerWidth(true)-this.xpadding;break}return h};c.jqplot.PointLabels.prototype.yOffset=function(f,e,g){e=e||this.location;g=g||this.xpadding;var h;switch(e){case"nw":h=-f.outerHeight(true)-this.ypadding;break;case"n":h=-f.outerHeight(true)-this.ypadding;break;case"ne":h=-f.outerHeight(true)-this.ypadding;break;case"e":h=-f.outerHeight(true)/2;break;case"se":h=this.ypadding;break;case"s":h=this.ypadding;break;case"sw":h=this.ypadding;break;case"w":h=-f.outerHeight(true)/2;break;default:h=-f.outerHeight(true)-this.ypadding;break}return h};c.jqplot.PointLabels.draw=function(y,j,w){var u=this.plugins.pointLabels;u.setLabels.call(this);for(var x=0;x<u._elems.length;x++){u._elems[x].emptyForce()}u._elems.splice(0,u._elems.length);if(u.show){var s="_"+this._stackAxis+"axis";if(!u.formatString){u.formatString=this[s]._ticks[0].formatString;u.formatter=this[s]._ticks[0].formatter}var F=this._plotData;var E=this._prevPlotData;var B=this._xaxis;var q=this._yaxis;var A,f;for(var x=0,v=u._labels.length;x<v;x++){var o=u._labels[x];if(o==null||(u.hideZeros&&parseInt(o,10)==0)){continue}o=u.formatter(u.formatString,o);f=document.createElement("div");u._elems[x]=c(f);A=u._elems[x];A.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+x);A.css("position","absolute");A.insertAfter(y.canvas);if(u.escapeHTML){A.text(o)}else{A.html(o)}var g=u.location;if((this.fillToZero&&F[x][1]<0)||(this.fillToZero&&this._type==="bar"&&this.barDirection==="horizontal"&&F[x][0]<0)||(this.waterfall&&parseInt(o,10))<0){g=b[d[g]]}var n=B.u2p(F[x][0])+u.xOffset(A,g);var h=q.u2p(F[x][1])+u.yOffset(A,g);if(this._stack&&!u.stackedValue){if(this.barDirection==="vertical"){h=(this._barPoints[x][0][1]+this._barPoints[x][1][1])/2+w._gridPadding.top-0.5*A.outerHeight(true)}else{n=(this._barPoints[x][2][0]+this._barPoints[x][0][0])/2+w._gridPadding.left-0.5*A.outerWidth(true)}}if(this.renderer.constructor==c.jqplot.BarRenderer){if(this.barDirection=="vertical"){n+=this._barNudge}else{h-=this._barNudge}}A.css("left",n);A.css("top",h);var k=n+A.width();var t=h+A.height();var D=u.edgeTolerance;var e=c(y.canvas).position().left;var z=c(y.canvas).position().top;var C=y.canvas.width+e;var m=y.canvas.height+z;if(n-D<e||h-D<z||k+D>C||t+D>m){A.remove()}A=null;f=null}}};c.jqplot.postSeriesInitHooks.push(c.jqplot.PointLabels.init);c.jqplot.postDrawSeriesHooks.push(c.jqplot.PointLabels.draw)})(jQuery);(function(d){d.jqplot.eventListenerHooks.push(["jqplotMouseMove",f]);d.jqplot.Highlighter=function(h){this.show=d.jqplot.config.enablePlugins;this.markerRenderer=new d.jqplot.MarkerRenderer({shadow:false});this.showMarker=true;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=true;this.tooltipLocation="nw";this.fadeTooltip=true;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=true;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=false;this._tooltipElem;this.isHighlighting=false;this.currentNeighbor=null;d.extend(true,this,h)};var b=["nw","n","ne","e","se","s","sw","w"];var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7};var c=["se","s","sw","w","nw","n","ne","e"];d.jqplot.Highlighter.init=function(l,k,j){var h=j||{};this.plugins.highlighter=new d.jqplot.Highlighter(h.highlighter)};d.jqplot.Highlighter.parseOptions=function(j,h){this.showHighlight=true};d.jqplot.Highlighter.postPlotDraw=function(){if(this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas){this.plugins.highlighter.highlightCanvas.resetCanvas();this.plugins.highlighter.highlightCanvas=null}if(this.plugins.highlighter&&this.plugins.highlighter._tooltipElem){this.plugins.highlighter._tooltipElem.emptyForce();this.plugins.highlighter._tooltipElem=null}this.plugins.highlighter.highlightCanvas=new d.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();var h=document.createElement("div");this.plugins.highlighter._tooltipElem=d(h);h=null;this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)};d.jqplot.preInitHooks.push(d.jqplot.Highlighter.init);d.jqplot.preParseSeriesOptionsHooks.push(d.jqplot.Highlighter.parseOptions);d.jqplot.postDrawHooks.push(d.jqplot.Highlighter.postPlotDraw);function a(n,p){var k=n.plugins.highlighter;var q=n.series[p.seriesIndex];var h=q.markerRenderer;var j=k.markerRenderer;j.style=h.style;j.lineWidth=h.lineWidth+k.lineWidthAdjust;j.size=h.size+k.sizeAdjust;var m=d.jqplot.getColorComponents(h.color);var o=[m[0],m[1],m[2]];var l=(m[3]>=0.6)?m[3]*0.6:m[3]*(2-m[3]);j.color="rgba("+o[0]+","+o[1]+","+o[2]+","+l+")";j.init();j.draw(q.gridData[p.pointIndex][0],q.gridData[p.pointIndex][1],k.highlightCanvas._ctx)}function g(B,q,m){var k=B.plugins.highlighter;var E=k._tooltipElem;var s=q.highlighter||{};var u=d.extend(true,{},k,s);if(u.useAxesFormatters){var z=q._xaxis._ticks[0].formatter;var h=q._yaxis._ticks[0].formatter;var F=q._xaxis._ticks[0].formatString;var t=q._yaxis._ticks[0].formatString;var A;var v=z(F,m.data[0]);var l=[];for(var C=1;C<u.yvalues+1;C++){l.push(h(t,m.data[C]))}if(typeof u.formatString==="string"){switch(u.tooltipAxes){case"both":case"xy":l.unshift(v);l.unshift(u.formatString);A=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);break;case"yx":l.push(v);l.unshift(u.formatString);A=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);break;case"x":A=d.jqplot.sprintf.apply(d.jqplot.sprintf,[u.formatString,v]);break;case"y":l.unshift(u.formatString);A=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);break;default:l.unshift(v);l.unshift(u.formatString);A=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);break}}else{switch(u.tooltipAxes){case"both":case"xy":A=v;for(var C=0;C<l.length;C++){A+=u.tooltipSeparator+l[C]}break;case"yx":A="";for(var C=0;C<l.length;C++){A+=l[C]+u.tooltipSeparator}A+=v;break;case"x":A=v;break;case"y":A=l.join(u.tooltipSeparator);break;default:A=v;for(var C=0;C<l.length;C++){A+=u.tooltipSeparator+l[C]}break}}}else{var A;if(typeof u.formatString==="string"){A=d.jqplot.sprintf.apply(d.jqplot.sprintf,[u.formatString].concat(m.data))}else{if(u.tooltipAxes=="both"||u.tooltipAxes=="xy"){A=d.jqplot.sprintf(u.tooltipFormatString,m.data[0])+u.tooltipSeparator+d.jqplot.sprintf(u.tooltipFormatString,m.data[1])}else{if(u.tooltipAxes=="yx"){A=d.jqplot.sprintf(u.tooltipFormatString,m.data[1])+u.tooltipSeparator+d.jqplot.sprintf(u.tooltipFormatString,m.data[0])}else{if(u.tooltipAxes=="x"){A=d.jqplot.sprintf(u.tooltipFormatString,m.data[0])}else{if(u.tooltipAxes=="y"){A=d.jqplot.sprintf(u.tooltipFormatString,m.data[1])}}}}}}if(d.isFunction(u.tooltipContentEditor)){A=u.tooltipContentEditor(A,m.seriesIndex,m.pointIndex,B)}E.html(A);var D={x:m.gridData[0],y:m.gridData[1]};var w=0;var j=0.707;if(q.markerRenderer.show==true){w=(q.markerRenderer.size+u.sizeAdjust)/2}var o=b;if(q.fillToZero&&q.fill&&m.data[1]<0){o=c}switch(o[e[u.tooltipLocation]]){case"nw":var p=D.x+B._gridPadding.left-E.outerWidth(true)-u.tooltipOffset-j*w;var n=D.y+B._gridPadding.top-u.tooltipOffset-E.outerHeight(true)-j*w;break;case"n":var p=D.x+B._gridPadding.left-E.outerWidth(true)/2;var n=D.y+B._gridPadding.top-u.tooltipOffset-E.outerHeight(true)-w;break;case"ne":var p=D.x+B._gridPadding.left+u.tooltipOffset+j*w;var n=D.y+B._gridPadding.top-u.tooltipOffset-E.outerHeight(true)-j*w;break;case"e":var p=D.x+B._gridPadding.left+u.tooltipOffset+w;var n=D.y+B._gridPadding.top-E.outerHeight(true)/2;break;case"se":var p=D.x+B._gridPadding.left+u.tooltipOffset+j*w;var n=D.y+B._gridPadding.top+u.tooltipOffset+j*w;break;case"s":var p=D.x+B._gridPadding.left-E.outerWidth(true)/2;var n=D.y+B._gridPadding.top+u.tooltipOffset+w;break;case"sw":var p=D.x+B._gridPadding.left-E.outerWidth(true)-u.tooltipOffset-j*w;var n=D.y+B._gridPadding.top+u.tooltipOffset+j*w;break;case"w":var p=D.x+B._gridPadding.left-E.outerWidth(true)-u.tooltipOffset-w;var n=D.y+B._gridPadding.top-E.outerHeight(true)/2;break;default:var p=D.x+B._gridPadding.left-E.outerWidth(true)-u.tooltipOffset-j*w;var n=D.y+B._gridPadding.top-u.tooltipOffset-E.outerHeight(true)-j*w;break}E.css("left",p);E.css("top",n);if(u.fadeTooltip){E.stop(true,true).fadeIn(u.tooltipFadeSpeed)}else{E.show()}E=null}function f(o,k,j,q,m){var h=m.plugins.highlighter;var n=m.plugins.cursor;if(h.show){if(q==null&&h.isHighlighting){var p=jQuery.Event("jqplotHighlighterUnhighlight");m.target.trigger(p);var s=h.highlightCanvas._ctx;s.clearRect(0,0,s.canvas.width,s.canvas.height);if(h.fadeTooltip){h._tooltipElem.fadeOut(h.tooltipFadeSpeed)}else{h._tooltipElem.hide()}if(h.bringSeriesToFront){m.restorePreviousSeriesOrder()}h.isHighlighting=false;h.currentNeighbor=null;s=null}else{if(q!=null&&m.series[q.seriesIndex].showHighlight&&!h.isHighlighting){var p=jQuery.Event("jqplotHighlighterHighlight");p.which=o.which;p.pageX=o.pageX;p.pageY=o.pageY;var l=[q.seriesIndex,q.pointIndex,q.data,m];m.target.trigger(p,l);h.isHighlighting=true;h.currentNeighbor=q;if(h.showMarker){a(m,q)}if(m.series[q.seriesIndex].show&&h.showTooltip&&(!n||!n._zoom.started)){g(m,m.series[q.seriesIndex],q)}if(h.bringSeriesToFront){m.moveSeriesToFront(q.seriesIndex)}}else{if(q!=null&&h.isHighlighting&&h.currentNeighbor!=q){if(m.series[q.seriesIndex].showHighlight){var s=h.highlightCanvas._ctx;s.clearRect(0,0,s.canvas.width,s.canvas.height);h.isHighlighting=true;h.currentNeighbor=q;if(h.showMarker){a(m,q)}if(m.series[q.seriesIndex].show&&h.showTooltip&&(!n||!n._zoom.started)){g(m,m.series[q.seriesIndex],q)}if(h.bringSeriesToFront){m.moveSeriesToFront(q.seriesIndex)}}}}}}}})(jQuery);(function(k){k.jqplot.Cursor=function(s){this.style="crosshair";this.previousCursor="auto";this.show=k.jqplot.config.enablePlugins;this.showTooltip=true;this.followMouse=false;this.tooltipLocation="se";this.tooltipOffset=6;this.showTooltipGridPosition=false;this.showTooltipUnitPosition=true;this.showTooltipDataPosition=false;this.tooltipFormatString="%.4P, %.4P";this.useAxesFormatters=true;this.tooltipAxisGroups=[];this.zoom=false;this.zoomProxy=false;this.zoomTarget=false;this.looseZoom=true;this.clickReset=false;this.dblClickReset=true;this.showVerticalLine=false;this.showHorizontalLine=false;this.constrainZoomTo="none";this.shapeRenderer=new k.jqplot.ShapeRenderer();this._zoom={start:[],end:[],started:false,zooming:false,isZoomed:false,axes:{start:{},end:{}},gridpos:{},datapos:{}};this._tooltipElem;this.zoomCanvas;this.cursorCanvas;this.intersectionThreshold=2;this.showCursorLegend=false;this.cursorLegendFormatString=k.jqplot.Cursor.cursorLegendFormatString;this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null};this.constrainOutsideZoom=true;this.showTooltipOutsideZoom=false;this.onGrid=false;k.extend(true,this,s)};k.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s";k.jqplot.Cursor.init=function(v,u,t){var s=t||{};this.plugins.cursor=new k.jqplot.Cursor(s.cursor);var w=this.plugins.cursor;if(w.show){k.jqplot.eventListenerHooks.push(["jqplotMouseEnter",b]);k.jqplot.eventListenerHooks.push(["jqplotMouseLeave",f]);k.jqplot.eventListenerHooks.push(["jqplotMouseMove",j]);if(w.showCursorLegend){t.legend=t.legend||{};t.legend.renderer=k.jqplot.CursorLegendRenderer;t.legend.formatString=this.plugins.cursor.cursorLegendFormatString;t.legend.show=true}if(w.zoom){k.jqplot.eventListenerHooks.push(["jqplotMouseDown",a]);if(w.clickReset){k.jqplot.eventListenerHooks.push(["jqplotClick",l])}if(w.dblClickReset){k.jqplot.eventListenerHooks.push(["jqplotDblClick",c])}}this.resetZoom=function(){var z=this.axes;if(!w.zoomProxy){for(var y in z){z[y].reset();z[y]._ticks=[];if(w._zoom.axes[y]!==undefined){z[y]._autoFormatString=w._zoom.axes[y].tickFormatString}}this.redraw()}else{var x=this.plugins.cursor.zoomCanvas._ctx;x.clearRect(0,0,x.canvas.width,x.canvas.height);x=null}this.plugins.cursor._zoom.isZoomed=false;this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])};if(w.showTooltipDataPosition){w.showTooltipUnitPosition=false;w.showTooltipGridPosition=false;if(s.cursor.tooltipFormatString==undefined){w.tooltipFormatString=k.jqplot.Cursor.cursorLegendFormatString}}}};k.jqplot.Cursor.postDraw=function(){var z=this.plugins.cursor;if(z.zoomCanvas){z.zoomCanvas.resetCanvas();z.zoomCanvas=null}if(z.cursorCanvas){z.cursorCanvas.resetCanvas();z.cursorCanvas=null}if(z._tooltipElem){z._tooltipElem.emptyForce();z._tooltipElem=null}if(z.zoom){z.zoomCanvas=new k.jqplot.GenericCanvas();this.eventCanvas._elem.before(z.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this));z.zoomCanvas.setContext()}var x=document.createElement("div");z._tooltipElem=k(x);x=null;z._tooltipElem.addClass("jqplot-cursor-tooltip");z._tooltipElem.css({position:"absolute",display:"none"});if(z.zoomCanvas){z.zoomCanvas._elem.before(z._tooltipElem)}else{this.eventCanvas._elem.before(z._tooltipElem)}if(z.showVerticalLine||z.showHorizontalLine){z.cursorCanvas=new k.jqplot.GenericCanvas();this.eventCanvas._elem.before(z.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this));z.cursorCanvas.setContext()}if(z.showTooltipUnitPosition){if(z.tooltipAxisGroups.length===0){var v=this.series;var w;var t=[];for(var u=0;u<v.length;u++){w=v[u];var y=w.xaxis+","+w.yaxis;if(k.inArray(y,t)==-1){t.push(y)}}for(var u=0;u<t.length;u++){z.tooltipAxisGroups.push(t[u].split(","))}}}};k.jqplot.Cursor.zoomProxy=function(x,t){var s=x.plugins.cursor;var w=t.plugins.cursor;s.zoomTarget=true;s.zoom=true;s.style="auto";s.dblClickReset=false;w.zoom=true;w.zoomProxy=true;t.target.bind("jqplotZoom",v);t.target.bind("jqplotResetZoom",u);function v(z,y,B,A,C){s.doZoom(y,B,x,C)}function u(y,z,A){x.resetZoom()}};k.jqplot.Cursor.prototype.resetZoom=function(w,x){var v=w.axes;var u=x._zoom.axes;if(!w.plugins.cursor.zoomProxy&&x._zoom.isZoomed){for(var t in v){v[t].reset();v[t]._ticks=[];v[t]._autoFormatString=u[t].tickFormatString}w.redraw();x._zoom.isZoomed=false}else{var s=x.zoomCanvas._ctx;s.clearRect(0,0,s.canvas.width,s.canvas.height);s=null}w.target.trigger("jqplotResetZoom",[w,x])};k.jqplot.Cursor.resetZoom=function(s){s.resetZoom()};k.jqplot.Cursor.prototype.doZoom=function(I,v,E,w){var K=w;var H=E.axes;var t=K._zoom.axes;var y=t.start;var u=t.end;var D,G,B,F,x,z,s,J,L;var C=E.plugins.cursor.zoomCanvas._ctx;if((K.constrainZoomTo=="none"&&Math.abs(I.x-K._zoom.start[0])>6&&Math.abs(I.y-K._zoom.start[1])>6)||(K.constrainZoomTo=="x"&&Math.abs(I.x-K._zoom.start[0])>6)||(K.constrainZoomTo=="y"&&Math.abs(I.y-K._zoom.start[1])>6)){if(!E.plugins.cursor.zoomProxy){for(var A in v){if(K._zoom.axes[A]==undefined){K._zoom.axes[A]={};K._zoom.axes[A].numberTicks=H[A].numberTicks;K._zoom.axes[A].tickInterval=H[A].tickInterval;K._zoom.axes[A].daTickInterval=H[A].daTickInterval;K._zoom.axes[A].min=H[A].min;K._zoom.axes[A].max=H[A].max;K._zoom.axes[A].tickFormatString=(H[A].tickOptions!=null)?H[A].tickOptions.formatString:""}if((K.constrainZoomTo=="none")||(K.constrainZoomTo=="x"&&A.charAt(0)=="x")||(K.constrainZoomTo=="y"&&A.charAt(0)=="y")){B=v[A];if(B!=null){if(B>y[A]){x=y[A];z=B}else{F=y[A]-B;x=B;z=y[A]}s=H[A];J=null;if(s.alignTicks){if(s.name==="x2axis"&&E.axes.xaxis.show){J=E.axes.xaxis.numberTicks}else{if(s.name.charAt(0)==="y"&&s.name!=="yaxis"&&s.name!=="yMidAxis"&&E.axes.yaxis.show){J=E.axes.yaxis.numberTicks}}}if(this.looseZoom&&(H[A].renderer.constructor===k.jqplot.LinearAxisRenderer||H[A].renderer.constructor===k.jqplot.LogAxisRenderer)){L=k.jqplot.LinearTickGenerator(x,z,s._scalefact,J);if(H[A].tickInset&&L[0]<H[A].min+H[A].tickInset*H[A].tickInterval){L[0]+=L[4];L[2]-=1}if(H[A].tickInset&&L[1]>H[A].max-H[A].tickInset*H[A].tickInterval){L[1]-=L[4];L[2]-=1}if(H[A].renderer.constructor===k.jqplot.LogAxisRenderer&&L[0]<H[A].min){L[0]+=L[4];L[2]-=1}H[A].min=L[0];H[A].max=L[1];H[A]._autoFormatString=L[3];H[A].numberTicks=L[2];H[A].tickInterval=L[4];H[A].daTickInterval=[L[4]/1000,"seconds"]}else{H[A].min=x;H[A].max=z;H[A].tickInterval=null;H[A].numberTicks=null;H[A].daTickInterval=null}H[A]._ticks=[]}}}C.clearRect(0,0,C.canvas.width,C.canvas.height);E.redraw();K._zoom.isZoomed=true;C=null}E.target.trigger("jqplotZoom",[I,v,E,w])}};k.jqplot.preInitHooks.push(k.jqplot.Cursor.init);k.jqplot.postDrawHooks.push(k.jqplot.Cursor.postDraw);function e(I,u,E){var L=E.plugins.cursor;var y="";var P=false;if(L.showTooltipGridPosition){y=I.x+", "+I.y;P=true}if(L.showTooltipUnitPosition){var H;for(var G=0;G<L.tooltipAxisGroups.length;G++){H=L.tooltipAxisGroups[G];if(P){y+="<br />"}if(L.useAxesFormatters){for(var F=0;F<H.length;F++){if(F){y+=", "}var J=E.axes[H[F]]._ticks[0].formatter;var D=E.axes[H[F]]._ticks[0].formatString;y+=J(D,u[H[F]])}}else{y+=k.jqplot.sprintf(L.tooltipFormatString,u[H[0]],u[H[1]])}P=true}}if(L.showTooltipDataPosition){var w=E.series;var O=d(E,I.x,I.y);var P=false;for(var G=0;G<w.length;G++){if(w[G].show){var A=w[G].index;var v=w[G].label.toString();var K=k.inArray(A,O.indices);var B=undefined;var z=undefined;if(K!=-1){var N=O.data[K].data;if(L.useAxesFormatters){var C=w[G]._xaxis._ticks[0].formatter;var t=w[G]._yaxis._ticks[0].formatter;var M=w[G]._xaxis._ticks[0].formatString;var x=w[G]._yaxis._ticks[0].formatString;B=C(M,N[0]);z=t(x,N[1])}else{B=N[0];z=N[1]}if(P){y+="<br />"}y+=k.jqplot.sprintf(L.tooltipFormatString,v,B,z);P=true}}}}L._tooltipElem.html(y)}function g(E,C){var G=C.plugins.cursor;var B=G.cursorCanvas._ctx;B.clearRect(0,0,B.canvas.width,B.canvas.height);if(G.showVerticalLine){G.shapeRenderer.draw(B,[[E.x,0],[E.x,B.canvas.height]])}if(G.showHorizontalLine){G.shapeRenderer.draw(B,[[0,E.y],[B.canvas.width,E.y]])}var I=d(C,E.x,E.y);if(G.showCursorLegend){var t=k(C.targetId+" td.jqplot-cursor-legend-label");for(var D=0;D<t.length;D++){var x=k(t[D]).data("seriesIndex");var v=C.series[x];var u=v.label.toString();var F=k.inArray(x,I.indices);var z=undefined;var y=undefined;if(F!=-1){var J=I.data[F].data;if(G.useAxesFormatters){var A=v._xaxis._ticks[0].formatter;var s=v._yaxis._ticks[0].formatter;var H=v._xaxis._ticks[0].formatString;var w=v._yaxis._ticks[0].formatString;z=A(H,J[0]);y=s(w,J[1])}else{z=J[0];y=J[1]}}if(C.legend.escapeHtml){k(t[D]).text(k.jqplot.sprintf(G.cursorLegendFormatString,u,z,y))}else{k(t[D]).html(k.jqplot.sprintf(G.cursorLegendFormatString,u,z,y))}}}B=null}function d(B,G,F){var C={indices:[],data:[]};var H,z,v,D,w,t,u;var A;var E=B.plugins.cursor;for(var z=0;z<B.series.length;z++){H=B.series[z];t=H.renderer;if(H.show){A=E.intersectionThreshold;if(H.showMarker){A+=H.markerRenderer.size/2}for(var w=0;w<H.gridData.length;w++){u=H.gridData[w];if(E.showVerticalLine){if(Math.abs(G-u[0])<=A){C.indices.push(z);C.data.push({seriesIndex:z,pointIndex:w,gridData:u,data:H.data[w]})}}}}}return C}function o(t,v){var z=v.plugins.cursor;var u=z._tooltipElem;switch(z.tooltipLocation){case"nw":var s=t.x+v._gridPadding.left-u.outerWidth(true)-z.tooltipOffset;var w=t.y+v._gridPadding.top-z.tooltipOffset-u.outerHeight(true);break;case"n":var s=t.x+v._gridPadding.left-u.outerWidth(true)/2;var w=t.y+v._gridPadding.top-z.tooltipOffset-u.outerHeight(true);break;case"ne":var s=t.x+v._gridPadding.left+z.tooltipOffset;var w=t.y+v._gridPadding.top-z.tooltipOffset-u.outerHeight(true);break;case"e":var s=t.x+v._gridPadding.left+z.tooltipOffset;var w=t.y+v._gridPadding.top-u.outerHeight(true)/2;break;case"se":var s=t.x+v._gridPadding.left+z.tooltipOffset;var w=t.y+v._gridPadding.top+z.tooltipOffset;break;case"s":var s=t.x+v._gridPadding.left-u.outerWidth(true)/2;var w=t.y+v._gridPadding.top+z.tooltipOffset;break;case"sw":var s=t.x+v._gridPadding.left-u.outerWidth(true)-z.tooltipOffset;var w=t.y+v._gridPadding.top+z.tooltipOffset;break;case"w":var s=t.x+v._gridPadding.left-u.outerWidth(true)-z.tooltipOffset;var w=t.y+v._gridPadding.top-u.outerHeight(true)/2;break;default:var s=t.x+v._gridPadding.left+z.tooltipOffset;var w=t.y+v._gridPadding.top+z.tooltipOffset;break}u.css("left",s);u.css("top",w);u=null}function n(w){var u=w._gridPadding;var x=w.plugins.cursor;var v=x._tooltipElem;switch(x.tooltipLocation){case"nw":var t=u.left+x.tooltipOffset;var s=u.top+x.tooltipOffset;v.css("left",t);v.css("top",s);break;case"n":var t=(u.left+(w._plotDimensions.width-u.right))/2-v.outerWidth(true)/2;var s=u.top+x.tooltipOffset;v.css("left",t);v.css("top",s);break;case"ne":var t=u.right+x.tooltipOffset;var s=u.top+x.tooltipOffset;v.css({right:t,top:s});break;case"e":var t=u.right+x.tooltipOffset;var s=(u.top+(w._plotDimensions.height-u.bottom))/2-v.outerHeight(true)/2;v.css({right:t,top:s});break;case"se":var t=u.right+x.tooltipOffset;var s=u.bottom+x.tooltipOffset;v.css({right:t,bottom:s});break;case"s":var t=(u.left+(w._plotDimensions.width-u.right))/2-v.outerWidth(true)/2;var s=u.bottom+x.tooltipOffset;v.css({left:t,bottom:s});break;case"sw":var t=u.left+x.tooltipOffset;var s=u.bottom+x.tooltipOffset;v.css({left:t,bottom:s});break;case"w":var t=u.left+x.tooltipOffset;var s=(u.top+(w._plotDimensions.height-u.bottom))/2-v.outerHeight(true)/2;v.css({left:t,top:s});break;default:var t=u.right-x.tooltipOffset;var s=u.bottom+x.tooltipOffset;v.css({right:t,bottom:s});break}v=null}function l(t,s,x,w,v){t.preventDefault();t.stopImmediatePropagation();var y=v.plugins.cursor;if(y.clickReset){y.resetZoom(v,y)}var u=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(u&&!u().isCollapsed){u().collapse()}}return false}function c(t,s,x,w,v){t.preventDefault();t.stopImmediatePropagation();var y=v.plugins.cursor;if(y.dblClickReset){y.resetZoom(v,y)}var u=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(u&&!u().isCollapsed){u().collapse()}}return false}function f(y,v,s,B,w){var x=w.plugins.cursor;x.onGrid=false;if(x.show){k(y.target).css("cursor",x.previousCursor);if(x.showTooltip&&!(x._zoom.zooming&&x.showTooltipOutsideZoom&&!x.constrainOutsideZoom)){x._tooltipElem.empty();x._tooltipElem.hide()}if(x.zoom){x._zoom.gridpos=v;x._zoom.datapos=s}if(x.showVerticalLine||x.showHorizontalLine){var D=x.cursorCanvas._ctx;D.clearRect(0,0,D.canvas.width,D.canvas.height);D=null}if(x.showCursorLegend){var C=k(w.targetId+" td.jqplot-cursor-legend-label");for(var u=0;u<C.length;u++){var A=k(C[u]).data("seriesIndex");var t=w.series[A];var z=t.label.toString();if(w.legend.escapeHtml){k(C[u]).text(k.jqplot.sprintf(x.cursorLegendFormatString,z,undefined,undefined))}else{k(C[u]).html(k.jqplot.sprintf(x.cursorLegendFormatString,z,undefined,undefined))}}}}}function b(t,s,w,v,u){var x=u.plugins.cursor;x.onGrid=true;if(x.show){x.previousCursor=t.target.style.cursor;t.target.style.cursor=x.style;if(x.showTooltip){e(s,w,u);if(x.followMouse){o(s,u)}else{n(u)}x._tooltipElem.show()}if(x.showVerticalLine||x.showHorizontalLine){g(s,u)}}}function j(t,s,w,v,u){var x=u.plugins.cursor;if(x.show){if(x.showTooltip){e(s,w,u);if(x.followMouse){o(s,u)}}if(x.showVerticalLine||x.showHorizontalLine){g(s,u)}}}function p(A){var z=A.data.plot;var v=z.eventCanvas._elem.offset();var y={x:A.pageX-v.left,y:A.pageY-v.top};var w={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};var x=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];var s=z.axes;var t,u;for(t=11;t>0;t--){u=x[t-1];if(s[u].show){w[u]=s[u].series_p2u(y[u.charAt(0)])}}return{offsets:v,gridPos:y,dataPos:w}}function h(B){var z=B.data.plot;var A=z.plugins.cursor;if(A.show&&A.zoom&&A._zoom.started&&!A.zoomTarget){B.preventDefault();var D=A.zoomCanvas._ctx;var x=p(B);var y=x.gridPos;var v=x.dataPos;A._zoom.gridpos=y;A._zoom.datapos=v;A._zoom.zooming=true;var w=y.x;var u=y.y;var C=D.canvas.height;var s=D.canvas.width;if(A.showTooltip&&!A.onGrid&&A.showTooltipOutsideZoom){e(y,v,z);if(A.followMouse){o(y,z)}}if(A.constrainZoomTo=="x"){A._zoom.end=[w,C]}else{if(A.constrainZoomTo=="y"){A._zoom.end=[s,u]}else{A._zoom.end=[w,u]}}var t=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(t&&!t().isCollapsed){t().collapse()}}m.call(A);D=null}}function a(y,u,t,z,v){var x=v.plugins.cursor;if(v.plugins.mobile){k(document).one("vmouseup.jqplot_cursor",{plot:v},q)}else{k(document).one("mouseup.jqplot_cursor",{plot:v},q)}var w=v.axes;if(document.onselectstart!=undefined){x._oldHandlers.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!=undefined){x._oldHandlers.ondrag=document.ondrag;document.ondrag=function(){return false}}if(document.onmousedown!=undefined){x._oldHandlers.onmousedown=document.onmousedown;document.onmousedown=function(){return false}}if(x.zoom){if(!x.zoomProxy){var A=x.zoomCanvas._ctx;A.clearRect(0,0,A.canvas.width,A.canvas.height);A=null}if(x.constrainZoomTo=="x"){x._zoom.start=[u.x,0]}else{if(x.constrainZoomTo=="y"){x._zoom.start=[0,u.y]}else{x._zoom.start=[u.x,u.y]}}x._zoom.started=true;for(var s in t){x._zoom.axes.start[s]=t[s]}if(v.plugins.mobile){k(document).bind("vmousemove.jqplotCursor",{plot:v},h)}else{k(document).bind("mousemove.jqplotCursor",{plot:v},h)}}}function q(A){var x=A.data.plot;var z=x.plugins.cursor;if(z.zoom&&z._zoom.zooming&&!z.zoomTarget){var w=z._zoom.gridpos.x;var t=z._zoom.gridpos.y;var v=z._zoom.datapos;var B=z.zoomCanvas._ctx.canvas.height;var s=z.zoomCanvas._ctx.canvas.width;var y=x.axes;if(z.constrainOutsideZoom&&!z.onGrid){if(w<0){w=0}else{if(w>s){w=s}}if(t<0){t=0}else{if(t>B){t=B}}for(var u in v){if(v[u]){if(u.charAt(0)=="x"){v[u]=y[u].series_p2u(w)}else{v[u]=y[u].series_p2u(t)}}}}if(z.constrainZoomTo=="x"){t=B}else{if(z.constrainZoomTo=="y"){w=s}}z._zoom.end=[w,t];z._zoom.gridpos={x:w,y:t};z.doZoom(z._zoom.gridpos,v,x,z)}z._zoom.started=false;z._zoom.zooming=false;k(document).unbind("mousemove.jqplotCursor",h);if(document.onselectstart!=undefined&&z._oldHandlers.onselectstart!=null){document.onselectstart=z._oldHandlers.onselectstart;z._oldHandlers.onselectstart=null}if(document.ondrag!=undefined&&z._oldHandlers.ondrag!=null){document.ondrag=z._oldHandlers.ondrag;z._oldHandlers.ondrag=null}if(document.onmousedown!=undefined&&z._oldHandlers.onmousedown!=null){document.onmousedown=z._oldHandlers.onmousedown;z._oldHandlers.onmousedown=null}}function m(){var A=this._zoom.start;var x=this._zoom.end;var v=this.zoomCanvas._ctx;var u,y,z,s;if(x[0]>A[0]){u=A[0];s=x[0]-A[0]}else{u=x[0];s=A[0]-x[0]}if(x[1]>A[1]){y=A[1];z=x[1]-A[1]}else{y=x[1];z=A[1]-x[1]}v.fillStyle="rgba(0,0,0,0.2)";v.strokeStyle="#999999";v.lineWidth=1;v.clearRect(0,0,v.canvas.width,v.canvas.height);v.fillRect(0,0,v.canvas.width,v.canvas.height);v.clearRect(u,y,s,z);v.strokeRect(u,y,s,z);v=null}k.jqplot.CursorLegendRenderer=function(s){k.jqplot.TableLegendRenderer.call(this,s);this.formatString="%s"};k.jqplot.CursorLegendRenderer.prototype=new k.jqplot.TableLegendRenderer();k.jqplot.CursorLegendRenderer.prototype.constructor=k.jqplot.CursorLegendRenderer;k.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();this._elem=null}if(this.show){var y=this._series,C;var u=document.createElement("table");this._elem=k(u);u=null;this._elem.addClass("jqplot-legend jqplot-cursor-legend");this._elem.css("position","absolute");var t=false;for(var z=0;z<y.length;z++){C=y[z];if(C.show&&C.showLabel){var x=k.jqplot.sprintf(this.formatString,C.label.toString());if(x){var v=C.color;if(C._stack&&!C.fill){v=""}B.call(this,x,v,t,z);t=true}for(var w=0;w<k.jqplot.addLegendRowHooks.length;w++){var A=k.jqplot.addLegendRowHooks[w].call(this,C);if(A){B.call(this,A.label,A.color,t);t=true}}}}y=C=null;delete y;delete C}function B(F,E,H,s){var D=(H)?this.rowSpacing:"0";var G=k('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);G.data("seriesIndex",s);k('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+D+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+E+';"></div></div></td>').appendTo(G);var I=k('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+D+';"></td>');I.appendTo(G);I.data("seriesIndex",s);if(this.escapeHtml){I.text(F)}else{I.html(F)}G=null;I=null}return this._elem}})(jQuery);jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+m.path:"";var g=m.domain?"; domain="+m.domain:"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};var allUIMenus=[];$.fn.menu=function(c){var b=this;var c=c;var a=new Menu(b,c);allUIMenus.push(a);if(typeof(c)!="undefined"&&c.alwaysOpen){a.showMenu()}else{$(this).mousedown(function(){if(!a.menuOpen){a.showLoading()}}).click(function(){if(a.menuOpen==false){a.showMenu()}else{a.kill()}return false})}};function Menu(d,c){var e=this;var d=$(d);var a=$('<div class="fg-menu-container ui-widget ui-widget-content ui-corner-all">'+c.content+"</div>");this.menuOpen=false;this.menuExists=false;var c=jQuery.extend({content:null,width:180,maxHeight:180,positionOpts:{posX:"left",posY:"bottom",offsetX:0,offsetY:0,directionH:"right",directionV:"down",detectH:true,detectV:true,linkToFront:false},showSpeed:200,callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:true,backLinkText:"Back",flyOut:false,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"All",nextCrumbLink:"ui-icon-carat-1-e",alwaysOpen:false},c);this.alwaysOpen=c.alwaysOpen;this.setMaxHeight=function(f){c.maxHeight=f};var b=function(){$.each(allUIMenus,function(f){if(!allUIMenus[f].alwaysOpen&&allUIMenus[f].menuOpen){allUIMenus[f].kill()}})};this.kill=function(){d.removeClass(c.loadingState).removeClass("fg-menu-open").removeClass(c.callerOnState);a.find("li").removeClass(c.linkHoverSecondary).find("a").removeClass(c.linkHover);if(c.flyOutOnState){a.find("li a").removeClass(c.flyOutOnState)}if(c.callerOnState){d.removeClass(c.callerOnState)}if(a.is(".fg-menu-ipod")){e.resetDrilldownMenu()}if(a.is(".fg-menu-flyout")){e.resetFlyoutMenu()}a.parent().hide();e.menuOpen=false;$(document).unbind("click",b);$(document).unbind("keydown")};this.showLoading=function(){d.addClass(c.loadingState)};this.showMenu=function(){if(!c.alwaysOpen){b()}if(!e.menuExists){e.create()}d.addClass("fg-menu-open").addClass(c.callerOnState);a.parent().show().click(function(){if(!c.alwaysOpen){e.kill()}return false});a.hide().slideDown(c.showSpeed).find(".fg-menu:eq(0)");e.menuOpen=true;d.removeClass(c.loadingState);if(!c.alwaysOpen){$(document).click(b)}$(document).keydown(function(g){var h;if(g.which!=""){h=g.which}else{if(g.charCode!=""){h=g.charCode}else{if(g.keyCode!=""){h=g.keyCode}}}var f=($(g.target).parents("div").is(".fg-menu-flyout"))?"flyout":"ipod";switch(h){case 27:if(!c.alwaysOpen){b()}break}})};this.create=function(){a.css({width:c.width}).appendTo("body").find("ul:first").not(".fg-menu-breadcrumb").addClass("fg-menu");a.find("ul, li a").addClass("ui-corner-all");a.find("ul").attr("role","menu").eq(0).attr("aria-activedescendant","active-menuitem").attr("aria-labelledby",d.attr("id"));a.find("li").attr("role","menuitem");a.find("li:has(ul)").attr("aria-haspopup","true").find("ul").attr("aria-expanded","false");a.find("a").attr("tabindex","-1");if(a.find("ul").size()>1){if(c.flyOut){e.flyout(a,c)}else{e.drilldown(a,c)}}else{a.find("a").click(function(){e.chooseItem(this);return false})}if(c.linkHover){var f=a.find(".fg-menu li a");f.hover(function(){var g=$(this);$("."+c.linkHover).removeClass(c.linkHover).blur().parent().removeAttr("id");$(this).addClass(c.linkHover).focus().parent().attr("id","active-menuitem")},function(){$(this).removeClass(c.linkHover).blur().parent().removeAttr("id")})}if(c.linkHoverSecondary){a.find(".fg-menu li").hover(function(){$(this).siblings("li").removeClass(c.linkHoverSecondary);if(c.flyOutOnState){$(this).siblings("li").find("a").removeClass(c.flyOutOnState)}$(this).addClass(c.linkHoverSecondary)},function(){$(this).removeClass(c.linkHoverSecondary)})}e.setPosition(a,d,c);e.menuExists=true};this.chooseItem=function(f){if(!c.alwaysOpen){e.kill()}$(f).trigger("menu-item-selected",[e])}}Menu.prototype.flyout=function(a,b){var c=this;this.resetFlyoutMenu=function(){var d=a.find("ul ul");d.removeClass("ui-widget-content").hide()};a.addClass("fg-menu-flyout").find("li:has(ul)").each(function(){var e=a.width();var g,d;var f=$(this).find("ul");f.css({left:e,width:e}).hide();$(this).find("a:eq(0)").addClass("fg-menu-indicator").html("<span>"+$(this).find("a:eq(0)").text()+'</span><span class="ui-icon '+b.nextMenuLink+'"></span>').hover(function(){clearTimeout(d);var h=$(this).next();if(!fitVertical(h,$(this).offset().top)){h.css({top:"auto",bottom:0})}if(!fitHorizontal(h,$(this).offset().left+100)){h.css({left:"auto",right:e,"z-index":999})}g=setTimeout(function(){h.addClass("ui-widget-content").show(b.showSpeed).attr("aria-expanded","true")},300)},function(){clearTimeout(g);var h=$(this).next();d=setTimeout(function(){h.removeClass("ui-widget-content").hide(b.showSpeed).attr("aria-expanded","false")},400)});$(this).find("ul a").hover(function(){clearTimeout(d);if($(this).parents("ul").prev().is("a.fg-menu-indicator")){$(this).parents("ul").prev().addClass(b.flyOutOnState)}},function(){d=setTimeout(function(){f.hide(b.showSpeed);a.find(b.flyOutOnState).removeClass(b.flyOutOnState)},500)})});a.find("a").click(function(){c.chooseItem(this);return false})};Menu.prototype.drilldown=function(a,m){var b=this;var d=a.find(".fg-menu");var h=$('<ul class="fg-menu-breadcrumb ui-widget-header ui-corner-all ui-helper-clearfix"></ul>');var n=$('<li class="fg-menu-breadcrumb-text">'+m.crumbDefaultText+"</li>");var j=(m.backLink)?m.backLinkText:m.topLinkText;var c=(m.backLink)?"fg-menu-prev-list":"fg-menu-all-lists";var l=(m.backLink)?"ui-state-default ui-corner-all":"";var g=(m.backLink)?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"";var f=$('<li class="'+c+'"><a href="#" class="'+l+'">'+g+j+"</a></li>");a.addClass("fg-menu-ipod");if(m.backLink){h.addClass("fg-menu-footer").appendTo(a).hide()}else{h.addClass("fg-menu-header").prependTo(a)}h.append(n);var k=function(o){if(o.height()>m.maxHeight){o.addClass("fg-menu-scroll")}d.css({height:$(".fg-menu-current").height()})};var e=function(o){o.removeClass("fg-menu-scroll").removeClass("fg-menu-current").height("auto")};this.resetDrilldownMenu=function(){$(".fg-menu-current").removeClass("fg-menu-current");d.animate({left:0},m.crossSpeed,function(){$(this).find("ul").each(function(){$(this).hide();e($(this))});d.addClass("fg-menu-current")});$(".fg-menu-all-lists").find("span").remove();h.empty().append(n);$(".fg-menu-footer").empty().hide();k(d)};d.addClass("fg-menu-content fg-menu-current ui-widget-content ui-helper-clearfix").css({width:a.width()}).find("ul").css({width:a.width(),left:a.width()}).addClass("ui-widget-content").hide();k(d);d.find("a").each(function(){if($(this).next().is("ul")){$(this).addClass("fg-menu-indicator").each(function(){$(this).html("<span>"+$(this).text()+'</span><span class="ui-icon '+m.nextMenuLink+'"></span>')}).click(function(){var o=$(this).next();var u=$(this).parents("ul:eq(0)");var p=(u.is(".fg-menu-content"))?0:parseFloat(d.css("left"));var s=Math.round(p-parseFloat(a.width()));var w=$(".fg-menu-footer");e(u);k(o);d.animate({left:s},m.crossSpeed);o.show().addClass("fg-menu-current").attr("aria-expanded","true");k(o);var v=function(z){var x=z;var A=$(".fg-menu-current");var y=A.parents("ul:eq(0)");A.hide().attr("aria-expanded","false");e(A);k(y);y.addClass("fg-menu-current").attr("aria-expanded","true");if(y.hasClass("fg-menu-content")){x.remove();w.hide()}};if(m.backLink){if(w.find("a").size()==0){w.show();$('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>Back</span></a>').appendTo(w).click(function(){var y=$(this);var x=parseFloat(d.css("left"))+a.width();d.animate({left:x},m.crossSpeed,function(){v(y)});return false})}}else{if(h.find("li").size()==1){h.empty().append(f);f.find("a").click(function(){b.resetDrilldownMenu();return false})}$(".fg-menu-current-crumb").removeClass("fg-menu-current-crumb");var t=$(this).find("span:eq(0)").text();var q=$('<li class="fg-menu-current-crumb"><a href="javascript://" class="fg-menu-crumb">'+t+"</a></li>");q.appendTo(h).find("a").click(function(){if($(this).parent().is(".fg-menu-current-crumb")){b.chooseItem(this)}else{var x=-($(".fg-menu-current").parents("ul").size()-1)*180;d.animate({left:x},m.crossSpeed,function(){v()});$(this).parent().addClass("fg-menu-current-crumb").find("span").remove();$(this).parent().nextAll().remove()}return false});q.prev().append(' <span class="ui-icon '+m.nextCrumbLink+'"></span>')}return false})}else{$(this).click(function(){b.chooseItem(this);return false})}})};Menu.prototype.setPosition=function(d,b,j){var a=d;var f=b;var g={refX:f.offset().left,refY:f.offset().top,refW:f.getTotalWidth(),refH:f.getTotalHeight()};var j=j;var h,e;var c=$('<div class="positionHelper"></div>');c.css({position:"absolute",left:g.refX,top:g.refY,width:g.refW,height:g.refH});a.wrap(c);switch(j.positionOpts.posX){case"left":h=0;break;case"center":h=g.refW/2;break;case"right":h=g.refW;break}switch(j.positionOpts.posY){case"top":e=0;break;case"center":e=g.refH/2;break;case"bottom":e=g.refH;break}h+=j.positionOpts.offsetX;e+=j.positionOpts.offsetY;if(j.positionOpts.directionV=="up"){a.css({top:"auto",bottom:e});if(j.positionOpts.detectV&&!fitVertical(a)){a.css({bottom:"auto",top:e})}}else{a.css({bottom:"auto",top:e});if(j.positionOpts.detectV&&!fitVertical(a)){a.css({top:"auto",bottom:e})}}if(j.positionOpts.directionH=="left"){a.css({left:"auto",right:h});if(j.positionOpts.detectH&&!fitHorizontal(a)){a.css({right:"auto",left:h})}}else{a.css({right:"auto",left:h});if(j.positionOpts.detectH&&!fitHorizontal(a)){a.css({left:"auto",right:h})}}if(j.positionOpts.linkToFront){f.clone().addClass("linkClone").css({position:"absolute",top:0,right:"auto",bottom:"auto",left:0,width:f.width(),height:f.height()}).insertAfter(a)}};function sortBigToSmall(d,c){return c-d}jQuery.fn.getTotalWidth=function(){return $(this).width()+(parseInt($(this).css("paddingRight"))||0)+(parseInt($(this).css("paddingLeft"))||0)+(parseInt($(this).css("borderRightWidth"))||0)+(parseInt($(this).css("borderLeftWidth"))||0)};jQuery.fn.getTotalHeight=function(){return $(this).height()+(parseInt($(this).css("paddingTop"))||0)+(parseInt($(this).css("paddingBottom"))||0)+(parseInt($(this).css("borderTopWidth"))||0)+(parseInt($(this).css("borderBottomWidth"))||0)};function getScrollTop(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function getScrollLeft(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}function getWindowHeight(){var a=document.documentElement;return self.innerHeight||(a&&a.clientHeight)||document.body.clientHeight}function getWindowWidth(){var a=document.documentElement;return self.innerWidth||(a&&a.clientWidth)||document.body.clientWidth}function fitHorizontal(b,c){var a=parseInt(c)||$(b).offset().left;return(a+$(b).width()<=getWindowWidth()+getScrollLeft()&&a-getScrollLeft()>=0)}function fitVertical(c,b){var a=parseInt(b)||$(c).offset().top;return(a+$(c).height()<=getWindowHeight()+getScrollTop()&&a-getScrollTop()>=0)}Number.prototype.pxToEm=String.prototype.pxToEm=function(b){b=jQuery.extend({scope:"body",reverse:false},b);var e=(this=="")?0:parseFloat(this);var d;var c=function(){var g=document.documentElement;return self.innerWidth||(g&&g.clientWidth)||document.body.clientWidth};if(b.scope=="body"&&$.browserInfo().msie&&(parseFloat($("body").css("font-size"))/c()).toFixed(1)>0){var f=function(){return(parseFloat($("body").css("font-size"))/c()).toFixed(3)*16};d=f()}else{d=parseFloat(jQuery(b.scope).css("font-size"))}var a=(b.reverse==true)?(e*d).toFixed(2)+"px":(e/d).toFixed(2)+"em";return a};(function(b){b.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};function a(d){if(typeof d.data!=="string"){return}var c=d.handler,e=d.data.toLowerCase().split(" ");d.handler=function(n){if(this!==n.target&&(/textarea|select/i.test(n.target.nodeName)||n.target.type==="text")){return}var h=n.type!=="keypress"&&b.hotkeys.specialKeys[n.which],o=String.fromCharCode(n.which).toLowerCase(),k,m="",g={};if(n.altKey&&h!=="alt"){m+="alt+"}if(n.ctrlKey&&h!=="ctrl"){m+="ctrl+"}if(n.metaKey&&!n.ctrlKey&&h!=="meta"){m+="meta+"}if(n.shiftKey&&h!=="shift"){m+="shift+"}if(h){g[m+h]=true}else{g[m+o]=true;g[m+b.hotkeys.shiftNums[o]]=true;if(m==="shift+"){g[b.hotkeys.shiftNums[o]]=true}}for(var j=0,f=e.length;j<f;j++){if(g[e[j]]){return c.apply(this,arguments)}}}}b.each(["keydown","keyup","keypress"],function(){b.event.special[this]={add:a}})})(jQuery);
/*
 * FullCalendar v1.6.7
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(av,x){var O={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",handleWindowResize:true};var T={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var aD=av.fullCalendar={version:"1.6.7"};var ag=aD.views={};av.fn.fullCalendar=function(aP){if(typeof aP=="string"){var aO=Array.prototype.slice.call(arguments,1);var aQ;this.each(function(){var aS=av.data(this,"fullCalendar");if(aS&&av.isFunction(aS[aP])){var aR=aS[aP].apply(aS,aO);if(aQ===x){aQ=aR}if(aP=="destroy"){av.removeData(this,"fullCalendar")}}});if(aQ!==x){return aQ}return this}aP=aP||{};var aN=aP.eventSources||[];delete aP.eventSources;if(aP.events){aN.push(aP.events);delete aP.events}aP=av.extend(true,{},O,(aP.isRTL||aP.isRTL===x&&O.isRTL)?T:{},aP);this.each(function(aT,aR){var aS=av(aR);var aU=new v(aS,aP,aN);aS.data("fullCalendar",aU);aU.render()});return this};function ak(aN){av.extend(true,O,aN)}function v(a7,be,bh){var bA=this;bA.options=be;bA.render=bp;bA.destroy=bC;bA.refetchEvents=a2;bA.reportEvents=a4;bA.reportEventChange=bE;bA.rerenderEvents=aQ;bA.changeView=aY;bA.select=bB;bA.unselect=aZ;bA.prev=bl;bA.next=aP;bA.prevYear=bD;bA.nextYear=aO;bA.today=a8;bA.gotoDate=bo;bA.incrementDate=bb;bA.formatDate=function(bK,bJ){return E(bK,bJ,be)};bA.formatDates=function(bL,bK,bJ){return l(bL,bK,bJ,be)};bA.getDate=bc;bA.getView=bi;bA.option=bx;bA.trigger=bn;u.call(bA,be,bh);var aN=bA.isFetchNeeded;var bH=bA.fetchEvents;var by=a7[0];var aS;var bq;var a1;var bI;var a0;var bm;var aV;var br=0;var bz=0;var bF=new Date();var bg=[];var aT;B(bF,be.year,be.month,be.date);function bp(bJ){if(!a1){bf()}else{if(bv()){bs();bG(bJ)}}}function bf(){bI=be.theme?"ui":"fc";a7.addClass("fc");if(be.isRTL){a7.addClass("fc-rtl")}else{a7.addClass("fc-ltr")}if(be.theme){a7.addClass("ui-widget")}a1=av("<div class='fc-content' style='position:relative'/>").prependTo(a7);aS=new U(bA,be);bq=aS.render();if(bq){a7.prepend(bq)}aY(be.defaultView);if(be.handleWindowResize){av(window).resize(a3)}if(!a6()){aX()}}function aX(){setTimeout(function(){if(!a0.start&&a6()){bd()}},0)}function bC(){if(a0){bn("viewDestroy",a0,a0,a0.element);a0.triggerEventDestroy()}av(window).unbind("resize",a3);aS.destroy();a1.remove();a7.removeClass("fc fc-rtl ui-widget")}function bv(){return a7.is(":visible")}function a6(){return av("body").is(":visible")}function aY(bJ){if(!a0||bJ!=a0.name){bt(bJ)}}function bt(bJ){bz++;if(a0){bn("viewDestroy",a0,a0,a0.element);aZ();a0.triggerEventDestroy();aR();a0.element.remove();aS.deactivateButton(a0.name)}aS.activateButton(bJ);a0=new ag[bJ](av("<div class='fc-view fc-view-"+bJ+"' style='position:relative'/>").appendTo(a1),bA);bd();a5();bz--}function bd(bJ){if(!a0.start||bJ||bF<a0.start||bF>=a0.end){if(bv()){bG(bJ)}}}function bG(bJ){bz++;if(a0.start){bn("viewDestroy",a0,a0,a0.element);aZ();bj()}aR();a0.render(bF,bJ||0);bw();a5();(a0.afterRender||at)();a9();bk();bn("viewRender",a0,a0,a0.element);a0.trigger("viewDisplay",by);bz--;aW()}function ba(){if(bv()){aZ();bj();bs();bw();aU()}}function bs(){if(be.contentHeight){aV=be.contentHeight}else{if(be.height){aV=be.height-(bq?bq.height():0)-I(a1)}else{aV=Math.round(a1.width()/Math.max(be.aspectRatio,0.5))}}}function bw(){if(aV===x){bs()}bz++;a0.setHeight(aV);a0.setWidth(a1.width());bz--;bm=a7.outerWidth()}function a3(){if(!bz){if(a0.start){var bJ=++br;setTimeout(function(){if(bJ==br&&!bz&&bv()){if(bm!=(bm=a7.outerWidth())){bz++;ba();a0.trigger("windowResize",by);bz--}}},200)}else{aX()}}}function a2(){bj();bu()}function aQ(bJ){bj();aU(bJ)}function aU(bJ){if(bv()){a0.setEventData(bg);a0.renderEvents(bg,bJ);a0.trigger("eventAfterAllRender")}}function bj(){a0.triggerEventDestroy();a0.clearEvents();a0.clearEventData()}function aW(){if(!be.lazyFetching||aN(a0.visStart,a0.visEnd)){bu()}else{aU()}}function bu(){bH(a0.visStart,a0.visEnd)}function a4(bJ){bg=bJ;aU()}function bE(bJ){aQ(bJ)}function a9(){aS.updateTitle(a0.title)}function bk(){var bJ=new Date();if(bJ>=a0.start&&bJ<a0.end){aS.disableButton("today")}else{aS.enableButton("today")}}function bB(bL,bJ,bK){a0.select(bL,bJ,bK===x?true:bK)}function aZ(){if(a0){a0.unselect()}}function bl(){bd(-1)}function aP(){bd(1)}function bD(){aj(bF,-1);bd()}function aO(){aj(bF,1);bd()}function a8(){bF=new Date();bd()}function bo(bK,bL,bJ){if(bK instanceof Date){bF=P(bK)}else{B(bF,bK,bL,bJ)}bd()}function bb(bK,bJ,bL){if(bK!==x){aj(bF,bK)}if(bJ!==x){q(bF,bJ)}if(bL!==x){aF(bF,bL)}bd()}function bc(){return P(bF)}function aR(){a1.css({width:"100%",height:a1.height(),overflow:"hidden"})}function a5(){a1.css({width:"",height:"",overflow:""})}function bi(){return a0}function bx(bJ,bK){if(bK===x){return be[bJ]}if(bJ=="height"||bJ=="contentHeight"||bJ=="aspectRatio"){be[bJ]=bK;ba()}}function bn(bJ,bK){if(be[bJ]){return be[bJ].apply(bK||by,Array.prototype.slice.call(arguments,2))}}if(be.droppable){av(document).bind("dragstart",function(bL,bM){var bJ=bL.target;var bN=av(bJ);if(!bN.parents(".fc").length){var bK=be.dropAccept;if(av.isFunction(bK)?bK.call(bJ,bN):bN.is(bK)){aT=bJ;a0.dragStart(aT,bL,bM)}}}).bind("dragstop",function(bJ,bK){if(aT){a0.dragStop(aT,bJ,bK);aT=null}})}}function U(aQ,aZ){var aY=this;aY.render=aO;aY.destroy=aU;aY.updateTitle=aS;aY.activateButton=aN;aY.deactivateButton=aW;aY.disableButton=aP;aY.enableButton=aT;var aR=av([]);var aV;function aO(){aV=aZ.theme?"ui":"fc";var a0=aZ.header;if(a0){aR=av("<table class='fc-header' style='width:100%'/>").append(av("<tr/>").append(aX("left")).append(aX("center")).append(aX("right")));return aR}}function aU(){aR.remove()}function aX(a0){var a2=av("<td class='fc-header-"+a0+"'/>");var a1=aZ.header[a0];if(a1){av.each(a1.split(" "),function(a4){if(a4>0){a2.append("<span class='fc-header-space'/>")}var a3;av.each(this.split(","),function(a7,a6){if(a6=="title"){a2.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(a3){a3.addClass(aV+"-corner-right")}a3=null}else{var a5;if(aQ[a6]){a5=aQ[a6]}else{if(ag[a6]){a5=function(){a8.removeClass(aV+"-state-hover");aQ.changeView(a6)}}}if(a5){var a9=aZ.theme?H(aZ.buttonIcons,a6):null;var ba=H(aZ.buttonText,a6);var a8=av("<span class='fc-button fc-button-"+a6+" "+aV+"-state-default'>"+(a9?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a9+"'/></span>":ba)+"</span>").click(function(){if(!a8.hasClass(aV+"-state-disabled")){a5()}}).mousedown(function(){a8.not("."+aV+"-state-active").not("."+aV+"-state-disabled").addClass(aV+"-state-down")}).mouseup(function(){a8.removeClass(aV+"-state-down")}).hover(function(){a8.not("."+aV+"-state-active").not("."+aV+"-state-disabled").addClass(aV+"-state-hover")},function(){a8.removeClass(aV+"-state-hover").removeClass(aV+"-state-down")}).appendTo(a2);aM(a8);if(!a3){a8.addClass(aV+"-corner-left")}a3=a8}}});if(a3){a3.addClass(aV+"-corner-right")}})}return a2}function aS(a0){aR.find("h2").html(a0)}function aN(a0){aR.find("span.fc-button-"+a0).addClass(aV+"-state-active")}function aW(a0){aR.find("span.fc-button-"+a0).removeClass(aV+"-state-active")}function aP(a0){aR.find("span.fc-button-"+a0).addClass(aV+"-state-disabled")}function aT(a0){aR.find("span.fc-button-"+a0).removeClass(aV+"-state-disabled")}}aD.sourceNormalizers=[];aD.sourceFetchers=[];var o={dataType:"json",cache:false};var X=1;function u(aT,a1){var a3=this;a3.isFetchNeeded=aV;a3.fetchEvents=a2;a3.addEventSource=aQ;a3.removeEventSource=aR;a3.updateEvent=a6;a3.renderEvent=aZ;a3.removeEvents=bi;a3.clientEvents=bc;a3.normalizeEvent=aY;var a5=a3.trigger;var aN=a3.getView;var a8=a3.reportEvents;var ba={events:[]};var aO=[ba];var bf,bb;var aP=0;var bg=0;var be=0;var a4=[];for(var bd=0;bd<a1.length;bd++){a7(a1[bd])}function aV(bk,bj){return !bf||bk<bf||bj>bb}function a2(bn,bk){bf=bn;bb=bk;a4=[];var bm=++aP;var bj=aO.length;bg=bj;for(var bl=0;bl<bj;bl++){aU(aO[bl],bm)}}function aU(bk,bj){a9(bk,function(bm){if(bj==aP){if(bm){if(aT.eventDataTransform){bm=av.map(bm,aT.eventDataTransform)}if(bk.eventDataTransform){bm=av.map(bm,bk.eventDataTransform)}for(var bl=0;bl<bm.length;bl++){bm[bl].source=bk;aY(bm[bl])}a4=a4.concat(bm)}bg--;if(!bg){a8(a4)}}})}function a9(bj,bt){var bo;var bs=aD.sourceFetchers;var bq;for(bo=0;bo<bs.length;bo++){bq=bs[bo](bj,bf,bb,bt);if(bq===true){return}else{if(typeof bq=="object"){a9(bq,bt);return}}}var bv=bj.events;if(bv){if(av.isFunction(bv)){aX();bv(P(bf),P(bb),function(bx){bt(bx);bh()})}else{if(av.isArray(bv)){bt(bv)}else{bt()}}}else{var bk=bj.url;if(bk){var bu=bj.success;var br=bj.error;var bl=bj.complete;var bw;if(av.isFunction(bj.data)){bw=bj.data()}else{bw=bj.data}var bn=av.extend({},bw||{});var bp=aK(bj.startParam,aT.startParam);var bm=aK(bj.endParam,aT.endParam);if(bp){bn[bp]=Math.round(+bf/1000)}if(bm){bn[bm]=Math.round(+bb/1000)}aX();av.ajax(av.extend({},o,bj,{data:bn,success:function(by){by=by||[];var bx=K(bu,this,arguments);if(av.isArray(bx)){by=bx}bt(by)},error:function(){K(br,this,arguments);bt()},complete:function(){K(bl,this,arguments);bh()}}))}else{bt()}}}function aQ(bj){bj=a7(bj);if(bj){bg++;aU(bj,aP)}}function a7(bj){if(av.isFunction(bj)||av.isArray(bj)){bj={events:bj}}else{if(typeof bj=="string"){bj={url:bj}}}if(typeof bj=="object"){a0(bj);aO.push(bj);return bj}}function aR(bj){aO=av.grep(aO,function(bk){return !aW(bk,bj)});a4=av.grep(a4,function(bk){return !aW(bk.source,bj)});a8(a4)}function a6(bo){var bm,bk=a4.length,bp,bj=aN().defaultEventEnd,bn=bo.start-bo._start,bl=bo.end?(bo.end-(bo._end||bj(bo))):0;for(bm=0;bm<bk;bm++){bp=a4[bm];if(bp._id==bo._id&&bp!=bo){bp.start=new Date(+bp.start+bn);if(bo.end){if(bp.end){bp.end=new Date(+bp.end+bl)}else{bp.end=new Date(+bj(bp)+bl)}}else{bp.end=null}bp.title=bo.title;bp.url=bo.url;bp.allDay=bo.allDay;bp.className=bo.className;bp.editable=bo.editable;bp.color=bo.color;bp.backgroundColor=bo.backgroundColor;bp.borderColor=bo.borderColor;bp.textColor=bo.textColor;aY(bp)}}aY(bo);a8(a4)}function aZ(bk,bj){aY(bk);if(!bk.source){if(bj){ba.events.push(bk);bk.source=ba}a4.push(bk)}a8(a4)}function bi(bk){if(!bk){a4=[];for(var bj=0;bj<aO.length;bj++){if(av.isArray(aO[bj].events)){aO[bj].events=[]}}}else{if(!av.isFunction(bk)){var bl=bk+"";bk=function(bm){return bm._id==bl}}a4=av.grep(a4,bk,true);for(var bj=0;bj<aO.length;bj++){if(av.isArray(aO[bj].events)){aO[bj].events=av.grep(aO[bj].events,bk,true)}}}a8(a4)}function bc(bj){if(av.isFunction(bj)){return av.grep(a4,bj)}else{if(bj){bj+="";return av.grep(a4,function(bk){return bk._id==bj})}}return a4}function aX(){if(!be++){a5("loading",null,true,aN())}}function bh(){if(!--be){a5("loading",null,false,aN())}}function aY(bk){var bl=bk.source||{};var bj=aK(bl.ignoreTimezone,aT.ignoreTimezone);bk._id=bk._id||(bk.id===x?"_fc"+X++:bk.id+"");if(bk.date){if(!bk.start){bk.start=bk.date}delete bk.date}bk._start=P(bk.start=ab(bk.start,bj));bk.end=ab(bk.end,bj);if(bk.end&&bk.end<=bk.start){bk.end=null}bk._end=bk.end?P(bk.end):null;if(bk.allDay===x){bk.allDay=aK(bl.allDayDefault,aT.allDayDefault)}if(bk.className){if(typeof bk.className=="string"){bk.className=bk.className.split(/\s+/)}}else{bk.className=[]}}function a0(bl){if(bl.className){if(typeof bl.className=="string"){bl.className=bl.className.split(/\s+/)}}else{bl.className=[]}var bk=aD.sourceNormalizers;for(var bj=0;bj<bk.length;bj++){bk[bj](bl)}}function aW(bk,bj){return bk&&bj&&aS(bk)==aS(bj)}function aS(bj){return((typeof bj=="object")?(bj.googleCalendarId||bj.events||bj.url):"")||bj}}aD.addDays=aF;aD.cloneDate=P;aD.parseDate=ab;aD.parseISO8601=p;aD.parseTime=aJ;aD.formatDate=E;aD.formatDates=l;var R=["sun","mon","tue","wed","thu","fri","sat"],ay=86400000,am=3600000,V=60000;function aj(aO,aP,aN){aO.setFullYear(aO.getFullYear()+aP);if(!aN){e(aO)}return aO}function q(aQ,aR,aP){if(+aQ){var aN=aQ.getMonth()+aR,aO=P(aQ);aO.setDate(1);aO.setMonth(aN);aQ.setMonth(aN);if(!aP){e(aQ)}while(aQ.getMonth()!=aO.getMonth()){aQ.setDate(aQ.getDate()+(aQ<aO?1:-1))}}return aQ}function aF(aQ,aR,aP){if(+aQ){var aN=aQ.getDate()+aR,aO=P(aQ);aO.setHours(9);aO.setDate(aN);aQ.setDate(aN);if(!aP){e(aQ)}aH(aQ,aO)}return aQ}function aH(aO,aN){if(+aO){while(aO.getDate()!=aN.getDate()){aO.setTime(+aO+(aO<aN?1:-1)*am)}}}function k(aN,aO){aN.setMinutes(aN.getMinutes()+aO);return aN}function e(aN){aN.setHours(0);aN.setMinutes(0);aN.setSeconds(0);aN.setMilliseconds(0);return aN}function P(aN,aO){if(aO){return e(new Date(+aN))}return new Date(+aN)}function g(){var aN=0,aO;do{aO=new Date(1970,aN++,1)}while(aO.getHours());return aO}function aC(aO,aN){return Math.round((P(aO,true)-P(aN,true))/ay)}function B(aO,aQ,aN,aP){if(aQ!==x&&aQ!=aO.getFullYear()){aO.setDate(1);aO.setMonth(0);aO.setFullYear(aQ)}if(aN!==x&&aN!=aO.getMonth()){aO.setDate(1);aO.setMonth(aN)}if(aP!==x){aO.setDate(aP)}}function ab(aO,aN){if(typeof aO=="object"){return aO}if(typeof aO=="number"){return new Date(aO*1000)}if(typeof aO=="string"){if(aO.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aO)*1000)}if(aN===x){aN=true}return p(aO,aN)||(aO?new Date(aO):null)}return null}function p(aR,aO){var aN=aR.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aN){return null}var aQ=new Date(aN[1],0,1);if(aO||!aN[13]){var aP=new Date(aN[1],0,1,9,0);if(aN[3]){aQ.setMonth(aN[3]-1);aP.setMonth(aN[3]-1)}if(aN[5]){aQ.setDate(aN[5]);aP.setDate(aN[5])}aH(aQ,aP);if(aN[7]){aQ.setHours(aN[7])}if(aN[8]){aQ.setMinutes(aN[8])}if(aN[10]){aQ.setSeconds(aN[10])}if(aN[12]){aQ.setMilliseconds(Number("0."+aN[12])*1000)}aH(aQ,aP)}else{aQ.setUTCFullYear(aN[1],aN[3]?aN[3]-1:0,aN[5]||1);aQ.setUTCHours(aN[7]||0,aN[8]||0,aN[10]||0,aN[12]?Number("0."+aN[12])*1000:0);if(aN[14]){var aS=Number(aN[16])*60+(aN[18]?Number(aN[18]):0);aS*=aN[15]=="-"?1:-1;aQ=new Date(+aQ+(aS*60*1000))}}return aQ}function aJ(aP){if(typeof aP=="number"){return aP*60}if(typeof aP=="object"){return aP.getHours()*60+aP.getMinutes()}var aN=aP.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aN){var aO=parseInt(aN[1],10);if(aN[3]){aO%=12;if(aN[3].toLowerCase().charAt(0)=="p"){aO+=12}}return aO*60+(aN[2]?parseInt(aN[2],10):0)}}function E(aO,aP,aN){return l(aO,null,aP,aN)}function l(aZ,aY,aX,a0){a0=a0||O;var aO=aZ,aQ=aY,aR,aS=aX.length,aU,aP,aW,aT="";for(aR=0;aR<aS;aR++){aU=aX.charAt(aR);if(aU=="'"){for(aP=aR+1;aP<aS;aP++){if(aX.charAt(aP)=="'"){if(aO){if(aP==aR+1){aT+="'"}else{aT+=aX.substring(aR+1,aP)}aR=aP}break}}}else{if(aU=="("){for(aP=aR+1;aP<aS;aP++){if(aX.charAt(aP)==")"){var aN=E(aO,aX.substring(aR+1,aP),a0);if(parseInt(aN.replace(/\D/,""),10)){aT+=aN}aR=aP;break}}}else{if(aU=="["){for(aP=aR+1;aP<aS;aP++){if(aX.charAt(aP)=="]"){var aV=aX.substring(aR+1,aP);var aN=E(aO,aV,a0);if(aN!=E(aQ,aV,a0)){aT+=aN}aR=aP;break}}}else{if(aU=="{"){aO=aY;aQ=aZ}else{if(aU=="}"){aO=aZ;aQ=aY}else{for(aP=aS;aP>aR;aP--){if(aW=aB[aX.substring(aR,aP)]){if(aO){aT+=aW(aO,a0)}aR=aP-1;break}}if(aP==aR){if(aO){aT+=aU}}}}}}}}return aT}var aB={s:function(aN){return aN.getSeconds()},ss:function(aN){return ac(aN.getSeconds())},m:function(aN){return aN.getMinutes()},mm:function(aN){return ac(aN.getMinutes())},h:function(aN){return aN.getHours()%12||12},hh:function(aN){return ac(aN.getHours()%12||12)},H:function(aN){return aN.getHours()},HH:function(aN){return ac(aN.getHours())},d:function(aN){return aN.getDate()},dd:function(aN){return ac(aN.getDate())},ddd:function(aO,aN){return aN.dayNamesShort[aO.getDay()]},dddd:function(aO,aN){return aN.dayNames[aO.getDay()]},M:function(aN){return aN.getMonth()+1},MM:function(aN){return ac(aN.getMonth()+1)},MMM:function(aO,aN){return aN.monthNamesShort[aO.getMonth()]},MMMM:function(aO,aN){return aN.monthNames[aO.getMonth()]},yy:function(aN){return(aN.getFullYear()+"").substring(2)},yyyy:function(aN){return aN.getFullYear()},t:function(aN){return aN.getHours()<12?"a":"p"},tt:function(aN){return aN.getHours()<12?"am":"pm"},T:function(aN){return aN.getHours()<12?"A":"P"},TT:function(aN){return aN.getHours()<12?"AM":"PM"},u:function(aN){return E(aN,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aO){var aN=aO.getDate();if(aN>10&&aN<20){return"th"}return["st","nd","rd"][aN%10-1]||"th"},w:function(aO,aN){return aN.weekNumberCalculation(aO)},W:function(aN){return y(aN)}};aD.dateFormatters=aB;function y(aN){var aO;var aP=new Date(aN.getTime());aP.setDate(aP.getDate()+4-(aP.getDay()||7));aO=aP.getTime();aP.setMonth(0);aP.setDate(1);return Math.floor(Math.round((aO-aP)/86400000)/7)+1}aD.applyAll=K;function ap(aN){if(aN.end){return t(aN.end,aN.allDay)}else{return aF(P(aN.start),1)}}function t(aN,aO){aN=P(aN);return aO||aN.getHours()||aN.getMinutes()?aF(aN,1):e(aN)}function w(aO,aN,aP){aO.unbind("mouseover").mouseover(function(aT){var aS=aT.target,aU,aR,aQ;while(aS!=this){aU=aS;aS=aS.parentNode}if((aR=aU._fci)!==x){aU._fci=x;aQ=aN[aR];aP(aQ.event,aQ.element,aQ);av(aT.target).trigger(aT)}aT.stopPropagation()})}function aw(aP,aQ,aN){for(var aO=0,aR;aO<aP.length;aO++){aR=av(aP[aO]);aR.width(Math.max(0,aQ-j(aR,aN)))}}function aa(aQ,aN,aO){for(var aP=0,aR;aP<aQ.length;aP++){aR=av(aQ[aP]);aR.height(Math.max(0,aN-I(aR,aO)))}}function j(aO,aN){return ai(aO)+s(aO)+(aN?ah(aO):0)}function ai(aN){return(parseFloat(av.css(aN[0],"paddingLeft",true))||0)+(parseFloat(av.css(aN[0],"paddingRight",true))||0)}function ah(aN){return(parseFloat(av.css(aN[0],"marginLeft",true))||0)+(parseFloat(av.css(aN[0],"marginRight",true))||0)}function s(aN){return(parseFloat(av.css(aN[0],"borderLeftWidth",true))||0)+(parseFloat(av.css(aN[0],"borderRightWidth",true))||0)}function I(aO,aN){return A(aO)+ar(aO)+(aN?m(aO):0)}function A(aN){return(parseFloat(av.css(aN[0],"paddingTop",true))||0)+(parseFloat(av.css(aN[0],"paddingBottom",true))||0)}function m(aN){return(parseFloat(av.css(aN[0],"marginTop",true))||0)+(parseFloat(av.css(aN[0],"marginBottom",true))||0)}function ar(aN){return(parseFloat(av.css(aN[0],"borderTopWidth",true))||0)+(parseFloat(av.css(aN[0],"borderBottomWidth",true))||0)}function at(){}function a(aO,aN){return aO-aN}function au(aN){return Math.max.apply(Math,aN)}function ac(aN){return(aN<10?"0":"")+aN}function H(aR,aN){if(aR[aN]!==x){return aR[aN]}var aQ=aN.split(/(?=[A-Z])/),aP=aQ.length-1,aO;for(;aP>=0;aP--){aO=aR[aQ[aP].toLowerCase()];if(aO!==x){return aO}}return aR[""]}function aI(aN){return aN.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aM(aN){aN.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function f(aN){aN.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function M(aN,aO){aN.each(function(aP,aQ){aQ.className=aQ.className.replace(/^fc-\w*/,"fc-"+R[aO.getDay()])})}function S(aO,aP){var aN=aO.source||{};var aU=aO.color;var aS=aN.color;var aR=aP("eventColor");var aV=aO.backgroundColor||aU||aN.backgroundColor||aS||aP("eventBackgroundColor")||aR;var aQ=aO.borderColor||aU||aN.borderColor||aS||aP("eventBorderColor")||aR;var aW=aO.textColor||aN.textColor||aP("eventTextColor");var aT=[];if(aV){aT.push("background-color:"+aV)}if(aQ){aT.push("border-color:"+aQ)}if(aW){aT.push("color:"+aW)}return aT.join(";")}function K(aQ,aR,aO){if(av.isFunction(aQ)){aQ=[aQ]}if(aQ){var aP;var aN;for(aP=0;aP<aQ.length;aP++){aN=aQ[aP].apply(aR,aO)||aN}return aN}}function aK(){for(var aN=0;aN<arguments.length;aN++){if(arguments[aN]!==x){return arguments[aN]}}}ag.month=ae;function ae(aS,aR){var aV=this;aV.render=aN;C.call(aV,aS,aR,"month");var aO=aV.opt;var aP=aV.renderBasic;var aT=aV.skipHiddenDays;var aQ=aV.getCellsPerWeek;var aU=aR.formatDate;function aN(aY,a3){if(a3){q(aY,a3);aY.setDate(1)}var aW=aO("firstDay");var aX=P(aY,true);aX.setDate(1);var aZ=q(P(aX),1);var a4=P(aX);aF(a4,-((a4.getDay()-aW+7)%7));aT(a4);var a0=P(aZ);aF(a0,(7-a0.getDay()+aW)%7);aT(a0,-1,true);var a2=aQ();var a1=Math.round(aC(a0,a4)/7);if(aO("weekMode")=="fixed"){aF(a0,(6-a1)*7);a1=6}aV.title=aU(aX,aO("titleFormat"));aV.start=aX;aV.end=aZ;aV.visStart=a4;aV.visEnd=a0;aP(a1,a2,true)}}ag.basicWeek=aE;function aE(aS,aR){var aV=this;aV.render=aN;C.call(aV,aS,aR,"basicWeek");var aO=aV.opt;var aP=aV.renderBasic;var aU=aV.skipHiddenDays;var aQ=aV.getCellsPerWeek;var aT=aR.formatDates;function aN(a0,a2){if(a2){aF(a0,a2*7)}var a1=aF(P(a0),-((a0.getDay()-aO("firstDay")+7)%7));var aY=aF(P(a1),7);var aX=P(a1);aU(aX);var aW=P(aY);aU(aW,-1,true);var aZ=aQ();aV.start=a1;aV.end=aY;aV.visStart=aX;aV.visEnd=aW;aV.title=aT(aX,aF(P(aW),-1),aO("titleFormat"));aP(1,aZ,false)}}ag.basicDay=L;function L(aR,aU){var aQ=this;aQ.render=aS;C.call(aQ,aR,aU,"basicDay");var aP=aQ.opt;var aN=aQ.renderBasic;var aO=aQ.skipHiddenDays;var aT=aU.formatDate;function aS(aW,aY){if(aY){aF(aW,aY)}aO(aW,aY<0?-1:1);var aX=P(aW,true);var aV=aF(P(aX),1);aQ.title=aT(aW,aP("titleFormat"));aQ.start=aQ.visStart=aX;aQ.end=aQ.visEnd=aV;aN(1,1,false)}}ak({weekMode:"fixed"});function C(a8,bz,a0){var by=this;by.renderBasic=bs;by.setHeight=bw;by.setWidth=bH;by.renderDayOverlay=bo;by.defaultSelectionEnd=bn;by.renderSelection=bA;by.clearSelection=aN;by.reportDayClick=a6;by.dragStart=aS;by.dragStop=a1;by.defaultEventEnd=bM;by.getHoverListener=function(){return aT};by.colLeft=bO;by.colRight=bb;by.colContentLeft=bv;by.colContentRight=bt;by.getIsCellAllDay=function(){return true};by.allDayRow=a5;by.getRowCnt=function(){return bf};by.getColCnt=function(){return aV};by.getColWidth=function(){return bk};by.getDaySegmentContainer=function(){return a4};aG.call(by,a8,bz,a0);c.call(by);ao.call(by);an.call(by);var bd=by.opt;var bp=by.trigger;var bK=by.renderOverlay;var aZ=by.clearOverlays;var bu=by.daySelectionMousedown;var aO=by.cellToDate;var bD=by.dateToCell;var br=by.rangeToSegments;var bx=bz.formatDate;var be;var a7;var a2;var bi;var aY;var a9;var bl;var bj;var aQ;var a4;var bL;var bN;var bk;var a3;var bf,aV;var ba;var bB;var aT;var bE;var bF;var bP;var aW;var bc;var bC;var bm;aM(a8.addClass("fc-grid"));function bs(bQ,bR,bS){bf=bQ;aV=bR;ba=bS;bI();if(!bi){aR()}bh()}function bI(){bP=bd("theme")?"ui":"fc";aW=bd("columnFormat");bc=bd("weekNumbers");bC=bd("weekNumberTitle");if(bd("weekNumberCalculation")!="iso"){bm="w"}else{bm="W"}}function aR(){a4=av("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a8)}function bh(){var bQ=bq();if(be){be.remove()}be=av(bQ).appendTo(a8);a7=be.find("thead");a2=a7.find(".fc-day-header");bi=be.find("tbody");aY=bi.find("tr");a9=bi.find(".fc-day");bl=aY.find("td:first-child");bj=aY.eq(0).find(".fc-day > div");aQ=aY.eq(0).find(".fc-day-content > div");f(a7.add(a7.find("tr")));f(aY);aY.eq(0).addClass("fc-first");aY.filter(":last").addClass("fc-last");a9.each(function(bS,bT){var bR=aO(Math.floor(bS/aV),bS%aV);bp("dayRender",by,bR,av(bT))});aU(a9)}function bq(){var bQ="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+aP()+bg()+"</table>";return bQ}function aP(){var bT=bP+"-widget-header";var bS="";var bR;var bQ;bS+="<thead><tr>";if(bc){bS+="<th class='fc-week-number "+bT+"'>"+aI(bC)+"</th>"}for(bR=0;bR<aV;bR++){bQ=aO(0,bR);bS+="<th class='fc-day-header fc-"+R[bQ.getDay()]+" "+bT+"'>"+aI(bx(bQ,aW))+"</th>"}bS+="</tr></thead>";return bS}function bg(){var bS=bP+"-widget-content";var bT="";var bU;var bR;var bQ;bT+="<tbody>";for(bU=0;bU<bf;bU++){bT+="<tr class='fc-week'>";if(bc){bQ=aO(bU,0);bT+="<td class='fc-week-number "+bS+"'><div>"+aI(bx(bQ,bm))+"</div></td>"}for(bR=0;bR<aV;bR++){bQ=aO(bU,bR);bT+=aX(bQ)}bT+="</tr>"}bT+="</tbody>";return bT}function aX(bS){var bR=bP+"-widget-content";var bU=by.start.getMonth();var bQ=e(new Date());var bT="";var bV=["fc-day","fc-"+R[bS.getDay()],bR];if(bS.getMonth()!=bU){bV.push("fc-other-month")}if(+bS==+bQ){bV.push("fc-today",bP+"-state-highlight")}else{if(bS<bQ){bV.push("fc-past")}else{bV.push("fc-future")}}bT+="<td class='"+bV.join(" ")+"' data-date='"+bx(bS,"yyyy-MM-dd")+"'><div>";if(ba){bT+="<div class='fc-day-number'>"+bS.getDate()+"</div>"}bT+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";return bT}function bw(bR){bN=bR;var bU=bN-a7.height();var bT;var bS;var bQ;if(bd("weekMode")=="variable"){bT=bS=Math.floor(bU/(bf==1?2:6))}else{bT=Math.floor(bU/bf);bS=bU-bT*(bf-1)}bl.each(function(bV,bW){if(bV<bf){bQ=av(bW);bQ.find("> div").css("min-height",(bV==bf-1?bS:bT)-I(bQ))}})}function bH(bQ){bL=bQ;bE.clear();bF.clear();a3=0;if(bc){a3=a7.find("th.fc-week-number").outerWidth()}bk=Math.floor((bL-a3)/aV);aw(a2.slice(0,-1),bk)}function aU(bQ){bQ.click(bJ).mousedown(bu)}function bJ(bR){if(!bd("selectable")){var bQ=p(av(this).data("date"));bp("dayClick",this,bQ,true,bR)}}function bo(bU,bV,bQ){if(bQ){bB.build()}var bR=br(bU,bV);for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];aU(bG(bT.row,bT.leftCol,bT.row,bT.rightCol))}}function bG(bT,bU,bR,bS){var bQ=bB.rect(bT,bU,bR,bS,a8);return bK(bQ,a8)}function bn(bQ,bR){return P(bQ)}function bA(bQ,bS,bR){bo(bQ,aF(P(bS),1),true)}function aN(){aZ()}function a6(bS,bU,bT){var bQ=bD(bS);var bR=a9[bQ.row*aV+bQ.col];bp("dayClick",bR,bS,bU,bT)}function aS(bS,bQ,bR){aT.start(function(bT){aZ();if(bT){bG(bT.row,bT.col,bT.row,bT.col)}},bQ)}function a1(bU,bR,bS){var bQ=aT.stop();aZ();if(bQ){var bT=aO(bQ);bp("drop",bU,bT,true,bR,bS)}}function bM(bQ){return P(bQ.start)}bB=new Q(function(bQ,bT){var bS,bU,bR;a2.each(function(bW,bV){bS=av(bV);bU=bS.offset().left;if(bW){bR[1]=bU}bR=[bU];bT[bW]=bR});bR[1]=bU+bS.outerWidth();aY.each(function(bW,bV){if(bW<bf){bS=av(bV);bU=bS.offset().top;if(bW){bR[1]=bU}bR=[bU];bQ[bW]=bR}});bR[1]=bU+bS.outerHeight()});aT=new aq(bB);bE=new n(function(bQ){return bj.eq(bQ)});bF=new n(function(bQ){return aQ.eq(bQ)});function bO(bQ){return bE.left(bQ)}function bb(bQ){return bE.right(bQ)}function bv(bQ){return bF.left(bQ)}function bt(bQ){return bF.right(bQ)}function a5(bQ){return aY.eq(bQ)}}function an(){var aO=this;aO.renderEvents=aN;aO.clearEvents=aP;Z.call(aO);function aN(aR,aQ){aO.renderDayEvents(aR,aQ)}function aP(){aO.getDaySegmentContainer().empty()}}ag.agendaWeek=h;function h(aS,aR){var aV=this;aV.render=aN;J.call(aV,aS,aR,"agendaWeek");var aO=aV.opt;var aP=aV.renderAgenda;var aU=aV.skipHiddenDays;var aQ=aV.getCellsPerWeek;var aT=aR.formatDates;function aN(a0,a2){if(a2){aF(a0,a2*7)}var a1=aF(P(a0),-((a0.getDay()-aO("firstDay")+7)%7));var aY=aF(P(a1),7);var aX=P(a1);aU(aX);var aW=P(aY);aU(aW,-1,true);var aZ=aQ();aV.title=aT(aX,aF(P(aW),-1),aO("titleFormat"));aV.start=a1;aV.end=aY;aV.visStart=aX;aV.visEnd=aW;aP(aZ)}}ag.agendaDay=az;function az(aR,aU){var aQ=this;aQ.render=aS;J.call(aQ,aR,aU,"agendaDay");var aP=aQ.opt;var aN=aQ.renderAgenda;var aO=aQ.skipHiddenDays;var aT=aU.formatDate;function aS(aW,aY){if(aY){aF(aW,aY)}aO(aW,aY<0?-1:1);var aX=P(aW,true);var aV=aF(P(aX),1);aQ.title=aT(aW,aP("titleFormat"));aQ.start=aQ.visStart=aX;aQ.end=aQ.visEnd=aV;aN(1)}}ak({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:true});function J(cc,a3,bg){var bd=this;bd.renderAgenda=aZ;bd.setWidth=bp;bd.setHeight=bl;bd.afterRender=bV;bd.defaultEventEnd=bU;bd.timePosition=cf;bd.getIsCellAllDay=bw;bd.allDayRow=bD;bd.getCoordinateGrid=function(){return bI};bd.getHoverListener=function(){return cb};bd.colLeft=b6;bd.colRight=bN;bd.colContentLeft=cg;bd.colContentRight=aV;bd.getDaySegmentContainer=function(){return a8};bd.getSlotSegmentContainer=function(){return aT};bd.getMinMinute=function(){return bk};bd.getMaxMinute=function(){return aP};bd.getSlotContainer=function(){return a6};bd.getRowCnt=function(){return 1};bd.getColCnt=function(){return bG};bd.getColWidth=function(){return aW};bd.getSnapHeight=function(){return b8};bd.getSnapMinutes=function(){return bt};bd.defaultSelectionEnd=bo;bd.renderDayOverlay=aR;bd.renderSelection=b4;bd.clearSelection=bZ;bd.reportDayClick=ba;bd.dragStart=aX;bd.dragStop=cd;aG.call(bd,cc,a3,bg);c.call(bd);ao.call(bd);W.call(bd);var bB=bd.opt;var bE=bd.trigger;var bs=bd.renderOverlay;var aQ=bd.clearOverlays;var bu=bd.reportSelection;var b2=bd.unselect;var bz=bd.daySelectionMousedown;var a5=bd.slotSegHtml;var bb=bd.cellToDate;var aY=bd.dateToCell;var bi=bd.rangeToSegments;var a9=a3.formatDate;var bQ;var b9;var bX;var bW;var bf;var aS;var aN;var bT;var bM;var ce;var a8;var ca;var b1;var bq;var a6;var aT;var a0;var aU;var bx;var bK;var bm;var aW;var bA;var bH;var bt;var a4;var b8;var bG;var bL;var bI;var cb;var bF;var by;var bh={};var br;var aO;var bk,aP;var a2;var bR;var bC;var bv;aM(cc.addClass("fc-agenda"));function aZ(ch){bG=ch;bJ();if(!bQ){be()}else{bP()}}function bJ(){br=bB("theme")?"ui":"fc";aO=bB("isRTL");bk=aJ(bB("minTime"));aP=aJ(bB("maxTime"));a2=bB("columnFormat");bR=bB("weekNumbers");bC=bB("weekNumberTitle");if(bB("weekNumberCalculation")!="iso"){bv="w"}else{bv="W"}bt=bB("snapMinutes")||bB("slotMinutes")}function be(){var cm=br+"-widget-header";var ch=br+"-widget-content";var cl;var co;var ck;var cn;var cj;var ci=bB("slotMinutes")%15==0;bP();ce=av("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(cc);if(bB("allDaySlot")){a8=av("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ce);cl="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cm+" fc-agenda-axis'>"+bB("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cm+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ca=av(cl).appendTo(ce);b1=ca.find("tr");bn(b1.find("td"));ce.append("<div class='fc-agenda-divider "+cm+"'><div class='fc-agenda-divider-inner'/></div>")}else{a8=av([])}bq=av("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ce);a6=av("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bq);aT=av("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a6);cl="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";co=g();cn=k(P(co),aP);k(co,bk);bL=0;for(ck=0;co<cn;ck++){cj=co.getMinutes();cl+="<tr class='fc-slot"+ck+" "+(!cj?"":"fc-minor")+"'><th class='fc-agenda-axis "+cm+"'>"+((!ci||!cj)?a9(co,bB("axisFormat")):"&nbsp;")+"</th><td class='"+ch+"'><div style='position:relative'>&nbsp;</div></td></tr>";k(co,bB("slotMinutes"));bL++}cl+="</tbody></table>";a0=av(cl).appendTo(a6);b0(a0.find("td"))}function bP(){var ch=b7();if(bQ){bQ.remove()}bQ=av(ch).appendTo(cc);b9=bQ.find("thead");bX=b9.find("th").slice(1,-1);bW=bQ.find("tbody");bf=bW.find("td").slice(0,-1);aS=bf.find("> div");aN=bf.find(".fc-day-content > div");bT=bf.eq(0);bM=aS.eq(0);f(b9.add(b9.find("tr")));f(bW.add(bW.find("tr")))}function b7(){var ch="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+b5()+bY()+"</table>";return ch}function b5(){var ck=br+"-widget-header";var ci;var cj="";var cl;var ch;cj+="<thead><tr>";if(bR){ci=bb(0,0);cl=a9(ci,bv);if(aO){cl+=bC}else{cl=bC+cl}cj+="<th class='fc-agenda-axis fc-week-number "+ck+"'>"+aI(cl)+"</th>"}else{cj+="<th class='fc-agenda-axis "+ck+"'>&nbsp;</th>"}for(ch=0;ch<bG;ch++){ci=bb(0,ch);cj+="<th class='fc-"+R[ci.getDay()]+" fc-col"+ch+" "+ck+"'>"+aI(a9(ci,a2))+"</th>"}cj+="<th class='fc-agenda-gutter "+ck+"'>&nbsp;</th></tr></thead>";return cj}function bY(){var cj=br+"-widget-header";var ck=br+"-widget-content";var cm;var co=e(new Date());var cl;var cp;var ci;var ch;var cn="";cn+="<tbody><tr><th class='fc-agenda-axis "+cj+"'>&nbsp;</th>";cp="";for(cl=0;cl<bG;cl++){cm=bb(0,cl);ch=["fc-col"+cl,"fc-"+R[cm.getDay()],ck];if(+cm==+co){ch.push(br+"-state-highlight","fc-today")}else{if(cm<co){ch.push("fc-past")}else{ch.push("fc-future")}}ci="<td class='"+ch.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";cp+=ci}cn+=cp;cn+="<td class='fc-agenda-gutter "+ck+"'>&nbsp;</td></tr></tbody>";return cn}function bl(ch){if(ch===x){ch=bK}bK=ch;bh={};var cj=bW.position().top;var ci=bq.position().top;var ck=Math.min(ch-cj,a0.height()+ci+1);bM.height(ck-I(bT));ce.css("top",cj);bq.height(ck-ci-1);bH=a0.find("tr:first").height()+1;a4=bB("slotMinutes")/bt;b8=bH/a4}function bp(ck){bx=ck;bF.clear();by.clear();var ch=b9.find("th:first");if(ca){ch=ch.add(ca.find("th:first"))}ch=ch.add(a0.find("th:first"));bm=0;aw(ch.width("").each(function(cl,cm){bm=Math.max(bm,av(cm).outerWidth())}),bm);var ci=bQ.find(".fc-agenda-gutter");if(ca){ci=ci.add(ca.find("th.fc-agenda-gutter"))}var cj=bq[0].clientWidth;bA=bq.width()-cj;if(bA){aw(ci,bA);ci.show().prev().removeClass("fc-last")}else{ci.hide().prev().addClass("fc-last")}aW=Math.floor((cj-bm)/bG);aw(bX.slice(0,-1),aW)}function bj(){var ck=g();var ci=P(ck);ci.setHours(bB("firstHour"));var cj=cf(ck,ci)+1;function ch(){bq.scrollTop(cj)}ch();setTimeout(ch,0)}function bV(){bj()}function bn(ch){ch.click(bO).mousedown(bz)}function b0(ch){ch.click(bO).mousedown(a1)}function bO(cl){if(!bB("selectable")){var cj=Math.min(bG-1,Math.floor((cl.pageX-bQ.offset().left-bm)/aW));var ci=bb(0,cj);var cm=this.parentNode.className.match(/fc-slot(\d+)/);if(cm){var ck=parseInt(cm[1])*bB("slotMinutes");var ch=Math.floor(ck/60);ci.setHours(ch);ci.setMinutes(ck%60+bk);bE("dayClick",bf[cj],ci,false,cl)}else{bE("dayClick",bf[cj],ci,true,cl)}}}function aR(cl,cm,ch){if(ch){bI.build()}var ci=bi(cl,cm);for(var cj=0;cj<ci.length;cj++){var ck=ci[cj];bn(a7(ck.row,ck.leftCol,ck.row,ck.rightCol))}}function a7(ck,cl,ci,cj){var ch=bI.rect(ck,cl,ci,cj,ce);return bs(ch,ce)}function bc(cl,cq){for(var cj=0;cj<bG;cj++){var cm=bb(0,cj);var ci=aF(P(cm),1);var ck=new Date(Math.max(cm,cl));var cp=new Date(Math.min(ci,cq));if(ck<cp){var co=bI.rect(0,cj,0,cj,a6);var cn=cf(cm,ck);var ch=cf(cm,cp);co.top=cn;co.height=ch-cn;b0(bs(co,a6))}}}bI=new Q(function(cp,cn){var cl,ci,ch;bX.each(function(cs,cr){cl=av(cr);ci=cl.offset().left;if(cs){ch[1]=ci}ch=[ci];cn[cs]=ch});ch[1]=ci+cl.outerWidth();if(bB("allDaySlot")){cl=b1;ci=cl.offset().top;cp[0]=[ci,ci+cl.outerHeight()]}var co=a6.offset().top;var cq=bq.offset().top;var ck=cq+bq.outerHeight();function cm(cr){return Math.max(cq,Math.min(ck,cr))}for(var cj=0;cj<bL*a4;cj++){cp.push([cm(co+b8*cj),cm(co+b8*(cj+1))])}});cb=new aq(bI);bF=new n(function(ch){return aS.eq(ch)});by=new n(function(ch){return aN.eq(ch)});function b6(ch){return bF.left(ch)}function cg(ch){return by.left(ch)}function bN(ch){return bF.right(ch)}function aV(ch){return by.right(ch)}function bw(ch){return bB("allDaySlot")&&!ch.row}function bS(ch){var cj=bb(0,ch.col);var ci=ch.row;if(bB("allDaySlot")){ci--}if(ci>=0){k(cj,bk+ci*bt)}return cj}function cf(ci,cm){ci=P(ci,true);if(cm<k(P(ci),bk)){return 0}if(cm>=k(P(ci),aP)){return a0.height()}var ch=bB("slotMinutes"),cl=cm.getHours()*60+cm.getMinutes()-bk,ck=Math.floor(cl/ch),cj=bh[ck];if(cj===x){cj=bh[ck]=a0.find("tr").eq(ck).find("td div")[0].offsetTop}return Math.max(0,Math.round(cj-1+bH*((cl%ch)/ch)))}function bD(ch){return b1}function bU(ch){var ci=P(ch.start);if(ch.allDay){return ci}return k(ci,bB("defaultEventMinutes"))}function bo(ch,ci){if(ci){return P(ch)}return k(P(ch),bB("slotMinutes"))}function b4(ch,cj,ci){if(ci){if(bB("allDaySlot")){aR(ch,aF(P(cj),1),true)}}else{b3(ch,cj)}}function b3(ch,cn){var cl=bB("selectHelper");bI.build();if(cl){var cj=aY(ch).col;if(cj>=0&&cj<bG){var ck=bI.rect(0,cj,0,cj,a6);var cm=cf(ch,ch);var ci=cf(ch,cn);if(ci>cm){ck.top=cm;ck.height=ci-cm;ck.left+=2;ck.width-=5;if(av.isFunction(cl)){var co=cl(ch,cn);if(co){ck.position="absolute";aU=av(co).css(ck).appendTo(a6)}}else{ck.isStart=true;ck.isEnd=true;aU=av(a5({title:"",start:ch,end:cn,className:["fc-select-helper"],editable:false},ck));aU.css("opacity",bB("dragOpacity"))}if(aU){b0(aU);a6.append(aU);aw(aU,ck.width,true);aa(aU,ck.height,true)}}}}else{bc(ch,cn)}}function bZ(){aQ();if(aU){aU.remove();aU=null}}function a1(ch){if(ch.which==1&&bB("selectable")){b2(ch);var ci;cb.start(function(ck,cj){bZ();if(ck&&ck.col==cj.col&&!bw(ck)){var cm=bS(cj);var cl=bS(ck);ci=[cm,k(P(cm),bt),cl,k(P(cl),bt)].sort(a);b3(ci[0],ci[3])}else{ci=null}},ch);av(document).one("mouseup",function(cj){cb.stop();if(ci){if(+ci[0]==+ci[1]){ba(ci[0],false,cj)}bu(ci[0],ci[3],false,cj)}})}}function ba(ch,cj,ci){bE("dayClick",bf[aY(ch).col],ch,cj,ci)}function aX(cj,ch,ci){cb.start(function(ck){aQ();if(ck){if(bw(ck)){a7(ck.row,ck.col,ck.row,ck.col)}else{var cm=bS(ck);var cl=k(P(cm),bB("defaultEventMinutes"));bc(cm,cl)}}},ch)}function cd(ck,ci,cj){var ch=cb.stop();aQ();if(ch){bE("drop",ck,bS(ch),bw(ch),ci,cj)}}}function W(){var bm=this;bm.renderEvents=aS;bm.clearEvents=a7;bm.slotSegHtml=a8;Z.call(bm);var a2=bm.opt;var a9=bm.trigger;var aQ=bm.isEventDraggable;var br=bm.isEventResizable;var bs=bm.eventEnd;var bc=bm.eventElementHandlers;var bi=bm.setHeight;var aR=bm.getDaySegmentContainer;var bu=bm.getSlotSegmentContainer;var aP=bm.getHoverListener;var aO=bm.getMaxMinute;var bd=bm.getMinMinute;var aV=bm.timePosition;var bf=bm.getIsCellAllDay;var bh=bm.colContentLeft;var be=bm.colContentRight;var aN=bm.cellToDate;var bj=bm.getColCnt;var a3=bm.getColWidth;var bl=bm.getSnapHeight;var aX=bm.getSnapMinutes;var aZ=bm.getSlotContainer;var a0=bm.reportEventElement;var aT=bm.showEvents;var a1=bm.hideEvents;var bp=bm.eventDrop;var a5=bm.eventResize;var ba=bm.renderDayOverlay;var aU=bm.clearOverlays;var bv=bm.renderDayEvents;var bn=bm.calendar;var bk=bn.formatDate;var a4=bn.formatDates;bm.draggableDayEvent=aY;function aS(bA,by){var bz,bx=bA.length,bB=[],bw=[];for(bz=0;bz<bx;bz++){if(bA[bz].allDay){bB.push(bA[bz])}else{bw.push(bA[bz])}}if(a2("allDaySlot")){bv(bB,by);bi()}aW(a6(bw),by)}function a7(){aR().empty();bu().empty()}function a6(bG){var bE=bj(),bC=bd(),bx=aO(),bD,bA=av.map(bG,bt),bB,bz,by,bF,bw=[];for(bB=0;bB<bE;bB++){bD=aN(0,bB);k(bD,bC);bF=bg(bG,bA,bD,k(P(bD),bx-bC));bF=al(bF);for(bz=0;bz<bF.length;bz++){by=bF[bz];by.col=bB;bw.push(by)}}return bw}function bg(bI,bC,by,bB){var bz=[],bD,bF=bI.length,bx,bG,bE,bH,bJ,bw,bA;for(bD=0;bD<bF;bD++){bx=bI[bD];bG=bx.start;bE=bC[bD];if(bE>by&&bG<bB){if(bG<by){bH=P(by);bw=false}else{bH=bG;bw=true}if(bE>bB){bJ=P(bB);bA=false}else{bJ=bE;bA=true}bz.push({event:bx,start:bH,end:bJ,isStart:bw,isEnd:bA})}}return bz.sort(z)}function bt(bw){if(bw.end){return P(bw.end)}else{return k(P(bw.start),a2("defaultEventMinutes"))}}function aW(bH,bI){var bM,bP=bH.length,bO,bK,bE,bA,bB,bD,by,bJ,bw,bQ,bC="",bR,bN,bz,bG,bF,bL=bu(),bx=a2("isRTL");for(bM=0;bM<bP;bM++){bO=bH[bM];bK=bO.event;bE=aV(bO.start,bO.start);bA=aV(bO.start,bO.end);bB=bh(bO.col);bD=be(bO.col);by=bD-bB;bD-=by*0.025;by=bD-bB;bJ=by*(bO.forwardCoord-bO.backwardCoord);if(a2("slotEventOverlap")){bJ=Math.max((bJ-(20/2))*2,bJ)}if(bx){bQ=bD-bO.backwardCoord*by;bw=bQ-bJ}else{bw=bB+bO.backwardCoord*by;bQ=bw+bJ}bw=Math.max(bw,bB);bQ=Math.min(bQ,bD);bJ=bQ-bw;bO.top=bE;bO.left=bw;bO.outerWidth=bJ;bO.outerHeight=bA-bE;bC+=a8(bK,bO)}bL[0].innerHTML=bC;bR=bL.children();for(bM=0;bM<bP;bM++){bO=bH[bM];bK=bO.event;bN=av(bR[bM]);bz=a9("eventRender",bK,bK,bN);if(bz===false){bN.remove()}else{if(bz&&bz!==true){bN.remove();bN=av(bz).css({position:"absolute",top:bO.top,left:bO.left}).appendTo(bL)}bO.element=bN;if(bK._id===bI){bo(bK,bN,bO)}else{bN[0]._fci=bM}a0(bK,bN)}}w(bL,bH,bo);for(bM=0;bM<bP;bM++){bO=bH[bM];if(bN=bO.element){bO.vsides=I(bN,true);bO.hsides=j(bN,true);bG=bN.find(".fc-event-title");if(bG.length){bO.contentTop=bG[0].offsetTop}}}for(bM=0;bM<bP;bM++){bO=bH[bM];if(bN=bO.element){bN[0].style.width=Math.max(0,bO.outerWidth-bO.hsides)+"px";bF=Math.max(0,bO.outerHeight-bO.vsides);bN[0].style.height=bF+"px";bK=bO.event;if(bO.contentTop!==x&&bF-bO.contentTop<10){bN.find("div.fc-event-time").text(bk(bK.start,a2("timeFormat"))+" - "+bK.title);bN.find("div.fc-event-title").remove()}a9("eventAfterRender",bK,bK,bN)}}}function a8(bB,bw){var bA="<";var by=bB.url;var bx=S(bB,a2);var bz=["fc-event","fc-event-vert"];if(aQ(bB)){bz.push("fc-event-draggable")}if(bw.isStart){bz.push("fc-event-start")}if(bw.isEnd){bz.push("fc-event-end")}bz=bz.concat(bB.className);if(bB.source){bz=bz.concat(bB.source.className||[])}if(by){bA+="a href='"+aI(bB.url)+"'"}else{bA+="div"}bA+=" class='"+bz.join(" ")+"' style='position:absolute;top:"+bw.top+"px;left:"+bw.left+"px;"+bx+"'><div class='fc-event-inner'><div class='fc-event-time'>"+aI(a4(bB.start,bB.end,a2("timeFormat")))+"</div><div class='fc-event-title'>"+aI(bB.title||"")+"</div></div><div class='fc-event-bg'></div>";if(bw.isEnd&&br(bB)){bA+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bA+="</"+(by?"a":"div")+">";return bA}function bo(by,bx,bw){var bz=bx.find("div.fc-event-time");if(aQ(by)){bb(by,bx,bz)}if(bw.isEnd&&br(by)){bq(by,bx,bz)}bc(by,bx)}function aY(bx,bG,bB){var bw=bB.isStart;var bH;var bF;var bJ=true;var bA;var bz=aP();var bC=a3();var by=bl();var bI=aX();var bE=bd();bG.draggable({opacity:a2("dragOpacity","month"),revertDuration:a2("dragRevertDuration"),start:function(bK,bL){a9("eventDragStart",bG,bx,bK,bL);a1(bx,bG);bH=bG.width();bz.start(function(bN,bM){aU();if(bN){bF=false;var bP=aN(0,bM.col);var bO=aN(0,bN.col);bA=aC(bO,bP);if(!bN.row){ba(aF(P(bx.start),bA),aF(ap(bx),bA));bD()}else{if(bw){if(bJ){bG.width(bC-10);aa(bG,by*Math.round((bx.end?((bx.end-bx.start)/V):a2("defaultEventMinutes"))/bI));bG.draggable("option","grid",[bC,1]);bJ=false}}else{bF=true}}bF=bF||(bJ&&!bA)}else{bD();bF=true}bG.draggable("option","revert",bF)},bK,"drag")},stop:function(bL,bM){bz.stop();aU();a9("eventDragStop",bG,bx,bL,bM);if(bF){bD();bG.css("filter","");aT(bx,bG)}else{var bK=0;if(!bJ){bK=Math.round((bG.offset().top-aZ().offset().top)/by)*bI+bE-(bx.start.getHours()*60+bx.start.getMinutes())}bp(this,bx,bA,bK,bJ,bL,bM)}}});function bD(){if(!bJ){bG.width(bH).height("").draggable("option","grid",null);bJ=true}}}function bb(bJ,bL,by){var bE=bm.getCoordinateGrid();var bH=bj();var bQ=a3();var bI=bl();var bD=aX();var bP;var bN;var bO,bG;var bw,bz;var bx,bC;var bA;var bK,bB;bL.draggable({scroll:false,grid:[bQ,bI],axis:bH==1?"y":false,opacity:a2("dragOpacity"),revertDuration:a2("dragRevertDuration"),start:function(bR,bS){a9("eventDragStart",bL,bJ,bR,bS);a1(bJ,bL);bE.build();bP=bL.position();bN=bE.cell(bR.pageX,bR.pageY);bO=bG=true;bw=bz=bf(bN);bx=bC=0;bA=0;bK=bB=0},drag:function(bV,bW){var bR=bE.cell(bV.pageX,bV.pageY);bO=!!bR;if(bO){bw=bf(bR);bx=Math.round((bW.position.left-bP.left)/bQ);if(bx!=bC){var bU=aN(0,bN.col);var bT=bN.col+bx;bT=Math.max(0,bT);bT=Math.min(bH-1,bT);var bS=aN(0,bT);bA=aC(bS,bU)}if(!bw){bK=Math.round((bW.position.top-bP.top)/bI)*bD}}if(bO!=bG||bw!=bz||bx!=bC||bK!=bB){bM();bG=bO;bz=bw;bC=bx;bB=bK}bL.draggable("option","revert",!bO)},stop:function(bR,bS){aU();a9("eventDragStop",bL,bJ,bR,bS);if(bO&&(bw||bA||bK)){bp(this,bJ,bA,bw?0:bK,bw,bR,bS)}else{bO=true;bw=false;bx=0;bA=0;bK=0;bM();bL.css("filter","");bL.css(bP);aT(bJ,bL)}}});function bM(){aU();if(bO){if(bw){by.hide();bL.draggable("option","grid",null);ba(aF(P(bJ.start),bA),aF(ap(bJ),bA))}else{bF(bK);by.css("display","");bL.draggable("option","grid",[bQ,bI])}}}function bF(bS){var bR=k(P(bJ.start),bS);var bT;if(bJ.end){bT=k(P(bJ.end),bS)}by.text(a4(bR,bT,a2("timeFormat")))}}function bq(bA,by,bB){var bz,bw;var bC=bl();var bx=aX();by.resizable({handles:{s:".ui-resizable-handle"},grid:bC,start:function(bD,bE){bz=bw=0;a1(bA,by);a9("eventResizeStart",this,bA,bD,bE)},resize:function(bD,bE){bz=Math.round((Math.max(bC,by.height())-bE.originalSize.height)/bC);if(bz!=bw){bB.text(a4(bA.start,(!bz&&!bA.end)?null:k(bs(bA),bx*bz),a2("timeFormat")));bw=bz}},stop:function(bD,bE){a9("eventResizeStop",this,bA,bD,bE);if(bz){a5(this,bA,0,bx*bz,bD,bE)}else{aT(bA,by)}}})}}function al(aN){var aP=G(aN);var aQ=aP[0];var aO;Y(aP);if(aQ){for(aO=0;aO<aQ.length;aO++){ad(aQ[aO])}for(aO=0;aO<aQ.length;aO++){N(aQ[aO],0,0)}}return D(aP)}function G(aO){var aR=[];var aQ,aN;var aP;for(aQ=0;aQ<aO.length;aQ++){aN=aO[aQ];for(aP=0;aP<aR.length;aP++){if(!aL(aN,aR[aP]).length){break}}(aR[aP]||(aR[aP]=[])).push(aN)}return aR}function Y(aR){var aQ,aS;var aP,aN;var aO;for(aQ=0;aQ<aR.length;aQ++){aS=aR[aQ];for(aP=0;aP<aS.length;aP++){aN=aS[aP];aN.forwardSegs=[];for(aO=aQ+1;aO<aR.length;aO++){aL(aN,aR[aO],aN.forwardSegs)}}}}function ad(aO){var aN=aO.forwardSegs;var aR=0;var aQ,aP;if(aO.forwardPressure===x){for(aQ=0;aQ<aN.length;aQ++){aP=aN[aQ];ad(aP);aR=Math.max(aR,1+aP.forwardPressure)}aO.forwardPressure=aR}}function N(aO,aQ,aR){var aN=aO.forwardSegs;var aP;if(aO.forwardCoord===x){if(!aN.length){aO.forwardCoord=1}else{aN.sort(aA);N(aN[0],aQ+1,aR);aO.forwardCoord=aN[0].backwardCoord}aO.backwardCoord=aO.forwardCoord-(aO.forwardCoord-aR)/(aQ+1);for(aP=0;aP<aN.length;aP++){N(aN[aP],0,aO.forwardCoord)}}}function D(aQ){var aN=[];var aP,aR;var aO;for(aP=0;aP<aQ.length;aP++){aR=aQ[aP];for(aO=0;aO<aR.length;aO++){aN.push(aR[aO])}}return aN}function aL(aN,aQ,aP){aP=aP||[];for(var aO=0;aO<aQ.length;aO++){if(d(aN,aQ[aO])){aP.push(aQ[aO])}}return aP}function d(aO,aN){return aO.end>aN.start&&aO.start<aN.end}function aA(aO,aN){return aN.forwardPressure-aO.forwardPressure||(aO.backwardCoord||0)-(aN.backwardCoord||0)||z(aO,aN)}function z(aO,aN){return aO.start-aN.start||(aN.end-aN.start)-(aO.end-aO.start)||(aO.event.title||"").localeCompare(aN.event.title)}function aG(a2,bm,aZ){var bl=this;bl.element=a2;bl.calendar=bm;bl.name=aZ;bl.opt=a7;bl.trigger=bf;bl.isEventDraggable=aS;bl.isEventResizable=br;bl.setEventData=bo;bl.clearEventData=aR;bl.eventEnd=bs;bl.reportEventElement=a5;bl.triggerEventDestroy=be;bl.eventElementHandlers=bh;bl.showEvents=aU;bl.hideEvents=a6;bl.eventDrop=bp;bl.eventResize=ba;var bu=bl.defaultEventEnd;var bg=bm.normalizeEvent;var bq=bm.reportEventChange;var a4={};var aY={};var bt=[];var bc=bm.options;function a7(bz,bx){var by=bc[bz];if(av.isPlainObject(by)){return H(by,bx||aZ)}return by}function bf(bx,by){return bm.trigger.apply(bm,[bx,by||bl].concat(Array.prototype.slice.call(arguments,2),[bl]))}function aS(bx){var by=bx.source||{};return aK(bx.startEditable,by.startEditable,a7("eventStartEditable"),bx.editable,by.editable,a7("editable"))&&!a7("disableDragging")}function br(bx){var by=bx.source||{};return aK(bx.durationEditable,by.durationEditable,a7("eventDurationEditable"),bx.editable,by.editable,a7("editable"))&&!a7("disableResizing")}function bo(bz){a4={};var by,bx=bz.length,bA;for(by=0;by<bx;by++){bA=bz[by];if(a4[bA._id]){a4[bA._id].push(bA)}else{a4[bA._id]=[bA]}}}function aR(){a4={};aY={};bt=[]}function bs(bx){return bx.end?P(bx.end):bu(bx)}function a5(by,bx){bt.push({event:by,element:bx});if(aY[by._id]){aY[by._id].push(bx)}else{aY[by._id]=[bx]}}function be(){av.each(bt,function(bx,by){bl.trigger("eventDestroy",by.event,by.event,by.element)})}function bh(by,bx){bx.click(function(bz){if(!bx.hasClass("ui-draggable-dragging")&&!bx.hasClass("ui-resizable-resizing")){return bf("eventClick",this,by,bz)}}).hover(function(bz){bf("eventMouseover",this,by,bz)},function(bz){bf("eventMouseout",this,by,bz)})}function aU(by,bx){a3(by,bx,"show")}function a6(by,bx){a3(by,bx,"hide")}function a3(bA,bz,bC){var bB=aY[bA._id],by,bx=bB.length;for(by=0;by<bx;by++){if(!bz||bB[by][0]!=bz[0]){bB[by][bC]()}}}function bp(bA,by,bz,bB,bE,bD,bC){var bF=by.allDay;var bx=by._id;a8(a4[bx],bz,bB,bE);bf("eventDrop",bA,by,bz,bB,bE,function(){a8(a4[bx],-bz,-bB,bF);bq(bx)},bD,bC);bq(bx)}function ba(bD,bB,by,bx,bA,bC){var bz=bB._id;a0(a4[bz],by,bx);bf("eventResize",bD,bB,by,bx,function(){a0(a4[bz],-by,-bx);bq(bz)},bA,bC);bq(bz)}function a8(bB,bz,by,bC){by=by||0;for(var bD,bx=bB.length,bA=0;bA<bx;bA++){bD=bB[bA];if(bC!==x){bD.allDay=bC}k(aF(bD.start,bz,true),by);if(bD.end){bD.end=k(aF(bD.end,bz,true),by)}bg(bD,bc)}}function a0(bB,bz,by){by=by||0;for(var bC,bx=bB.length,bA=0;bA<bx;bA++){bC=bB[bA];bC.end=k(aF(bs(bC),bz,true),by);bg(bC,bc)}}bl.isHiddenDay=aW;bl.skipHiddenDays=aT;bl.getCellsPerWeek=bj;bl.dateToCell=bn;bl.dateToDayOffset=bb;bl.dayOffsetToCellOffset=aP;bl.cellOffsetToCell=a1;bl.cellToDate=aQ;bl.cellToCellOffset=aN;bl.cellOffsetToDayOffset=bd;bl.dayOffsetToDate=bw;bl.rangeToSegments=bi;var a9=a7("hiddenDays")||[];var aO=[];var bv;var aV=[];var aX=[];var bk=a7("isRTL");(function(){if(a7("weekends")===false){a9.push(0,6)}for(var by=0,bx=0;by<7;by++){aV[by]=bx;aO[by]=av.inArray(by,a9)!=-1;if(!aO[by]){aX[bx]=by;bx++}}bv=bx;if(!bv){throw"invalid hiddenDays"}})();function aW(bx){if(typeof bx=="object"){bx=bx.getDay()}return aO[bx]}function bj(){return bv}function aT(by,bz,bx){bz=bz||1;while(aO[(by.getDay()+(bx?bz:0)+7)%7]){aF(by,bz)}}function aQ(){var bz=aN.apply(null,arguments);var bx=bd(bz);var by=bw(bx);return by}function aN(bC,bA){var bz=bl.getColCnt();var by=bk?-1:1;var bx=bk?bz-1:0;if(typeof bC=="object"){bA=bC.col;bC=bC.row}var bB=bC*bz+(bA*by+bx);return bB}function bd(by){var bx=bl.visStart.getDay();by+=aV[bx];return Math.floor(by/bv)*7+aX[(by%bv+bv)%bv]-bx}function bw(bx){var by=P(bl.visStart);aF(by,bx);return by}function bn(bz){var by=bb(bz);var bA=aP(by);var bx=a1(bA);return bx}function bb(bx){return aC(bx,bl.visStart)}function aP(by){var bx=bl.visStart.getDay();by+=bx;return Math.floor(by/7)*bv+aV[(by%7+7)%7]-aV[bx]}function a1(bC){var bA=bl.getColCnt();var by=bk?-1:1;var bx=bk?bA-1:0;var bB=Math.floor(bC/bA);var bz=((bC%bA+bA)%bA)*by+bx;return{row:bB,col:bz}}function bi(by,bN){var bB=bl.getRowCnt();var bL=bl.getColCnt();var bM=[];var bP=bb(by);var bK=bb(bN);var bO=aP(bP);var bC=aP(bK)-1;for(var bD=0;bD<bB;bD++){var bz=bD*bL;var bH=bz+bL-1;var bI=Math.max(bO,bz);var bA=Math.min(bC,bH);if(bI<=bA){var bx=a1(bI);var bJ=a1(bA);var bG=[bx.col,bJ.col].sort();var bE=bd(bI)==bP;var bF=bd(bA)+1==bK;bM.push({row:bD,leftCol:bG[0],rightCol:bG[1],isStart:bE,isEnd:bF})}}return bM}}function Z(){var bu=this;bu.renderDayEvents=bB;bu.draggableDayEvent=a3;bu.resizableDayEvent=bo;var a8=bu.opt;var bl=bu.trigger;var aV=bu.isEventDraggable;var bx=bu.isEventResizable;var by=bu.eventEnd;var a6=bu.reportEventElement;var bn=bu.eventElementHandlers;var aY=bu.showEvents;var a7=bu.hideEvents;var bw=bu.eventDrop;var bc=bu.eventResize;var bC=bu.getRowCnt;var bt=bu.getColCnt;var ba=bu.getColWidth;var a2=bu.allDayRow;var bA=bu.colLeft;var a4=bu.colRight;var bs=bu.colContentLeft;var bq=bu.colContentRight;var bv=bu.dateToCell;var aW=bu.getDaySegmentContainer;var bb=bu.calendar.formatDates;var bm=bu.renderDayOverlay;var aZ=bu.clearOverlays;var aP=bu.clearSelection;var aU=bu.getHoverListener;var bp=bu.rangeToSegments;var aS=bu.cellToDate;var aO=bu.cellToCellOffset;var bj=bu.cellOffsetToDayOffset;var be=bu.dateToDayOffset;var aR=bu.dayOffsetToCellOffset;function bB(bF,bE){var bD=a1(bF,false,true);af(bD,function(bH,bG){a6(bH.event,bG)});a0(bD,bE);af(bD,function(bH,bG){bl("eventAfterRender",bH.event,bH.event,bG)})}function bf(bE,bH,bG){var bD=a1([bE],true,false);var bF=[];af(bD,function(bJ,bI){if(bJ.row===bH){bI.css("top",bG)}bF.push(bI[0])});return bF}function a1(bG,bK,bI){var bH=aW();var bF=bK?av("<div/>"):bH;var bD=a5(bG);var bE;var bJ;bz(bD);bE=bd(bD);bF[0].innerHTML=bE;bJ=bF.children();if(bK){bH.append(bJ)}aX(bD,bJ);af(bD,function(bM,bL){bM.hsides=j(bL,true)});af(bD,function(bM,bL){bL.width(Math.max(0,bM.outerWidth-bM.hsides))});af(bD,function(bM,bL){bM.outerHeight=bL.outerHeight(true)});aT(bD,bI);return bD}function a5(bF){var bD=[];for(var bE=0;bE<bF.length;bE++){var bG=bk(bF[bE]);bD.push.apply(bD,bG)}return bD}function bk(bG){var bD=bG.start;var bH=ap(bG);var bE=bp(bD,bH);for(var bF=0;bF<bE.length;bF++){bE[bF].event=bG}return bE}function bz(bE){var bH=a8("isRTL");for(var bG=0;bG<bE.length;bG++){var bI=bE[bG];var bJ=(bH?bI.isEnd:bI.isStart)?bs:bA;var bD=(bH?bI.isStart:bI.isEnd)?bq:a4;var bK=bJ(bI.leftCol);var bF=bD(bI.rightCol);bI.left=bK;bI.outerWidth=bF-bK}}function bd(bD){var bF="";for(var bE=0;bE<bD.length;bE++){bF+=a9(bD[bE])}return bF}function a9(bI){var bG="";var bF=a8("isRTL");var bH=bI.event;var bE=bH.url;var bJ=["fc-event","fc-event-hori"];if(aV(bH)){bJ.push("fc-event-draggable")}if(bI.isStart){bJ.push("fc-event-start")}if(bI.isEnd){bJ.push("fc-event-end")}bJ=bJ.concat(bH.className);if(bH.source){bJ=bJ.concat(bH.source.className||[])}var bD=S(bH,a8);if(bE){bG+="<a href='"+aI(bE)+"'"}else{bG+="<div"}bG+=" class='"+bJ.join(" ")+"' style='position:absolute;left:"+bI.left+"px;"+bD+"'><div class='fc-event-inner'>";if(!bH.allDay&&bI.isStart){bG+="<span class='fc-event-time'>"+aI(bb(bH.start,bH.end,a8("timeFormat")))+"</span>"}bG+="<span class='fc-event-title'>"+aI(bH.title||"")+"</span></div>";if(bI.isEnd&&bx(bH)){bG+="<div class='ui-resizable-handle ui-resizable-"+(bF?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bG+="</"+(bE?"a":"div")+">";return bG}function aX(bE,bJ){for(var bG=0;bG<bE.length;bG++){var bI=bE[bG];var bH=bI.event;var bF=bJ.eq(bG);var bD=bl("eventRender",bH,bH,bF);if(bD===false){bF.remove()}else{if(bD&&bD!==true){bD=av(bD).css({position:"absolute",left:bI.left});bF.replaceWith(bD);bF=bD}bI.element=bF}}}function aT(bF,bH){var bI=aN(bF);var bD=br();var bE=[];if(bH){for(var bG=0;bG<bD.length;bG++){bD[bG].height(bI[bG])}}for(var bG=0;bG<bD.length;bG++){bE.push(bD[bG].position().top)}af(bF,function(bK,bJ){bJ.css("top",bE[bK.row]+bK.top)})}function aN(bF){var bH=bC();var bM=bt();var bN=[];var bD=bi(bF);for(var bL=0;bL<bH;bL++){var bK=bD[bL];var bJ=[];for(var bI=0;bI<bM;bI++){bJ.push(0)}for(var bE=0;bE<bK.length;bE++){var bG=bK[bE];bG.top=au(bJ.slice(bG.leftCol,bG.rightCol+1));for(var bI=bG.leftCol;bI<=bG.rightCol;bI++){bJ[bI]=bG.top+bG.outerHeight}}bN.push(au(bJ))}return bN}function bi(bE){var bI=bC();var bH=[];var bD;var bG;var bF;for(bD=0;bD<bE.length;bD++){bG=bE[bD];bF=bG.row;if(bG.element){if(bH[bF]){bH[bF].push(bG)}else{bH[bF]=[bG]}}}for(bF=0;bF<bI;bF++){bH[bF]=aQ(bH[bF]||[])}return bH}function aQ(bE){var bG=[];var bD=bh(bE);for(var bF=0;bF<bD.length;bF++){bG.push.apply(bG,bD[bF])}return bG}function bh(bF){bF.sort(ax);var bE=[];for(var bG=0;bG<bF.length;bG++){var bH=bF[bG];for(var bD=0;bD<bE.length;bD++){if(!b(bH,bE[bD])){break}}if(bE[bD]){bE[bD].push(bH)}else{bE[bD]=[bH]}}return bE}function br(){var bD;var bF=bC();var bE=[];for(bD=0;bD<bF;bD++){bE[bD]=a2(bD).find("div.fc-day-content > div")}return bE}function a0(bE,bD){var bF=aW();af(bE,function(bJ,bH,bG){var bI=bJ.event;if(bI._id===bD){bg(bI,bH,bJ)}else{bH[0]._fci=bG}});w(bF,bE,bg)}function bg(bF,bD,bE){if(aV(bF)){bu.draggableDayEvent(bF,bD,bE)}if(bE.isEnd&&bx(bF)){bu.resizableDayEvent(bF,bD,bE)}bn(bF,bD)}function a3(bG,bF){var bE=aU();var bD;bF.draggable({delay:50,opacity:a8("dragOpacity"),revertDuration:a8("dragRevertDuration"),start:function(bH,bI){bl("eventDragStart",bF,bG,bH,bI);a7(bG,bF);bE.start(function(bK,bJ,bN,bO){bF.draggable("option","revert",!bK||!bN&&!bO);aZ();if(bK){var bM=aS(bJ);var bL=aS(bK);bD=aC(bL,bM);bm(aF(P(bG.start),bD),aF(ap(bG),bD))}else{bD=0}},bH,"drag")},stop:function(bH,bI){bE.stop();aZ();bl("eventDragStop",bF,bG,bH,bI);if(bD){bw(this,bG,bD,0,bG.allDay,bH,bI)}else{bF.css("filter","");aY(bG,bF)}}})}function bo(bG,bE,bF){var bD=a8("isRTL");var bI=bD?"w":"e";var bH=bE.find(".ui-resizable-"+bI);var bJ=false;aM(bE);bE.mousedown(function(bK){bK.preventDefault()}).click(function(bK){if(bJ){bK.preventDefault();bK.stopImmediatePropagation()}});bH.mousedown(function(bS){if(bS.which!=1){return}bJ=true;var bM=aU();var bQ=bC();var bT=bt();var bL=bE.css("top");var bO;var bK;var bR=av.extend({},bG);var bN=aR(be(bG.start));aP();av("body").css("cursor",bI+"-resize").one("mouseup",bP);bl("eventResizeStart",this,bG,bS);bM.start(function(bV,bU){if(bV){var bY=aO(bU);var bX=aO(bV);bX=Math.max(bX,bN);bO=bj(bX)-bj(bY);if(bO){bR.end=aF(by(bG),bO,true);var bW=bK;bK=bf(bR,bF.row,bL);bK=av(bK);bK.find("*").css("cursor",bI+"-resize");if(bW){bW.remove()}a7(bG)}else{if(bK){aY(bG);bK.remove();bK=null}}aZ();bm(bG.start,aF(ap(bG),bO))}},bS);function bP(bU){bl("eventResizeStop",this,bG,bU);av("body").css("cursor","");bM.stop();aZ();if(bO){bc(this,bG,bO,0,bU)}setTimeout(function(){bJ=false},0)}})}}function b(aO,aQ){for(var aN=0;aN<aQ.length;aN++){var aP=aQ[aN];if(aP.leftCol<=aO.rightCol&&aP.rightCol>=aO.leftCol){return true}}return false}function af(aN,aR){for(var aP=0;aP<aN.length;aP++){var aQ=aN[aP];var aO=aQ.element;if(aO){aR(aQ,aO,aP)}}}function ax(aO,aN){return(aN.rightCol-aN.leftCol)-(aO.rightCol-aO.leftCol)||aN.event.allDay-aO.event.allDay||aO.event.start-aN.event.start||(aO.event.title||"").localeCompare(aN.event.title)}function ao(){var aX=this;aX.select=aV;aX.unselect=aR;aX.reportSelection=aN;aX.daySelectionMousedown=aU;var aP=aX.opt;var aQ=aX.trigger;var aS=aX.defaultSelectionEnd;var aO=aX.renderSelection;var aW=aX.clearSelection;var aT=false;if(aP("selectable")&&aP("unselectAuto")){av(document).mousedown(function(aY){var aZ=aP("unselectCancel");if(aZ){if(av(aY.target).parents(aZ).length){return}}aR(aY)})}function aV(aY,a0,aZ){aR();if(!a0){a0=aS(aY,aZ)}aO(aY,a0,aZ);aN(aY,a0,aZ)}function aR(aY){if(aT){aT=false;aW();aQ("unselect",null,aY)}}function aN(aY,a1,a0,aZ){aT=true;aQ("select",null,aY,a1,a0,aZ)}function aU(a2){var a0=aX.cellToDate;var aZ=aX.getIsCellAllDay;var aY=aX.getHoverListener();var a3=aX.reportDayClick;if(a2.which==1&&aP("selectable")){aR(a2);var a1=this;var a4;aY.start(function(a6,a5){aW();if(a6&&aZ(a6)){a4=[a0(a5),a0(a6)].sort(a);aO(a4[0],a4[1],true)}else{a4=null}},a2);av(document).one("mouseup",function(a5){aY.stop();if(a4){if(+a4[0]==+a4[1]){a3(a4[0],true,a5)}aN(a4[0],a4[1],true,a5)}})}}}function c(){var aQ=this;aQ.renderOverlay=aO;aQ.clearOverlays=aN;var aP=[];var aR=[];function aO(aT,aS){var aU=aR.shift();if(!aU){aU=av("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aU[0].parentNode!=aS[0]){aU.appendTo(aS)}aP.push(aU.css(aT).show());return aU}function aN(){var aS;while(aS=aP.shift()){aR.push(aS.hide().unbind())}}}function Q(aN){var aO=this;var aP;var aQ;aO.build=function(){aP=[];aQ=[];aN(aP,aQ)};aO.cell=function(aR,aX){var aW=aP.length;var aS=aQ.length;var aT,aU=-1,aV=-1;for(aT=0;aT<aW;aT++){if(aX>=aP[aT][0]&&aX<aP[aT][1]){aU=aT;break}}for(aT=0;aT<aS;aT++){if(aR>=aQ[aT][0]&&aR<aQ[aT][1]){aV=aT;break}}return(aU>=0&&aV>=0)?{row:aU,col:aV}:null};aO.rect=function(aU,aW,aS,aT,aV){var aR=aV.offset();return{top:aP[aU][0]-aR.top,left:aQ[aW][0]-aR.left,width:aQ[aT][1]-aQ[aW][0],height:aP[aS][1]-aP[aU][0]}}}function aq(aS){var aQ=this;var aR;var aT;var aO;var aN;aQ.start=function(aU,aV,aW){aT=aU;aO=aN=null;aS.build();aP(aV);aR=aW||"mousemove";av(document).bind(aR,aP)};function aP(aU){F(aU);var aV=aS.cell(aU.pageX,aU.pageY);if(!aV!=!aN||aV&&(aV.row!=aN.row||aV.col!=aN.col)){if(aV){if(!aO){aO=aV}aT(aV,aO,aV.row-aO.row,aV.col-aO.col)}else{aT(aV,aO)}aN=aV}}aQ.stop=function(){av(document).unbind(aR,aP);return aN}}function F(aN){if(aN.pageX===x){aN.pageX=aN.originalEvent.pageX;aN.pageY=aN.originalEvent.pageY}}function n(aO){var aN=this,aP={},aS={},aR={};function aQ(aT){return aP[aT]=aP[aT]||aO(aT)}aN.left=function(aT){return aS[aT]=aS[aT]===x?aQ(aT).position().left:aS[aT]};aN.right=function(aT){return aR[aT]=aR[aT]===x?aN.left(aT)+aQ(aT).width():aR[aT]};aN.clear=function(){aP={};aS={};aR={}}}})(jQuery);(function(b){var a=function(){var k={onOpen:function(){},onClose:function(){},onChange:function(H,G){H.val(G);c(H)},useButton:true,defaultColor:"#FF0000"},E=(typeof b.ui=="undefined"?false:true),s='<div id="gccolor-dialog" style="display: none;"><div id="gccolor-color"><div><div></div></div></div><div id="gccolor-hue"><div></div></div><div id="gccolor-new-color"></div><div id="gccolor-current-color"></div><div id="gccolor-hex"><input type="text" maxlength="6" size="6" /></div><div id="gccolor-rgb-r" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-rgb-g" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-rgb-b" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-h" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-s" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-hsb-b" class="gccolor-field"><input type="text" maxlength="3" size="3" /><span></span></div><div id="gccolor-submit"></div></div>',e=function(G){b(document).data("gccolor").dragItem={lastX:G.pageX,lastY:G.pageY};h(G);b(document).bind("mousemove",h);b(document).bind("mouseup",F)},h=function(H){var G=b("#gccolor-hue");var I=H.pageY-G.offset().top;if(I<0){I=0}else{if(I>150){I=150}}b(document).data("gccolor").hsb.h=359-Math.round((I/150)*359);if(!b.browserInfo().msie){w(b(document).data("gccolor").hsb)}else{b("#gccolor-hue div").css("top",I+"px")}z();return false},F=function(G){b(document).unbind("mousemove",h);b(document).unbind("mouseup",F);b(document).data("gccolor").dragItem=null;if(b.browserInfo().msie){w(b(document).data("gccolor").hsb)}},n=function(G){b(document).data("gccolor").dragItem={lastX:G.pageX,lastY:G.pageY};g(G);b(document).bind("mousemove",g);b(document).bind("mouseup",u)},g=function(I){var H=b("#gccolor-color > div");var G=I.pageX-H.offset().left;var J=I.pageY-H.offset().top;if(G<0){G=0}else{if(G>150){G=150}}if(J<0){J=0}else{if(J>150){J=150}}b(document).data("gccolor").hsb.s=Math.round((G/150)*100);b(document).data("gccolor").hsb.b=100-Math.round((J/150)*100);if(!b.browserInfo().msie){w(b(document).data("gccolor").hsb)}else{b("#gccolor-color > div div").css("top",J+"px");b("#gccolor-color > div div").css("left",G+"px")}z();return false},u=function(G){b(document).unbind("mousemove",g);b(document).unbind("mouseup",u);b(document).data("gccolor").dragItem=null;if(b.browserInfo().msie){w(b(document).data("gccolor").hsb)}},f=function(G){b(document).data("gccolor").dragItem={item:b(this),lastX:G.pageX,lastY:G.pageY};b(document).bind("mousemove",C);b(document).bind("mouseup",A)},C=function(L){var K=b(document).data("gccolor").dragItem.item;var J=K.parent().attr("id");var G=L.pageY-b(document).data("gccolor").dragItem.lastY;var M=parseInt(K.prev().val());var I=M;if(G<0){I=M+1}else{if(G>0){I=M-1}}if(J=="gccolor-hsb-h"){if(I>359){I=0}else{if(I<=0){I=359}}}else{if(J=="gccolor-hsb-s"||J=="gccolor-hsb-b"){if(I>100){I=100}else{if(I<=0){I=0}}}else{if(I>255){I=255}else{if(I<=0){I=0}}}}var H=B(b(document).data("gccolor").hsb);switch(J){case"gccolor-hsb-h":b(document).data("gccolor").hsb.h=I;break;case"gccolor-hsb-s":b(document).data("gccolor").hsb.s=I;break;case"gccolor-hsb-b":b(document).data("gccolor").hsb.b=I;break;case"gccolor-rgb-r":H.r=I;b(document).data("gccolor").hsb=v(H);break;case"gccolor-rgb-g":H.g=I;b(document).data("gccolor").hsb=v(H);break;case"gccolor-rgb-b":H.b=I;b(document).data("gccolor").hsb=v(H);break}if(!b.browserInfo().msie){w(b(document).data("gccolor").hsb)}z();K.prev().val(I);b(document).data("gccolor").dragItem.lastY=L.pageY},A=function(G){b(document).unbind("mousemove",C);b(document).unbind("mouseup",A);b(document).data("gccolor").dragItem=null;if(b.browserInfo().msie){w(b(document).data("gccolor").hsb)}},d=function(G){var G=parseInt(((G.indexOf("#")>-1)?G.substring(1):G),16);return{r:G>>16,g:(G&65280)>>8,b:(G&255)}},B=function(H){var G=Math.ceil(H.b*2.55);if(H.b==0){return{r:0,g:0,b:0}}else{if(H.s==0){return{r:G,g:G,b:G}}}var J=Math.floor(H.h/60);var L=H.h/60-J;var M=Math.round(H.b*(100-H.s)*0.0255);var K=Math.round(H.b*(100-L*H.s)*0.0255);var I=Math.round(H.b*(100-(1-L)*H.s)*0.0255);switch(J){case 0:return{r:G,g:I,b:M};break;case 1:return{r:K,g:G,b:M};break;case 2:return{r:M,g:G,b:I};break;case 3:return{r:M,g:K,b:G};break;case 4:return{r:I,g:M,b:G};break;case 5:return{r:G,g:M,b:K};break}return{r:0,g:0,b:0}},v=function(H){var G={};G.b=Math.max(Math.max(H.r,H.g),H.b);G.s=(G.b<=0)?0:Math.round(100*(G.b-Math.min(Math.min(H.r,H.g),H.b))/G.b);G.b=Math.round((G.b/255)*100);if((H.r==H.g)&&(H.g==H.b)){G.h=0}else{if(H.r>=H.g&&H.g>=H.b){G.h=60*(H.g-H.b)/(H.r-H.b)}else{if(H.g>=H.r&&H.r>=H.b){G.h=60+60*(H.g-H.r)/(H.g-H.b)}else{if(H.g>=H.b&&H.b>=H.r){G.h=120+60*(H.b-H.r)/(H.g-H.r)}else{if(H.b>=H.g&&H.g>=H.r){G.h=180+60*(H.b-H.g)/(H.b-H.r)}else{if(H.b>=H.r&&H.r>=H.g){G.h=240+60*(H.r-H.g)/(H.b-H.g)}else{if(H.r>=H.b&&H.b>=H.g){G.h=300+60*(H.r-H.b)/(H.r-H.g)}else{G.h=0}}}}}}}G.h=Math.round(G.h);return G},m=function(G){var H=[G.r.toString(16),G.g.toString(16),G.b.toString(16)];b.each(H,function(I,J){if(J.length==1){H[I]="0"+J}});return H.join("")},t=function(G,I,J){b("#gccolor-hsb-h input").val(G.h);b("#gccolor-hsb-s input").val(G.s);b("#gccolor-hsb-b input").val(G.b);b("#gccolor-rgb-r input").val(I.r);b("#gccolor-rgb-g input").val(I.g);b("#gccolor-rgb-b input").val(I.b);b("#gccolor-hex input").val(J);b("#gccolor-new-color").css("background-color","#"+J);var H=m(B({h:G.h,s:100,b:100}));b("#gccolor-color").css("background-color","#"+H);b("#gccolor-color > div div").css("top",(((100-G.b)/100)*150)+"px");b("#gccolor-color > div div").css("left",((G.s/100)*150)+"px");b("#gccolor-hue div").css("top",(150-((G.h/359)*150))+"px")},w=function(G){b(document).data("gccolor").hsb=G;var H=B(G);var I=m(H);t(G,H,I)},j=function(H){var I=m(H);var G=v(H);b(document).data("gccolor").hsb=G;t(G,H,I)},p=function(I){var H=d(I);var G=v(H);b(document).data("gccolor").hsb=G;t(G,H,I)},q=function(H){if(H.keyCode==27){b("#gccolor-dialog").hide();var G=b(document).data("gccolor");x(G.target,G.options,true)}},o=function(J){if(b("#gccolor-dialog").is(":visible")===false){return}var H=b(document).data("gccolor");var G=b(J.target).is(H.target);var I=b(J.target).is(H.target.parent().find("a.gccolor-button:first"));var K=b(J.target).is("#gccolor-dialog")||b(J.target).parents("#gccolor-dialog").length>0;if(!G&&!I&&!K){x(H.target,H.options,false)}},D=function(H,G){if(b("#gccolor-dialog").is(":visible")){x(H,G,false)}else{y(H,G)}},y=function(I,G){b(document).data("gccolor",{target:I,options:G,hsb:{h:0,s:100,b:100},dragItem:null});if(typeof G.onOpen=="function"){G.onOpen(I)}var H=b(I).val().replace("#","").toUpperCase();if(H.length<=0){H=G.defaultColor}p(H);b("#gccolor-current-color").css("background-color","#"+H).attr("data-current-color",H).click(function(){p(b(this).attr("data-current-color"));z()});b("#gccolor-submit").click(function(){x(b(document).data("gccolor").target,G,false)});b("#gccolor-dialog #gccolor-color").bind("dblclick",function(){x(b(document).data("gccolor").target,G,false)});b("#gccolor-dialog").css("top",b(I).offset().top+b(I).outerHeight());b("#gccolor-dialog").css("left",b(I).offset().left);b("#gccolor-dialog").show();b(document).keyup(q);b(document).bind("mousedown",o)},z=function(){if(typeof b(document).data("gccolor").options.onChange=="function"){b(document).data("gccolor").options.onChange(b(document).data("gccolor").target,m(B(b(document).data("gccolor").hsb)))}},x=function(J,H,I){b(document).unbind("keyup",q);b(document).unbind("mousedown",o);b("#gccolor-dialog #gccolor-color").unbind("dblclick");b("#gccolor-current-color").unbind("click");if(typeof H.onClose=="function"){H.onClose(J,b("#gccolor-hex input").val(),I)}var G=I?b("#gccolor-current-color").attr("data-current-color"):b("#gccolor-hex input").val();b(J).val(G);c(b(J));b("#gccolor-dialog").hide();b("#gccolor-dialog").dialog("destroy")},c=function(H){var G=b(H).val();b(H).css("background-color","#"+G);l(H,G)},l=function(H,G){if(v(d(G)).b>60){H.css("color","black")}else{H.css("color","white")}};return{init:function(G){G=b.extend({},k,G||{});if(E){if(!b("#gccolor-dialog").is("div")){b("body").append(s)}}else{alert("Sorry, jQuery UI plug-in is required for GcColor to work!")}b("#gccolor-dialog span").bind("mousedown",f);b("#gccolor-hue").bind("mousedown",e);b("#gccolor-color > div").bind("mousedown",n);return this.each(function(){if(G.useButton){b(this).wrap('<span class="gccolor-wrapper"></span>');b(this).after('<a href="Javascript:;" class="gccolor-button">Pick a color!</a>');var H=b(this).next();b(this).width(b(this).width()-24);b(this).css("margin-right","24px");H.css("left","auto").css("right",0).css("top",-3);H.click(function(){D(b(this).prev(),G)});c(b(this));b(this).bind("gccolor-input-change",function(){c(b(this))}).bind("change",function(){b(this).trigger("gccolor-input-change")})}else{b(this).click(function(){D(b(this),G)})}})}}}();b.fn.extend({gccolor:a.init})})(jQuery);(function($){$.toJSON=function(o){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof(o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);jQuery.fn.highlight=function(c,e,d,b){var e=e||"highlight";if(d==undefined&&b==undefined){var d="mouseover";var b="mouseout"}else{if(d==b||d!=undefined&&b==undefined){var a=true}}this.each(function(){var f=this.tagName.toLowerCase();if(f=="form"){c=c||"li";var g=jQuery("textarea, select, multi-select, :text, :image, :password, :radio, :checkbox, :file",this);g.bind("focus",function(){var h=jQuery(this).parents(c);var j=jQuery(h.get(0));j.addClass(e)});g.bind("blur",function(){var h=jQuery(this).parents(c);var j=jQuery(h.get(0));j.removeClass(e)})}else{if(f.match(/^(table|tbody)$/)!=null){c=c||"tr"}else{if(f.match(/^(ul|ol)$/)!=null){c=c||"li"}else{c="*"}}var g=jQuery(c,this);if(a){g.bind(d,function(){if(jQuery(this).hasClass(e)){jQuery(this).removeClass(e)}else{jQuery(this).addClass(e)}})}else{g.bind(d,function(){jQuery(this).addClass(e)});g.bind(b,function(){jQuery(this).removeClass(e)})}}})};jQuery.imageMagnifier={dsettings:{magnifyby:5,duration:500,imgopacity:0.2},cursorcss:"url("+creme_media_url("images/magnify.cur")+"), -moz-zoom-in",zIndexcounter:1100,imgshells:[],refreshoffsets:function(e,b,a){var c=b.offset();var d={x:e.scrollLeft(),y:e.scrollTop(),w:e.width(),h:e.height()};a.attrs.x=c.left;a.attrs.y=c.top;a.newattrs.x=d.x+d.w/2-a.newattrs.w/2;a.newattrs.y=d.y+d.h/2-a.newattrs.h/2;if(a.newattrs.x<d.x+5){a.newattrs.x=d.x+5}else{if(a.newattrs.x+a.newattrs.w>d.x+d.w){a.newattrs.x=d.x+5}}if(a.newattrs.y<d.y+5){a.newattrs.y=d.y+5}},magnify:function(f,a,c){var d={};var d=jQuery.extend(d,this.dsettings,c);var g=this.imgshells.length;var b={w:a.outerWidth(),h:a.outerHeight()};var h={w:Math.round(b.w*d.magnifyby),h:Math.round(b.h*d.magnifyby)};a.css("cursor",jQuery.imageMagnifier.cursorcss);var e=a.clone().css({position:"absolute",left:0,top:0,visibility:"hidden",border:"1px solid gray",cursor:"pointer"}).appendTo(document.body);a.add(e).data("pos",g);this.imgshells.push({$target:a,$clone:e,attrs:b,newattrs:h});a.bind("click.magnify",function(m){var l=f(this).css({opacity:d.imgopacity});var j=jQuery.imageMagnifier.imgshells[l.data("pos")];jQuery.imageMagnifier.refreshoffsets(f(window),l,j);var k=j.$clone;k.stop().css({zIndex:++jQuery.imageMagnifier.zIndexcounter,left:j.attrs.x,top:j.attrs.y,width:j.attrs.w,height:j.attrs.h,opacity:0,visibility:"visible"}).animate({opacity:1,left:j.newattrs.x,top:j.newattrs.y,width:j.newattrs.w,height:j.newattrs.h},d.duration,function(){})});e.click(function(l){var k=f(this);var j=jQuery.imageMagnifier.imgshells[k.data("pos")];jQuery.imageMagnifier.refreshoffsets(f(window),j.$target,j);k.stop().animate({opacity:0,left:j.attrs.x,top:j.attrs.y,width:j.attrs.w,height:j.attrs.h},d.duration,function(){k.hide();j.$target.css({opacity:1})})})}};jQuery.fn.imageMagnifier=function(a){var b=jQuery;return this.each(function(){var c=b(this);if(this.tagName!="IMG"){return true}if(parseInt(c.css("width"))>0&&parseInt(c.css("height"))>0){jQuery.imageMagnifier.magnify(b,c,a)}else{if(this.complete){jQuery.imageMagnifier.magnify(b,c,a)}else{b(this).bind("load",function(){jQuery.imageMagnifier.magnify(b,c,a)})}}})};function initMagnify(c){var b=$(c);b.each(function(f){var d=$(this);var e={};if(d.attr("data-magnifyby")){e.magnifyby=parseFloat(d.attr("data-magnifyby"))}if(d.attr("data-magnifyduration")){e.duration=parseInt(d.attr("data-magnifyduration"))}d.imageMagnifier(e)});var a=$('a[rel^="magnify["]');a.each(function(f){var d=$(this);var e=d.attr("rel").match(/\[.+\]/)[0].replace(/[\[\]']/g,"");d.data("magnifyimageid",e);d.click(function(g){$("#"+$(this).data("magnifyimageid")).trigger("click.magnify");g.preventDefault()})})}$.fn.check=function(a){var a=a||"on";return this.each(function(){switch(a){case"on":this.checked=true;break;case"off":this.checked=false;break;case"toggle":this.checked=!this.checked;break}})};$.fn.uncheck=function(){return $(this).check("off")};$.fn.toggleCheck=function(){return $(this).check("toggle")};$.fn.getValues=function(){var a=new Array();this.each(function(){a.push($(this).val())});return a};$.fn.toggleAttr=function(b,a,c){var a=a!==undefined?a:$(this).is("["+b+"]");if(a){$(this).attr(b,c||"")}else{$(this).removeAttr(b)}return $(this)};$.fn.wait=function(b,a){b=b||1000;a=a||"fx";return this.queue(a,function(){var c=this;setTimeout(function(){$(c).dequeue()},b)})};(function(a){a.widget("jb.dragtable",{eventWidgetPrefix:"dragtable",options:{dataHeader:"data-header",handle:"dragtable-drag-handle",items:"th:not( :has( .dragtable-drag-handle ) ), .dragtable-drag-handle",boundary:"dragtable-drag-boundary",placeholder:"dragtable-col-placeholder",appendTarget:a(document.body),scroll:false},tableElemIndex:{head:"0",body:"1",foot:"2"},tbodyRegex:/(tbody|TBODY)/,theadRegex:/(thead|THEAD)/,tfootRegex:/(tfoot|TFOOT)/,_create:function(){this.startIndex=null;this.endIndex=null;this.currentColumnCollection=[];this.currentColumnCollectionOffset={};this.dragDisplay=a([]);var b=this,d=b.options,c=b.element;if(d.appendTarget.length==0){d.appendTarget=a(document.body)}c.delegate(d.items,"mousedown."+b.widgetEventPrefix,function(h){var j=a(this);var g=b.element.position().top;var f=0;if(d.appendTarget[0]!=document.body){g+=d.appendTarget[0].scrollTop;f+=d.appendTarget[0].scrollLeft}if(j.hasClass(d.handle)){j=j.closest("th");h.currentTarget=j.closest("th")[0]}b.getCol(j.index()).attr("tabindex",-1).focus().disableSelection().css({top:g,left:(b.currentColumnCollectionOffset.left+f)}).appendTo(d.appendTarget);b._mousemoveHandler(h)})},_mousemoveHandler:function(d){this._start(d);var l=this,c=l.options,f=d.pageX,k=l.dragDisplay.outerWidth(),g=k/2,b=c.appendTarget.offsetParent()[0],h=c.scroll,j=l.element[0].getElementsByTagName("thead")[0].getElementsByTagName("tr")[0].getElementsByTagName("th").length-1;a(document).bind("mousemove."+l.widgetEventPrefix,function(s){var o=l._setCurrentColumnCollectionOffset(),n=s.pageX-f,q=c.appendTarget[0],p=(parseInt(l.dragDisplay[0].style.left)+n);l.dragDisplay.css("left",p);if(s.pageX<f){var m=o.left-g;if(p<(q.clientWidth-k)&&h==true){var t=q.scrollLeft+n;if(q.tagName=="BODY"){window.scroll(window.scrollX+t,window.scrollY)}else{q.scrollLeft=t}}if(p<m){l._swapCol(l.startIndex-1)}}else{var m=o.left+g;if(p>(q.clientWidth-k)&&h==true){var t=q.scrollLeft+n;if(q.tagName=="BODY"){window.scroll(window.scrollX+t,window.scrollY)}else{q.scrollLeft=t}}if(p>m&&j!=l.startIndex){l._swapCol(l.startIndex+1)}}f=s.pageX}).one("mouseup."+l.widgetEventPrefix,function(m){l._stop(m)})},_start:function(b){a(document).disableSelection().css("cursor","move");return this._eventHelper("start",b,{})},_stop:function(b){if(this._eventHelper("stop",b,{})==true){a(document).unbind("mousemove."+this.widgetEventPrefix).enableSelection().css("cursor","move");this.dropCol();this.dragDisplay.remove()}},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments)},_getCells:function(e,l){var g=this.tableElemIndex,k={semantic:{"0":[],"1":[],"2":[]},array:[]},n=this.tbodyRegex,j=this.theadRegex,m=k.semantic[g.body],b=k.semantic[g.head];if(l<=-1||typeof e.rows[0].cells[l]==undefined){return k}for(var h=0,d=e.rows.length;h<d;h++){var f=e.rows[h].cells[l];if(f==undefined){continue}var c=f.parentNode.parentNode.nodeName;k.array.push(f);if(n.test(c)){m.push(f)}else{if(j.test(c)){b.push(f)}else{if(this.tfootRegex.test(c)){k.semantic[g.foot].push(f)}}}}return k},_getElementAttributes:function(d){var e="",b=d.attributes;for(var c=0,f=b.length;c<f;c++){e+=b[c].nodeName+'="'+b[c].nodeValue+'"'}return e},_swapCells:function(d,c){d.parentNode.insertBefore(c,d)},_eventHelper:function(b,d,c){return this._trigger(b,d,a.extend({column:this.currentColumnCollection,order:this.order(),startIndex:this.startIndex,endIndex:this.endIndex,dragDisplay:this.dragDisplay,columnOffset:this.currentColumnCollectionOffset},c))},getCol:function(e){var d=this.element,b=this,f=b.tableElemIndex,g=" "+this.options.placeholder;b.dragDisplay=a("<table "+b._getElementAttributes(d[0])+"></table>").addClass("dragtable-drag-col");b.startIndex=b.endIndex=e;var c=b._getCells(d[0],e);b.currentColumnCollection=c.array;a.each(c.semantic,function(h,o){if(o.length==0){return}if(h=="0"){var n=document.createElement("thead");b.dragDisplay[0].appendChild(n)}else{var n=document.createElement("tbody");b.dragDisplay[0].appendChild(n)}for(var j=0,l=o.length;j<l;j++){var p=o[j].cloneNode(true);o[j].className+=g;var m=document.createElement("tr");m.appendChild(p);n.appendChild(m)}});this._setCurrentColumnCollectionOffset();b.dragDisplay=a('<div class="dragtable-drag-wrapper"></div>').append(b.dragDisplay);return b.dragDisplay},_setCurrentColumnCollectionOffset:function(){return this.currentColumnCollectionOffset=a(this.currentColumnCollection[0]).position()},_swapCol:function(h){if(h==this.startIndex){return false}var g=this.startIndex;this.endIndex=h;var f=this.element.find("th").eq(h);if(f.hasClass(this.options.boundary)==true){return false}if(f.find("."+this.options.handle).hasClass(this.options.boundary)==true){return false}if(this._eventHelper("breforechange",{})===false){return false}if(g<h){for(var c=g;c<h;c++){var e=this._getCells(this.element[0],c+1);for(var b=0,d=e.array.length;b<d;b++){this._swapCells(this.currentColumnCollection[b],e.array[b])}}}else{for(var c=g;c>h;c--){var e=this._getCells(this.element[0],c-1);for(var b=0,d=e.array.length;b<d;b++){this._swapCells(e.array[b],this.currentColumnCollection[b])}}}this._eventHelper("change",{});this.startIndex=this.endIndex},dropCol:function(){var d=new RegExp("(?:^|\\s)"+this.options.placeholder+"(?!\\S)","g");for(var b=0,c=this.currentColumnCollection.length;b<c;b++){var e=this.currentColumnCollection[b];e.className=e.className.replace(d,"")}},order:function(f){var j=this,e=j.element,k=j.options,d=e.find("thead tr:first").children("th");if(f==undefined){var h=[];d.each(function(){var l=this.getAttribute(k.dataHeader);if(l==null){l=a(this).text()}h.push(l)});return h}else{if(f.length!=d.length){return j}for(var g=0,c=f.length;g<c;g++){var b=d.filter("["+k.dataHeader+"="+f[g]+"]").index();if(b!=-1){j.startIndex=b;j.currentColumnCollection=j._getCells(j.element[0],b).array;j._swapCol(g)}}return j}},destroy:function(){var b=this,c=b.options;this.element.undelegate(c.items,"mousedown."+b.widgetEventPrefix);a(document).unbind("."+b.widgetEventPrefix)}})})(jQuery);
/*
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(l){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var j,E,n,p=this;if(typeof l=="function"){l={success:l}}else{if(l===undefined){l={}}}j=l.type||this.attr2("method");E=l.url||this.attr2("action");n=(typeof E==="string")?f.trim(E):"";n=n||window.location.href||"";if(n){n=(n.match(/^([^#]+)/)||[])[1]}l=f.extend(true,{url:n,success:f.ajaxSettings.success,type:j||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},l);var w={};this.trigger("form-pre-serialize",[this,l,w]);if(w.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(l.beforeSerialize&&l.beforeSerialize(this,l)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var o=l.traditional;if(o===undefined){o=f.ajaxSettings.traditional}var u=[];var G,H=this.formToArray(l.semantic,u);if(l.data){l.extraData=l.data;G=f.param(l.data,o)}if(l.beforeSubmit&&l.beforeSubmit(H,this,l)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[H,this,l,w]);if(w.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var A=f.param(H,o);if(G){A=(A?(A+"&"+G):G)}if(l.type.toUpperCase()=="GET"){l.url+=(l.url.indexOf("?")>=0?"&":"?")+A;l.data=null}else{l.data=A}var J=[];if(l.resetForm){J.push(function(){p.resetForm()})}if(l.clearForm){J.push(function(){p.clearForm(l.includeHidden)})}if(!l.dataType&&l.target){var m=l.success||function(){};J.push(function(q){var k=l.replaceTarget?"replaceWith":"html";f(l.target)[k](q).each(m,arguments)})}else{if(l.success){J.push(l.success)}}l.success=function(M,q,N){var L=l.context||this;for(var K=0,k=J.length;K<k;K++){J[K].apply(L,[M,q,N||p,p])}};if(l.error){var B=l.error;l.error=function(L,k,q){var K=l.context||this;B.apply(K,[L,k,q,p])}}if(l.complete){var h=l.complete;l.complete=function(K,k){var q=l.context||this;h.apply(q,[K,k,p])}}var F=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var s=F.length>0;var D="multipart/form-data";var z=(p.attr("enctype")==D||p.attr("encoding")==D);var y=c.fileapi&&c.formdata;d("fileAPI :"+y);var t=(s||z)&&!y;var x;if(l.iframe!==false&&(l.iframe||t)){if(l.closeKeepAlive){f.get(l.closeKeepAlive,function(){x=I(H)})}else{x=I(H)}}else{if((s||z)&&y){x=v(H)}else{x=f.ajax(l)}}p.removeData("jqxhr").data("jqxhr",x);for(var C=0;C<u.length;C++){u[C]=null}this.trigger("form-submit-notify",[this,l]);return this;function g(M){var N=f.param(M,l.traditional).split("&");var q=N.length;var k=[];var L,K;for(L=0;L<q;L++){N[L]=N[L].replace(/\+/g," ");K=N[L].split("=");k.push([decodeURIComponent(K[0]),decodeURIComponent(K[1])])}return k}function v(q){var k=new FormData();for(var K=0;K<q.length;K++){k.append(q[K].name,q[K].value)}if(l.extraData){var N=g(l.extraData);for(K=0;K<N.length;K++){if(N[K]){k.append(N[K][0],N[K][1])}}}l.data=null;var M=f.extend(true,{},f.ajaxSettings,l,{contentType:false,processData:false,cache:false,type:j||"POST"});if(l.uploadProgress){M.xhr=function(){var O=f.ajaxSettings.xhr();if(O.upload){O.upload.addEventListener("progress",function(S){var R=0;var P=S.loaded||S.position;var Q=S.total;if(S.lengthComputable){R=Math.ceil(P/Q*100)}l.uploadProgress(S,P,Q,R)},false)}return O}}M.data=null;var L=M.beforeSend;M.beforeSend=function(P,O){if(l.formData){O.data=l.formData}else{O.data=k}if(L){L.call(this,P,O)}};return f.ajax(M)}function I(ah){var N=p[0],M,ad,X,af,aa,P,S,Q,R,ab,ae,V;var ak=f.Deferred();ak.abort=function(al){Q.abort(al)};if(ah){for(ad=0;ad<u.length;ad++){M=f(u[ad]);if(e){M.prop("disabled",false)}else{M.removeAttr("disabled")}}}X=f.extend(true,{},f.ajaxSettings,l);X.context=X.context||X;aa="jqFormIO"+(new Date().getTime());if(X.iframeTarget){P=f(X.iframeTarget);ab=P.attr2("name");if(!ab){P.attr2("name",aa)}else{aa=ab}}else{P=f('<iframe name="'+aa+'" src="'+X.iframeSrc+'" />');P.css({position:"absolute",top:"-1000px",left:"-1000px"})}S=P[0];Q={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(al){var am=(al==="timeout"?"timeout":"aborted");d("aborting upload... "+am);this.aborted=1;try{if(S.contentWindow.document.execCommand){S.contentWindow.document.execCommand("Stop")}}catch(an){}P.attr("src",X.iframeSrc);Q.error=am;if(X.error){X.error.call(X.context,Q,am,al)}if(af){f.event.trigger("ajaxError",[Q,X,am])}if(X.complete){X.complete.call(X.context,Q,am)}}};af=X.global;if(af&&0===f.active++){f.event.trigger("ajaxStart")}if(af){f.event.trigger("ajaxSend",[Q,X])}if(X.beforeSend&&X.beforeSend.call(X.context,Q,X)===false){if(X.global){f.active--}ak.reject();return ak}if(Q.aborted){ak.reject();return ak}R=N.clk;if(R){ab=R.name;if(ab&&!R.disabled){X.extraData=X.extraData||{};X.extraData[ab]=R.value;if(R.type=="image"){X.extraData[ab+".x"]=N.clk_x;X.extraData[ab+".y"]=N.clk_y}}}var W=1;var T=2;function U(an){var am=null;try{if(an.contentWindow){am=an.contentWindow.document}}catch(al){d("cannot get iframe.contentWindow document: "+al)}if(am){return am}try{am=an.contentDocument?an.contentDocument:an.document}catch(al){d("cannot get iframe.contentDocument: "+al);am=an.document}return am}var L=f("meta[name=csrf-token]").attr("content");var K=f("meta[name=csrf-param]").attr("content");if(K&&L){X.extraData=X.extraData||{};X.extraData[K]=L}function ac(){var au=p.attr2("target"),ap=p.attr2("action"),an="multipart/form-data",aq=p.attr("enctype")||p.attr("encoding")||an;N.setAttribute("target",aa);if(!j||/post/i.test(j)){N.setAttribute("method","POST")}if(ap!=X.url){N.setAttribute("action",X.url)}if(!X.skipEncodingOverride&&(!j||/post/i.test(j))){p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(X.timeout){V=setTimeout(function(){ae=true;Z(W)},X.timeout)}function ar(){try{var av=U(S).readyState;d("state = "+av);if(av&&av.toLowerCase()=="uninitialized"){setTimeout(ar,50)}}catch(aw){d("Server abort: ",aw," (",aw.name,")");Z(T);if(V){clearTimeout(V)}V=undefined}}var at=[];try{if(X.extraData){for(var am in X.extraData){if(X.extraData.hasOwnProperty(am)){if(f.isPlainObject(X.extraData[am])&&X.extraData[am].hasOwnProperty("name")&&X.extraData[am].hasOwnProperty("value")){at.push(f('<input type="hidden" name="'+X.extraData[am].name+'">').val(X.extraData[am].value).appendTo(N)[0])}else{at.push(f('<input type="hidden" name="'+am+'">').val(X.extraData[am]).appendTo(N)[0])}}}}if(!X.iframeTarget){P.appendTo("body")}if(S.attachEvent){S.attachEvent("onload",Z)}else{S.addEventListener("load",Z,false)}setTimeout(ar,15);try{N.submit()}catch(ao){var al=document.createElement("form").submit;al.apply(N)}}finally{N.setAttribute("action",ap);N.setAttribute("enctype",aq);if(au){N.setAttribute("target",au)}else{p.removeAttr("target")}f(at).remove()}}if(X.forceSync){ac()}else{setTimeout(ac,10)}var ai,aj,ag=50,O;function Z(ar){if(Q.aborted||O){return}aj=U(S);if(!aj){d("cannot access response document");ar=T}if(ar===W&&Q){Q.abort("timeout");ak.reject(Q,"timeout");return}else{if(ar==T&&Q){Q.abort("server abort");ak.reject(Q,"error","server abort");return}}if(!aj||aj.location.href==X.iframeSrc){if(!ae){return}}if(S.detachEvent){S.detachEvent("onload",Z)}else{S.removeEventListener("load",Z,false)}var ap="success",au;try{if(ae){throw"timeout"}var ao=X.dataType=="xml"||aj.XMLDocument||f.isXMLDoc(aj);d("isXml="+ao);if(!ao&&window.opera&&(aj.body===null||!aj.body.innerHTML)){if(--ag){d("requeing onLoad callback, DOM not available");setTimeout(Z,250);return}}var av=aj.body?aj.body:aj.documentElement;Q.responseText=av?av.innerHTML:null;Q.responseXML=aj.XMLDocument?aj.XMLDocument:aj;if(ao){X.dataType="xml"}Q.getResponseHeader=function(ay){var ax={"content-type":X.dataType};return ax[ay.toLowerCase()]};if(av){Q.status=Number(av.getAttribute("status"))||Q.status;Q.statusText=av.getAttribute("statusText")||Q.statusText}var al=(X.dataType||"").toLowerCase();var at=/(json|script|text)/.test(al);if(at||X.textarea){var aq=aj.getElementsByTagName("textarea")[0];if(aq){Q.responseText=aq.value;Q.status=Number(aq.getAttribute("status"))||Q.status;Q.statusText=aq.getAttribute("statusText")||Q.statusText}else{if(at){var am=aj.getElementsByTagName("pre")[0];var aw=aj.getElementsByTagName("body")[0];if(am){Q.responseText=am.textContent?am.textContent:am.innerText}else{if(aw){Q.responseText=aw.textContent?aw.textContent:aw.innerText}}}}}else{if(al=="xml"&&!Q.responseXML&&Q.responseText){Q.responseXML=Y(Q.responseText)}}try{ai=k(Q,al,X)}catch(an){ap="parsererror";Q.error=au=(an||ap)}}catch(an){d("error caught: ",an);ap="error";Q.error=au=(an||ap)}if(Q.aborted){d("upload aborted");ap=null}if(Q.status){ap=(Q.status>=200&&Q.status<300||Q.status===304)?"success":"error"}if(ap==="success"){if(X.success){X.success.call(X.context,ai,"success",Q)}ak.resolve(Q.responseText,"success",Q);if(af){f.event.trigger("ajaxSuccess",[Q,X])}}else{if(ap){if(au===undefined){au=Q.statusText}if(X.error){X.error.call(X.context,Q,ap,au)}ak.reject(Q,"error",au);if(af){f.event.trigger("ajaxError",[Q,X,au])}}}if(af){f.event.trigger("ajaxComplete",[Q,X])}if(af&&!--f.active){f.event.trigger("ajaxStop")}if(X.complete){X.complete.call(X.context,Q,ap)}O=true;if(X.timeout){clearTimeout(V)}setTimeout(function(){if(!X.iframeTarget){P.remove()}else{P.attr("src",X.iframeSrc)}Q.responseXML=null},100)}var Y=f.parseXML||function(al,am){if(window.ActiveXObject){am=new ActiveXObject("Microsoft.XMLDOM");am.async="false";am.loadXML(al)}else{am=(new DOMParser()).parseFromString(al,"text/xml")}return(am&&am.documentElement&&am.documentElement.nodeName!="parsererror")?am:null};var q=f.parseJSON||function(al){return window["eval"]("("+al+")")};var k=function(aq,ao,an){var am=aq.getResponseHeader("content-type")||"",al=ao==="xml"||!ao&&am.indexOf("xml")>=0,ap=al?aq.responseXML:aq.responseText;if(al&&ap.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(an&&an.dataFilter){ap=an.dataFilter(ap,ao)}if(typeof ap==="string"){if(ao==="json"||!ao&&am.indexOf("json")>=0){ap=q(ap)}else{if(ao==="script"||!ao&&am.indexOf("javascript")>=0){f.globalEval(ap)}}}return ap};return ak}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(l){var k=l.target;var h=f(k);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}k=g[0]}var j=this;j.clk=k;if(k.type=="image"){if(l.offsetX!==undefined){j.clk_x=l.offsetX;j.clk_y=l.offsetY}else{if(typeof f.fn.offset=="function"){var m=h.offset();j.clk_x=l.pageX-m.left;j.clk_y=l.pageY-m.top}else{j.clk_x=l.pageX-k.offsetLeft;j.clk_y=l.pageY-k.offsetTop}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(y,g){var x=[];if(this.length===0){return x}var l=this[0];var A=this.attr("id");var q=y?l.getElementsByTagName("*"):l.elements;var B;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(A){B=f(':input[form="'+A+'"]').get();if(B.length){q=(q||[]).concat(B)}}if(!q||!q.length){return x}var s,p,o,z,m,u,k;for(s=0,u=q.length;s<u;s++){m=q[s];o=m.name;if(!o||m.disabled){continue}if(y&&l.clk&&m.type=="image"){if(l.clk==m){x.push({name:o,value:f(m).val(),type:m.type});x.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}z=f.fieldValue(m,true);if(z&&z.constructor==Array){if(g){g.push(m)}for(p=0,k=z.length;p<k;p++){x.push({name:o,value:z[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){x.push({name:o,value:h[p],type:m.type})}}else{x.push({name:o,value:"",type:m.type})}}else{if(z!==null&&typeof z!="undefined"){if(g){g.push(m)}x.push({name:o,value:z,type:m.type,required:m.required})}}}}if(!y&&l.clk){var t=f(l.clk),w=t[0];o=w.name;if(o&&!w.disabled&&w.type=="image"){x.push({name:o,value:t.val()});x.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return x};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,w=g.type,x=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||w=="reset"||w=="button"||(w=="checkbox"||w=="radio")&&!g.checked||(w=="submit"||w=="image")&&g.form&&g.form.clk!=g||x=="select"&&g.selectedIndex==-1)){return null}if(x=="select"){var p=g.selectedIndex;if(p<0){return null}var s=[],h=g.options;var l=(w=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var u=m.value;if(!u){u=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return u}s.push(u)}}return s}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var k=this.type,j=this.tagName.toLowerCase();if(h.test(k)||j=="textarea"){this.value=""}else{if(k=="checkbox"||k=="radio"){this.checked=false}else{if(j=="select"){this.selectedIndex=-1}else{if(k=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(k))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var j=f(this).parent("select");if(g&&j[0]&&j[0].type=="select-one"){j.find("option").selected(false)}this.selected=g}}})};f.fn.validateHTML5=function(){var g={};f("*:invalid",this).each(function(h,j){g[f(this).prop("name")]=j.validationMessage});return g};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));(function(g){var k,l,h=[],m=window;g.fn.tinymce=function(q){var a=this,u,f,t,d,s,e="",c="";if(!a.length){return a}if(!q){return tinyMCE.get(a[0].id)}a.css("visibility","hidden");function b(){var n=[],o=0;if(j){j();j=null}a.each(function(z,y){var A,p=y.id,x=q.oninit;if(!p){y.id=p=tinymce.DOM.uniqueId()}A=new tinymce.Editor(p,q);n.push(A);A.onInit.add(function(){var v,w=x;a.css("visibility","");if(x){if(++o==n.length){if(tinymce.is(w,"string")){v=(w.indexOf(".")===-1)?null:tinymce.resolve(w.replace(/\.\w+$/,""));w=tinymce.resolve(w)}w.apply(v||tinymce,n)}}})});g.each(n,function(p,v){v.render()})}if(!m.tinymce&&!l&&(u=q.script_url)){l=1;t=u.substring(0,u.lastIndexOf("/"));if(/_(src|dev)\.js/g.test(u)){c="_src"}d=u.lastIndexOf("?");if(d!=-1){e=u.substring(d+1)}m.tinyMCEPreInit=m.tinyMCEPreInit||{base:t,suffix:c,query:e};if(u.indexOf("gzip")!=-1){s=q.language||"en";u=u+(/\?/.test(u)?"&":"?")+"js=true&core=true&suffix="+escape(c)+"&themes="+escape(q.theme)+"&plugins="+escape(q.plugins)+"&languages="+s;if(!m.tinyMCE_GZ){tinyMCE_GZ={start:function(){tinymce.suffix=c;function n(o){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(o))}n("langs/"+s+".js");n("themes/"+q.theme+"/editor_template"+c+".js");n("themes/"+q.theme+"/langs/"+s+".js");g.each(q.plugins.split(","),function(o,p){if(p){n("plugins/"+p+"/editor_plugin"+c+".js");n("plugins/"+p+"/langs/"+s+".js")}})},end:function(){}}}}g.ajax({type:"GET",url:u,dataType:"script",cache:true,success:function(){tinymce.dom.Event.domLoaded=1;l=2;if(q.script_loaded){q.script_loaded()}b();g.each(h,function(o,n){n()})}})}else{if(l===1){h.push(b)}else{b()}}return a};g.extend(g.expr[":"],{tinymce:function(a){return a.id&&!!tinyMCE.get(a.id)}});function j(){function c(f){if(f==="remove"){this.each(function(s,q){var p=d(q);if(p){p.remove()}})}this.find("span.mceEditor,div.mceEditor").each(function(s,q){var p=tinyMCE.get(q.id.replace(/_parent$/,""));if(p){p.remove()}})}function a(p){var f=this,o;if(p!==k){c.call(f);f.each(function(s,n){var t;if(t=tinyMCE.get(n.id)){t.setContent(p)}})}else{if(f.length>0){if(o=tinyMCE.get(f[0].id)){return o.getContent()}}}}function d(f){var n=null;(f)&&(f.id)&&(m.tinymce)&&(n=tinyMCE.get(f.id));return n}function e(f){return !!((f)&&(f.length)&&(m.tinymce)&&(f.is(":tinymce")))}var b={};g.each(["text","html","val"],function(s,p){var q=b[p]=g.fn[p],f=(p==="text");g.fn[p]=function(n){var u=this;if(!e(u)){return q.apply(u,arguments)}if(n!==k){a.call(u.filter(":tinymce"),n);q.apply(u.not(":tinymce"),arguments);return u}else{var o="";var t=arguments;(f?u:u.eq(0)).each(function(x,w){var y=d(w);o+=y?(f?y.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):y.getContent()):q.apply(g(w),t)});return o}}});g.each(["append","prepend"],function(s,f){var q=b[f]=g.fn[f],p=(f==="prepend");g.fn[f]=function(n){var o=this;if(!e(o)){return q.apply(o,arguments)}if(n!==k){o.filter(":tinymce").each(function(v,u){var w=d(u);w&&w.setContent(p?n+w.getContent():w.getContent()+n)});q.apply(o.not(":tinymce"),arguments);return o}}});g.each(["remove","replaceWith","replaceAll","empty"],function(f,o){var p=b[o]=g.fn[o];g.fn[o]=function(){c.call(this,o);return p.apply(this,arguments)}});b.attr=g.fn.attr;g.fn.attr=function(w,t,v){var f=this;if((!w)||(w!=="value")||(!e(f))){return b.attr.call(f,w,t,v)}if(t!==k){a.call(f.filter(":tinymce"),t);b.attr.call(f.not(":tinymce"),w,t,v);return f}else{var u=f[0],s=d(u);return s?s.getContent():b.attr.call(g(u),w,t,v)}}}})(jQuery);(function(a){a.debounce=function(e,b,c){var f;return function d(){var g=this;var j=arguments;function h(){if(!c){e.apply(g,j)}f=null}if(f){clearTimeout(f)}else{if(c){e.apply(g,j)}}f=setTimeout(h,b||interval)}};a.debounceEvent=function(c,d,b){return function(e){return e?this.bind(d,a.debounce(e)):this.trigger(c)}};a.fn.resizepause=a.debounceEvent("resizepause","resize",100);a.fn.movepause=a.debounceEvent("movepause","move",100);a.fn.scrollpause=a.debounceEvent("scrollpause","scroll",100)})($);(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(c){if(c.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(c)}else{return this.add_option(c)}};b.prototype.add_group=function(j){var h,e,g,d,f,c;h=this.parsed.length;this.parsed.push({array_index:h,group:true,label:j.label,children:0,disabled:j.disabled});f=j.childNodes;c=[];for(g=0,d=f.length;g<d;g++){e=f[g];c.push(this.add_option(e,h,j.disabled))}return c};b.prototype.add_option=function(d,e,c){if(d.nodeName.toUpperCase()==="OPTION"){if(d.text!==""){if(e!=null){this.parsed[e].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,unaccent:d.text.removeDiacritics(),html:d.innerHTML,selected:d.selected,disabled:c===true?c:d.disabled,group_array_index:e,classes:d.className,style:d.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var g,f,e,c,d;f=new a();d=b.childNodes;for(e=0,c=d.length;e<c;e++){g=d[e];f.add_node(g)}return f.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function c(d,e){this.form_field=d;this.options=e!=null?e:{};if(!c.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}c.prototype.set_default_values=function(){var d=this;this.click_test_action=function(e){return d.test_active_click(e)};this.activate_action=function(e){return d.activate_field(e)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;this.overflow_container=this.options.overflow_container;return this.inherit_select_classes=this.options.inherit_select_classes||false};c.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||c.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||c.default_single_text}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||c.default_no_result_text};c.prototype.mouse_enter=function(){return this.mouse_on_container=true};c.prototype.mouse_leave=function(){return this.mouse_on_container=false};c.prototype.input_focus=function(d){var e=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return e.container_mousedown()}),50)}}else{if(!this.active_field){return this.activate_field()}}};c.prototype.input_blur=function(d){var e=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return e.blur_test()}),100)}};c.prototype.result_add_option=function(f){var d,e;if(!f.disabled){f.dom_id=this.container_id+"_o_"+f.array_index;d=f.selected&&this.is_multiple?[]:["active-result"];if(f.selected){d.push("result-selected")}if(f.group_array_index!=null){d.push("group-option")}if(f.classes!==""){d.push(f.classes)}e=f.style.cssText!==""?' style="'+f.style+'"':"";return'<li id="'+f.dom_id+'" class="'+d.join(" ")+'"'+e+">"+f.html+"</li>"}else{return""}};c.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};c.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};c.prototype.results_search=function(d){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};c.prototype.choices_count=function(){var e,g,d,f;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;f=this.form_field.options;for(g=0,d=f.length;g<d;g++){e=f[g];if(e.selected){this.selected_option_count+=1}}return this.selected_option_count};c.prototype.choices_click=function(d){d.preventDefault();if(!this.results_showing){return this.results_show()}};c.prototype.keyup_checker=function(d){var f,e;f=(e=d.which)!=null?e:d.keyCode;this.search_field_scale();switch(f){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:d.preventDefault();if(this.results_showing){return this.result_select(d)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.generate_field_id=function(){var d;d=this.generate_random_id();this.form_field.id=d;return d};c.prototype.generate_random_char=function(){var f,e,d;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";d=Math.floor(Math.random()*f.length);return e=f.substring(d,d+1)};c.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};c.browser_is_supported=function(){var d;if(window.navigator.appName==="Microsoft Internet Explorer"){return(null!==(d=document.documentMode)&&d>=8)}return true};c.default_multiple_text="Select Some Options";c.default_single_text="Select an Option";c.default_no_result_text="No results match";return c})();a.AbstractChosen=b}).call(this);(function(){var e,f,a,d,b={}.hasOwnProperty,c=function(k,h){for(var g in h){if(b.call(h,g)){k[g]=h[g]}}function j(){this.constructor=k}j.prototype=h.prototype;k.prototype=new j();k.__super__=h.prototype;return k};a=this;e=jQuery;e.fn.extend({chosen:function(g){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(h){var j;j=e(this);if(!j.hasClass("chzn-done")){return j.data("chosen",new f(this,g))}})},unchosen:function(){return e(this).each(function(h){var g,j;j=e(this);g=j.data("chosen");if(g){g.remove();j.data("chosen",null)}return j})}});f=(function(g){c(h,g);function h(){d=h.__super__.constructor.apply(this,arguments);return d}h.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;this.overflow_container=typeof this.overflow_container==="undefined"?this.form_field_jq.parent():this.overflow_container;return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};h.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};h.prototype.set_up_html=function(){var j,o,m,l,k,p=this;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();j=["chzn-container"];j.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){j.push(this.form_field.className)}if(this.is_rtl){j.push("chzn-rtl")}o={id:this.container_id,"class":j.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};var n=e("<div />",o);if(this.is_multiple){n.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>')}else{n.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(n);this.container=e("#"+this.container_id);this.dropdown=this.container.find("div.chzn-drop").first();m=this.container.height();l=this.f_width-get_side_border_padding(this.dropdown);this.dropdown.css({width:l+"px",top:m+"px",display:"none"});if(this.overflow_container){this.overflow_container.parents("*").bind("scroll",function(q){p.results_hide()});this.overflow_container.parents(".ui-dialog:first").bind("dialogdragstart dialogdragstop",function(q){p.results_hide()});this.overflow_container.parents(".ui-resizable:first").bind("resize",function(q){p.results_hide()});e(window).scroll(function(q){p.update_position(q)})}this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();k=l-get_side_border_padding(this.search_container)-get_side_border_padding(this.search_field);this.search_field.css({width:k+"px"})}this.results_build();this.set_tab_index();this.set_label_behavior();this.dropdown_id=this.container_id+"_drop";this.dropdown.attr("id",this.dropdown_id);e("body").append(this.dropdown);return this.form_field_jq.trigger("liszt:ready",{chosen:this})};h.prototype.remove_html=function(){this.form_field_jq.show();this.dropdown.remove();return this.container.remove()};h.prototype.register_observers=function(){var j=this;this.container.mousedown(function(k){j.container_mousedown(k)});this.container.mouseup(function(k){j.container_mouseup(k)});this.container.mouseenter(function(k){j.mouse_enter(k)});this.container.mouseleave(function(k){j.mouse_leave(k)});this.container.find(".chzn-single").focus(function(k){j.dropdown.css({display:"block"})});this.dropdown.mouseenter(function(k){return j.mouse_enter(k)});this.dropdown.mouseleave(function(k){return j.mouse_leave(k)});this.search_results.mouseup(function(k){j.search_results_mouseup(k)});this.search_results.mouseover(function(k){j.search_results_mouseover(k)});this.search_results.mouseout(function(k){j.search_results_mouseout(k)});this.search_results.bind("mousewheel DOMMouseScroll",function(k){j.search_results_mousewheel(k)});this.form_field_jq.bind("liszt:updated",function(k){j.results_update_field(k)});this.form_field_jq.bind("liszt:activate",function(k){j.activate_field(k)});this.form_field_jq.bind("liszt:open",function(k){j.container_mousedown(k)});this.search_field.blur(function(k){j.input_blur(k)});this.search_field.keyup(function(k){j.keyup_checker(k)});this.search_field.keydown(function(k){j.keydown_checker(k)});if(this.is_multiple){this.search_choices.click(function(k){j.choices_click(k)});return this.search_field.focus(function(k){return j.input_focus(k)})}else{return this.container.click(function(k){k.preventDefault()})}};h.prototype.unregister_observers=function(){return this.form_field_jq.unbind("liszt:updated")};h.prototype.reset_tab_index=function(){if(this.search_field.attr("tabIndex")){this.form_field_jq.attr("tabIndex",this.search_field.attr("tabIndex"));return this.search_field.attr("tabIndex",-1)}};h.prototype.remove=function(){this.reset_tab_index();this.unregister_observers();return this.remove_html()};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled||this.form_field_jq.is("[readonly]");if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};h.prototype.container_mousedown=function(j){if(!this.is_disabled){if(j&&j.type==="mousedown"&&!this.results_showing){j.preventDefault();j.stopPropagation()}if(!((j!=null)&&(e(j.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&j&&((e(j.target)[0]===this.selected_item[0])||e(j.target).parents("a.chzn-single").length)){j.preventDefault();this.results_toggle()}}return this.activate_field()}}};h.prototype.container_mouseup=function(j){if(j.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(j)}};h.prototype.search_results_mousewheel=function(k){var m,j,l;m=-((j=k.originalEvent)!=null?j.wheelDelta:void 0)||((l=k.originialEvent)!=null?l.detail:void 0);if(m!=null){k.preventDefault();if(k.type==="DOMMouseScroll"){m=m*40}return this.search_results.scrollTop(m+this.search_results.scrollTop())}};h.prototype.blur_test=function(j){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};h.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};h.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};h.prototype.test_active_click=function(j){if(e(j.target).parents("#"+this.container_id+", #"+this.dropdown_id).length){return this.active_field=true}else{return this.close_field()}};h.prototype.results_build=function(){var l,n,m,k,j;this.parsing=true;this.selected_option_count=null;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices_count()>0){this.search_choices.find("li.search-choice").remove()}else{if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}}l="";j=this.results_data;for(m=0,k=j.length;m<k;m++){n=j[m];if(n.group){l+=this.result_add_group(n)}else{if(!n.empty){l+=this.result_add_option(n);if(n.selected&&this.is_multiple){this.choice_build(n)}else{if(n.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(n.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(l);return this.parsing=false};h.prototype.result_add_group=function(j){if(!j.disabled){j.dom_id=this.container_id+"_g_"+j.array_index;return'<li id="'+j.dom_id+'" class="group-result">'+e("<div />").text(j.label).html()+"</li>"}else{return""}};h.prototype.result_do_highlight=function(k){var o,n,l,m,j;if(k.length){this.result_clear_highlight();this.result_highlight=k;this.result_highlight.addClass("highlighted");l=parseInt(this.search_results.css("maxHeight"),10);j=this.search_results.scrollTop();m=l+j;n=this.result_highlight.position().top+this.search_results.scrollTop();o=n+this.result_highlight.outerHeight();if(o>=m){return this.search_results.scrollTop((o-l)>0?o-l:0)}else{if(n<j){return this.search_results.scrollTop(n)}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};h.prototype.results_show=function(){if(this.result_single_selected!=null){this.result_do_highlight(this.result_single_selected)}else{if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}}this.container.addClass("chzn-with-drop");this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.results_showing=true;this.update_position();this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};h.prototype.update_position=function(){var j,l,m,k;if(this.results_showing){j=this.is_multiple?this.container.height():this.container.height()-1;m=this.container.offset();dd_max_height=240;dd_min_height=150;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:(m.top+j)+"px",left:m.left+"px",width:this.container.outerWidth(true)+"px",maxHeight:"99999px",display:"block"});this.search_results.css("maxHeight",dd_max_height+"px");k=this.dropdown.offset().top-e(window).scrollTop();l=e(window).height()-k;if(l>dd_max_height){l=dd_max_height}if(l<dd_min_height){l=dd_min_height}if(k+l>e(window).height()){l=this.dropdown.height();this.dropdown.css("top",(m.top-l)+"px")}else{this.dropdown.css("maxHeight",l+"px")}return this.search_results.css("maxHeight",(l-this.search_container.height()-10)+"px")}};h.prototype.results_hide=function(){this.result_clear_highlight();this.search_results.scrollTop(0);this.container.removeClass("chzn-with-drop");this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px",display:"none"});return this.results_showing=false};h.prototype.set_tab_index=function(k){var j;if(this.form_field_jq.attr("tabindex")){j=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",j)}else{this.selected_item.attr("tabindex",j);return this.search_field.attr("tabindex",-1)}}};h.prototype.set_label_behavior=function(){var j=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=e("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.click(function(k){if(j.is_multiple){return j.container_mousedown(k)}else{return j.activate_field()}})}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};h.prototype.search_results_mouseup=function(j){var k;k=e(j.target).hasClass("active-result")?e(j.target):e(j.target).parents(".active-result").first();if(k.length){this.result_highlight=k;this.result_select(j);return this.search_field.focus()}};h.prototype.search_results_mouseover=function(j){var k;k=e(j.target).hasClass("active-result")?e(j.target):e(j.target).parents(".active-result").first();if(k){return this.result_do_highlight(k)}};h.prototype.search_results_mouseout=function(j){if(e(j.target).hasClass("active-result"||e(j.target).parents(".active-result").first())){return this.result_clear_highlight()}};h.prototype.choice_build=function(k){var j,l,m=this;j=e("<li />",{"class":"search-choice"}).html("<span>"+k.html+"</span>");if(k.disabled){j.addClass("search-choice-disabled")}else{l=e("<a />",{href:"#","class":"search-choice-close",rel:k.array_index});l.click(function(n){return m.choice_destroy_link_click(n)});j.append(l)}return this.search_container.before(j)};h.prototype.choice_destroy_link_click=function(j){j.preventDefault();j.stopPropagation();if(!this.is_disabled){return this.choice_destroy(e(j.target))}};h.prototype.choice_destroy=function(j){if(this.result_deselect(j.attr("rel"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}j.parents("li").first().remove();return this.search_field_scale()}};h.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};h.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};h.prototype.result_select=function(k){var n,m,l,j;if(this.result_highlight){n=this.result_highlight;m=n.attr("id");this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}if(this.is_multiple){this.result_deactivate(n)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=n;this.selected_item.removeClass("chzn-default")}n.addClass("result-selected");j=m.substr(m.lastIndexOf("_")+1);l=this.results_data[j];l.selected=true;this.form_field.options[l.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(l)}else{this.selected_item.find("span").first().text(l.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!((k.metaKey||k.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[l.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};h.prototype.result_activate=function(j){return j.addClass("active-result")};h.prototype.result_deactivate=function(j){return j.removeClass("active-result")};h.prototype.result_deselect=function(l){var j,k;k=this.results_data[l];if(!this.form_field.options[k.options_index].disabled){k.selected=false;this.form_field.options[k.options_index].selected=false;this.selected_option_count=null;j=e("#"+this.container_id+"_o_"+l);j.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[k.options_index].value});this.search_field_scale();return true}else{return false}};h.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};h.prototype.winnow_results=function(){var p,s,w,v,m,t,o,z,u,y,x,q,n,k,j,A,B,l;this.no_results_clear();u=0;y=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();t=this.search_contains?"":"^";m=new RegExp(t+y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");n=new RegExp(y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");l=this.results_data;for(k=0,A=l.length;k<A;k++){s=l[k];if(!s.disabled&&!s.empty){if(s.group){e("#"+s.dom_id).css("display","none")}else{if(!(this.is_multiple&&s.selected)){p=false;z=s.dom_id;o=e("#"+z);if(m.test(s.text)||m.test(s.unaccent)){p=true;u+=1}else{if(this.enable_split_word_search&&(s.text.indexOf(" ")>=0||s.text.indexOf("[")===0)){v=s.text.replace(/\[|\]/g,"").split(" ");if(v.length){for(j=0,B=v.length;j<B;j++){w=v[j];if(m.test(w)){p=true;u+=1}}}}}if(p){o.html(s.html);this.result_activate(o);if(s.group_array_index!=null){e("#"+this.results_data[s.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&z===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(o)}}}}}if(u<1&&y.length){return this.no_results(y)}else{return this.winnow_results_set_highlight()}};h.prototype.winnow_results_clear=function(){var j,m,n,l,k;this.search_field.val("");m=this.search_results.find("li");k=[];for(n=0,l=m.length;n<l;n++){j=m[n];j=e(j);if(j.hasClass("group-result")){k.push(j.css("display","auto"))}else{if(!this.is_multiple||!j.hasClass("result-selected")){k.push(this.result_activate(j))}else{k.push(void 0)}}}return k};h.prototype.winnow_results_set_highlight=function(){var j,k;if(!this.result_highlight){k=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];j=k.length?k.first():this.search_results.find(".active-result").first();if(j!=null){return this.result_do_highlight(j)}}};h.prototype.no_results=function(j){var k;k=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');k.find("span").first().html(j);return this.search_results.append(k)};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};h.prototype.keydown_arrow=function(){var k,j;if(!this.result_highlight){k=this.search_results.find("li.active-result").first();if(k){this.result_do_highlight(e(k))}}else{if(this.results_showing){j=this.result_highlight.nextAll("li.active-result").first();if(j){this.result_do_highlight(j)}}}if(!this.results_showing){return this.results_show()}};h.prototype.keyup_arrow=function(){var j;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){j=this.result_highlight.prevAll("li.active-result");if(j.length){return this.result_do_highlight(j.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}}};h.prototype.keydown_backstroke=function(){var j;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{j=this.search_container.siblings("li.search-choice").last();if(j.length&&!j.hasClass("search-choice-disabled")){this.pending_backstroke=j;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};h.prototype.keydown_checker=function(k){var l,j;l=(j=k.which)!=null?j:k.keyCode;this.search_field_scale();if(l!==8&&this.pending_backstroke){this.clear_backstroke()}switch(l){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(k)}this.mouse_on_container=false;break;case 13:k.preventDefault();break;case 38:k.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};h.prototype.search_field_scale=function(){var q,m,l,o,n,k,p,j;if(this.is_multiple){m=0;k=0;o="position:absolute; left: -1000px; top: -1000px; display:none;";n=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(p=0,j=n.length;p<j;p++){l=n[p];o+=l+":"+this.search_field.css(l)+";"}q=e("<div />",{style:o});q.text(this.search_field.val());e("body").append(q);k=q.width()+25;q.remove();if(!this.f_width){this.f_width=this.container.outerWidth()}if(k>this.f_width-10){k=this.f_width-10}this.search_field.css({width:k+"px"});return this.update_position()}};h.prototype.generate_random_id=function(){var j;j="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+j).length>0){j+=this.generate_random_char()}return j};return h})(AbstractChosen);a.Chosen=f;get_side_border_padding=function(g){var h;return h=g.outerWidth()-g.width()};a.get_side_border_padding=get_side_border_padding}).call(this);(function(){function b(c,d){if(!Object[c]){Object[c]=d}}function a(c,d){if(!Object.prototype[c]){Object.prototype[c]=d}}b("property",function(e,c,d){if(d===undefined){return e[c]}e[c]=d;return e});b("keys",function(f,d){var e=[];var c;for(c in f){if(d||f.hasOwnProperty(c)){e.push(c)}}return e});b("values",function(d,c){values=[];for(key in d){if(c||d.hasOwnProperty(key)){values.push(d[key])}}return values});b("entries",function(d,c){entries=[];for(key in d){if(c||d.hasOwnProperty(key)){entries.push([key,d[key]])}}return entries});b("isNone",function(c){return c===undefined||c===null});b("isEmpty",function(d){if(Object.isNone(d)||d.length===0){return true}if(typeof d==="number"){return false}for(var c in d){return false}return true});b("isType",function(d,c){return(typeof d===c)});b("assertIsTypeOf",function(d,c){if(typeof d!==c){throw'"'+d+'" is not a '+c}});b("isFunc",function(c){return(typeof c==="function")});b("isString",function(c){return(typeof c==="string")||(typeof c==="object"&&Object.getPrototypeOf(c)==String.prototype)});b("proxy",function(g,e,c){if(Object.isNone(g)){return}var c=c||{};var e=e||g;var d={__context__:e||{}};var f=Object.isFunc(c.filter)?c.filter:function(){return true};var h=Object.isFunc(c.arguments)?function(k){return c.arguments(Array.copy(k))}:Array.copy;for(key in g){var j=g[key];if(!Object.isFunc(j)||f(key,j)===false){continue}(function(l,m,k){l[k]=function(){return m.apply(this.__context__,h(arguments))}})(d,j,key)}return d});b("getPrototypeOf",function(c){if(typeof"".__proto__==="object"){return c.__proto__}if(Object.isNone(c)||c===Object.prototype){return null}return Object.isNone(c.constructor)?null:c.constructor.prototype})})();(function(d){function a(e,f){if(!Array.prototype[e]){Array.prototype[e]=f}}function c(e,f){if(!Array[e]){Array[e]=f}}a("indexOf",function(f,g){for(var e=g||0;e<this.length;e++){if(this[e]===f){return e}}return -1});if(!Array.isArray){Array.isArray=function b(e){return(e!==undefined&&e!==null&&e.toString()==="[object Array]")||e instanceof Array}}c("copy",function(h,j,e){var g=[];var j=Math.min(Math.max(0,j||0),h.length);var e=e!==undefined?Math.min(Math.max(0,e),h.length):h.length;for(var f=j;f<e;++f){g.push(h[f])}return g});a("map",function(g,f){f=f||window;var h=[];for(var e=0;e<this.length;e++){h[h.length]=g.call(f,this[e],e,this)}return h});a("forEach",function(g,f){for(var e=0;e<this.length;e++){g.call(f||window,this[e],e,this)}});if(d!==undefined){return}a("exfiltrate",function(e){return this.filter(function(f){return this.indexOf(f)<0},e)});a("contains",function(e){return this.indexOf(e)>=0});a("every",function(g,f){for(var e=0;e<this.length;e++){if(!g.call(f||window,this[e],e,this)){return false}}return true});a("filter",function(g,f){var h=[];for(var e=0;e<this.length;e++){if(g.call(f||window,this[e],e,this)){h.push(this[e])}}return h});a("getRange",function(j,e){var f=this;if(f.length<1){return[]}j=j||0;e=Math.min(typeof e=="undefined"?this.length-1:e,this.length-1);var h=[];if(j<=e){for(var g=j;g<=e;g++){h[h.length]=f[g]}}else{for(var g=j;g>=e;g--){h[h.length]=f[g]}}return h});a("inArray",function(f){for(var e=0;e<this.length;e++){if(f==this[e]){return true}}return false});a("insertAt",function(f,g){for(var e=this.length;e>f;e--){this[e]=this[e-1]}this[f]=g;return this});a("removeAt",function(f){for(var e=f;e<this.length-1;e++){this[e]=this[e+1]}this.length--;return this});a("some",function(g,f){for(var e=0;e<this.length;e++){if(g.call(f||window,this[e],e,this)){return true}}return false});a("unique",function(){return this.filter(function(f,e,g){return g.indexOf(f)>=e})})})(jQuery);String.prototype.format=function(){function d(q,a,n,p){var o=(q.length>=a)?"":Array(1+a-q.length>>>0).join(n);return p?q+o:o+q}function b(o){var n=new String(o);for(var a=10;a>0;a--){if(n==(n=n.replace(/^(\d+)(\d{3})/,"$1"+m+"$2"))){break}}return n}function e(s,q,u,o,p,n){var t=o-s.length;if(t>0){var a=" ";if(n){a="&nbsp;"}if(u||!p){s=d(s,o,a,u)}else{s=s.slice(0,q.length)+d("",t,"0",true)+s.slice(q.length)}}return s}function l(v,n,t,o,a,s,u,q){var p=v>>>0;t=t&&p&&{"2":"0b","8":"0","16":"0x"}[n]||"";v=t+d(p.toString(n),s||0,"0",false);return e(v,t,o,a,u,q)}function f(q,s,o,a,p,n){if(a!=null){q=q.slice(0,a)}return e(q,"",s,o,p,n)}var k=arguments,g=0;var m=",";var h=".";var j=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g;if(k.length===1&&Array.isArray(k[0])){k=k[0]}var c=new String(this);return c.replace(j,function(J,u,v,y,L,G,s){if(J=="%%"){return"%"}var A=false,w="",x=false,I=false,t=false,q=false;for(var F=0;v&&F<v.length;F++){switch(v.charAt(F)){case" ":w=" ";break;case"+":w="+";break;case"-":A=true;break;case"0":x=true;break;case"#":I=true;break;case"&":t=true;break;case"'":q=true;break}}if(!y){y=0}else{if(y=="*"){y=+k[g++]}else{if(y.charAt(0)=="*"){y=+k[y.slice(1,-1)]}else{y=+y}}}if(y<0){y=-y;A=true}if(!isFinite(y)){throw new Error("String.sprintf: (minimum-)width must be finite")}if(!G){G="fFeE".indexOf(s)>-1?6:(s=="d")?0:void (0)}else{if(G=="*"){G=+k[g++]}else{if(G.charAt(0)=="*"){G=+k[G.slice(1,-1)]}else{G=+G}}}var C=u?k[u.slice(0,-1)]:k[g++];switch(s){case"s":if(C==null){return""}return f(String(C),A,y,G,x,t);case"c":return f(String.fromCharCode(+C),A,y,G,x,t);case"b":return l(C,2,I,A,y,G,x,t);case"o":return l(C,8,I,A,y,G,x,t);case"x":return l(C,16,I,A,y,G,x,t);case"X":return l(C,16,I,A,y,G,x,t).toUpperCase();case"u":return l(C,10,I,A,y,G,x,t);case"i":var o=parseInt(+C,10);if(isNaN(o)){return""}var E=o<0?"-":w;var H=q?b(String(Math.abs(o))):String(Math.abs(o));C=E+d(H,G,"0",false);return e(C,E,A,y,x,t);case"d":var o=Math.round(+C);if(isNaN(o)){return""}var E=o<0?"-":w;var H=q?b(String(Math.abs(o))):String(Math.abs(o));C=E+d(H,G,"0",false);return e(C,E,A,y,x,t);case"e":case"E":case"f":case"F":case"g":case"G":var o=+C;if(isNaN(o)){return""}var E=o<0?"-":w;var p=["toExponential","toFixed","toPrecision"]["efg".indexOf(s.toLowerCase())];var K=["toString","toUpperCase"]["eEfFgG".indexOf(s)%2];var H=Math.abs(o)[p](G);H=q?b(H):H;C=E+H;var z=e(C,E,A,y,x,t)[K]();if(h!=="."&&h!==m){return z.replace(/\./,h)}else{return z}case"p":case"P":var o=+C;if(isNaN(o)){return""}var E=o<0?"-":w;var B=String(Number(Math.abs(o)).toExponential()).split(/e|E/);var n=(B[0].indexOf(".")!=-1)?B[0].length-1:B[0].length;var D=(B[1]<0)?-B[1]-1:0;if(Math.abs(o)<1){if(n+D<=G){C=E+Math.abs(o).toPrecision(n)}else{if(n<=G-1){C=E+Math.abs(o).toExponential(n-1)}else{C=E+Math.abs(o).toExponential(G-1)}}}else{var a=(n<=G)?n:G;C=E+Math.abs(o).toPrecision(a)}var K=["toString","toUpperCase"]["pP".indexOf(s)%2];return e(C,E,A,y,x,t)[K]();case"n":return"";default:return J}})};(function(){function b(d,e){if(!String.prototype[d]){String.prototype[d]=e}}b("startsWith",function(d){return this.slice(0,d.length)==d});b("endsWith",function(d){return this.slice(-d.length)==d});b("trim",function(){return this.replace(/^\s+|\s+$/g,"")});b("ltrim",function(){return this.replace(/^\s+/,"")});b("rtrim",function(){return this.replace(/\s+$/,"")});b("capitalize",function(){return this.length>0?this.slice(0,1).toUpperCase().concat(this.slice(1,this.length)):this});b("isDigit",function(){return this.match(/^(\+|\-)?[\.0-9]+/)!==null});b("isAlpha",function(){return this.match(/^[a-zA-z]+$/)!==null});b("isSpace",function(){return this.match(/^[\s]+$/)!==null});__decodeEntity=function(d){if(d.charAt(2)=="x"){return String.fromCharCode(parseInt(d.substr(3,d.length-4),16))}else{return String.fromCharCode(d.substr(2,d.length-3))}};__decodeUnicode=function(d){return String.fromCharCode(parseInt(d.substr(2,d.length-2),16))};b("decodeHTMLEntities",function(){return this.replace(/\\u[0-9A-F]{4,6}/gi,__decodeUnicode).replace(/&(#([0-9]{2,4})|#x([0-9A-F]{2,6}));/gi,__decodeEntity)});var a=[["A","\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]"],["AA","\uA732]"],["AE","\u00C6\u01FC\u01E2]"],["AO","\uA734]"],["AU","\uA736]"],["AV","\uA738\uA73A]"],["AY","\uA73C]"],["B","\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]"],["C","\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]"],["D","\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]"],["DZ","\u01F1\u01C4]"],["Dz","\u01F2\u01C5]"],["E","\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]"],["F","\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]"],["G","\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]"],["H","\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]"],["I","\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]"],["J","\u004A\u24BF\uFF2A\u0134\u0248]"],["K","\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]"],["L","\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]"],["LJ","\u01C7]"],["Lj","\u01C8]"],["M","\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]"],["N","\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]"],["NJ","\u01CA]"],["Nj","\u01CB]"],["O","\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]"],["OI","\u01A2]"],["OO","\uA74E]"],["OU","\u0222]"],["P","\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]"],["Q","\u0051\u24C6\uFF31\uA756\uA758\u024A]"],["R","\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]"],["S","\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]"],["T","\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]"],["TZ","\uA728]"],["U","\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]"],["V","\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]"],["VY","\uA760]"],["W","\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]"],["X","\u0058\u24CD\uFF38\u1E8A\u1E8C]"],["Y","\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]"],["Z","\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]"],["a","\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]"],["aa","\uA733]"],["ae","\u00E6\u01FD\u01E3]"],["ao","\uA735]"],["au","\uA737]"],["av","\uA739\uA73B]"],["ay","\uA73D]"],["b","\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]"],["c","\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]"],["d","\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]"],["dz","\u01F3\u01C6]"],["e","\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]"],["f","\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]"],["g","\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]"],["h","\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]"],["hv","\u0195]"],["i","\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]"],["j","\u006A\u24D9\uFF4A\u0135\u01F0\u0249]"],["k","\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]"],["l","\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]"],["lj","\u01C9]"],["m","\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]"],["n","\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]"],["nj","\u01CC]"],["o","\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]"],["oi","\u01A3]"],["ou","\u0223]"],["oo","\uA74F]"],["p","\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]"],["q","\u0071\u24E0\uFF51\u024B\uA757\uA759]"],["r","\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]"],["s","\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]"],["t","\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]"],["tz","\uA729]"],["u","\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]"],["v","\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]"],["vy","\uA761]"],["w","\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]"],["x","\u0078\u24E7\uFF58\u1E8B\u1E8D]"],["y","\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]"],["z","\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]"]];var c={};a.forEach(function(d){var e=d[1].split("");e.forEach(function(f){c[f]=d[0]})});b("removeDiacritics",function(){return this.replace(/[^\u0000-\u007E]/g,function(d){return c[d]||d})})})();window.console=window.console||{};(function(){function b(d,e){if(!window.console[d]){window.console[d]=e}}function c(){var e=navigator.appVersion.match(/MSIE ([\d.]+)/);if(e===null){return false}if(arguments.length===0){return true}for(var d=0;d<arguments.length;++d){if(e[1].indexOf(""+arguments[d])!==-1){return true}}return false}b("log",function(){if(window.opera&&window.opera.postError){return window.opera.postError.apply(window.opera,arguments)}});b("warn",window.console.log);b("error",window.console.log);if(c(9,10)){var a=["log","warn","error"];a.forEach(function(d){var e=Function.prototype.bind.call(console[d],console);console[d]=function(){return e.apply(console,Array.copy(arguments).map(function(f){if(typeof f==="object"&&JSON&&JSON.stringify){return JSON.stringify(f,function(g,h){if(typeof h==="function"){h=h.toString();return h.slice(0,h.indexOf(")")+1)}else{return h}})+" "}return f+" "}))}})}})();if(!this["Event"]){this["Event"]=function(){}}(function(){function a(b,c){if(!Event.prototype[b]){Event.prototype[b]=c}}a("stopPropagation",function(){this.cancelBubble=true});a("preventDefault",function(){this.returnValue=false})})();if(!this["HTMLDocument"]){this["HTMLDocument"]=function(){}}if(!this["CSSStyleDeclaration"]){this["CSSStyleDeclaration"]=function(){}}(function(){function a(b,c){if(!HTMLDocument.prototype[b]){HTMLDocument.prototype[b]=c}}a("createElementNS",function(c,b){return this.createElement(b)})})();ArrayTools={get:function(d,b,a){var c=null;if(b===-1||b===(d.length-1)){c=d.slice(b)}else{c=d.slice(b,b+1)}return c.length?c[0]:a},set:function(d,a,c){if(a>=0){d[a]=c;return d}if(a>=-d.length){d.splice(a,1,c);return d}var b=[];b[-(d.length+a+1)]=c;Array.prototype.unshift.apply(d,b.reverse());return d},remove:function(b,a){return b.splice(a,1)[0]},sum:function(c,d,a){var b=0;var c=(d!==undefined)?c.slice(d,a):c;c.forEach(function(e){b+=window.isNaN(e)?0:e});return b},swap:function(d,b,a){var c=this.get(d,a);var e=this.get(d,b);this.set(d,a,e);this.set(d,b,c);return d},insertOrReplace:function(c,d,a,b){if(a!==undefined){c.splice(a,0,b)}else{ArrayTools.set(c,d,b)}return c}};Generator=function(){this._getter=undefined;this._processor=undefined};Generator.prototype={_next:function(b,a,d){var c=this._getter?this._getter.apply(this,[b,a,d]):b;if(c!==undefined&&this._processor){c=this._processor.apply(this,[c,a,d])}return c},get:function(a){var b=this;if(a===undefined){return this._getter}if(typeof a==="number"){var d=a;this._getter=function(f,e,g){return ArrayTools.get(f,d)}}else{if(typeof a==="function"){this._getter=a}else{if(a!==null){var c=a;this._getter=function(f,e,g){return f[c]}}else{this._getter=undefined}}}return this},each:function(a){if(a===undefined){return this._processor}this._processor=a||undefined;return this},iterator:function(){var a=this;return function(c,b,d){return a._next(c,b,d)}}};GeneratorTools={array:{swap:function(b,a){return function(e,c,d){return ArrayTools.swap(e.slice(),b,a)}},ratio:function(d,c,b,a){return function(g,e,f){var h=(ArrayTools.get(g,d,0)*b)/c;var j=g.slice();if(a!==undefined){j.splice(a,0,h)}else{ArrayTools.set(j,d,h)}return j}},format:function(b,a){return function(e,c,d){var f=e.slice();f.splice(a!==undefined?a:e.length,0,b.format(e));return f}}}};Date.CultureInfo={name:"fr-FR",englishName:"French (France)",nativeName:"franais (France)",dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],abbreviatedDayNames:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],shortestDayNames:["di","lu","ma","me","je","ve","sa"],firstLetterDayNames:["d","l","m","m","j","v","s"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],abbreviatedMonthNames:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],amDesignator:"",pmDesignator:"",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"dd/MM/yyyy",longDate:"dddd d MMMM yyyy",shortTime:"HH:mm",longTime:"HH:mm:ss",fullDateTime:"dddd d MMMM yyyy HH:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"d MMMM",yearMonth:"MMMM yyyy"},regexPatterns:{jan:/^janv(.(ier)?)?/i,feb:/^fvr(.(ier)?)?/i,mar:/^mars/i,apr:/^avr(.(il)?)?/i,may:/^mai/i,jun:/^juin/i,jul:/^juil(.(let)?)?/i,aug:/^aot/i,sep:/^sept(.(embre)?)?/i,oct:/^oct(.(obre)?)?/i,nov:/^nov(.(embre)?)?/i,dec:/^dc(.(embre)?)?/i,sun:/^di(m(.(anche)?)?)?/i,mon:/^lu(n(.(di)?)?)?/i,tue:/^ma(r(.(di)?)?)?/i,wed:/^me(r(.(credi)?)?)?/i,thu:/^je(u(.(di)?)?)?/i,fri:/^ve(n(.(dredi)?)?)?/i,sat:/^sa(m(.(edi)?)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var k=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var j=Math.floor((b-e+7)/7);if(j===k){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){j=53}else{j=52}}return j};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}return this.moveToDayOfWeek(j,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(k){return function(){if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var b=function(j){return function(){this._dateElement=j;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var l=k.match(j);if(l){return([l[0],k.substring(l[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var l=[],n=null;while(k.length){try{n=j.call(this,k)}catch(m){l.push(n[0]);k=n[1];continue}break}return[l,k]}},many:function(j){return function(k){var n=[],l=null;while(k.length){try{l=j.call(this,k)}catch(m){return[n,k]}n.push(l[0]);k=l[1]}return[n,k]}},optional:function(j){return function(k){var l=null;try{l=j.call(this,k)}catch(m){return[null,k]}return[l[0],l[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(l){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var l=null;l=j.call(this,k);return[null,l[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(l){var j={},k=null;return function(m){try{k=j[m]=(j[m]||l.call(this,m))}catch(n){k=j[m]=n}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(l){var m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){m=null}if(m){return m}}throw new a.Exception(l)}},each:function(){var j=arguments;return function(l){var o=[],m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){throw new a.Exception(l)}o.push(m[0]);l=m[1]}return[o,l]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;if(j.length==1){return j[0]}return function(p){var t=null,u=null;var w=[];for(var o=0;o<j.length;o++){try{t=j[o].call(this,p)}catch(v){break}w.push(t[0]);try{u=k.call(this,t[1])}catch(n){u=null;break}p=u[1]}if(!t){throw new a.Exception(p)}if(u){throw new a.Exception(u[1])}if(l){try{t=l.call(this,t[1])}catch(m){throw new a.Exception(t[1])}}return[w,(t?t[1]:p)]}},between:function(k,l,j){j=j||k;var m=c.each(c.ignore(k),l,c.ignore(j));return function(n){var o=m.call(this,n);return[[o[0][0],r[0][2]],o[1]]}},list:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(l)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(l)))},set:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return function(C){var m=null,o=null,n=null,t=null,u=[[],C],B=false;for(var w=0;w<j.length;w++){n=null;o=null;m=null;B=(j.length==1);try{m=j[w].call(this,C)}catch(z){continue}t=[[m[0]],m[1]];if(m[1].length>0&&!B){try{n=k.call(this,m[1])}catch(A){B=true}}else{B=true}if(!B&&n[1].length===0){B=true}if(!B){var x=[];for(var v=0;v<j.length;v++){if(w!=v){x.push(j[v])}}o=c.set(x,k).call(this,n[1]);if(o[0].length>0){t[0]=t[0].concat(o[0]);t[1]=o[1]}}if(t[1].length<u[1].length){u=t}if(u[1].length===0){break}}if(u[0].length===0){return u}if(l){try{n=l.call(this,u[1])}catch(y){throw new a.Exception(u[1])}u[1]=n[1]}return u}},forward:function(j,k){return function(l){return j[k].call(this,l)}},replace:function(k,j){return function(l){var m=k.call(this,l);return[j,m[1]]}},process:function(k,j){return function(l){var m=k.call(this,l);return[j.call(this,m[0]),m[1]]}},min:function(j,k){return function(l){var m=k.call(this,l);if(m[0].length<j){throw new a.Exception(l)}return m}}};var h=function(j){return function(){var k=null,n=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var m=0,l=k.shift();m<l.length;m++){k.unshift(l[m]);n.push(j.apply(null,k));k.shift();return n}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(k){var l=[];for(var g=0;g<k.length;g++){if(k[g] instanceof Array){l=l.concat(f(k[g]))}else{if(k[g]){l.push(k[g])}}}return l};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var k=g.replace(/[^\d\+\-]/g,"");if(k.length){this.timezoneOffset=Number(k)}else{this.timezone=g.toLowerCase()}}},day:function(g){var k=g[0];return function(){this.day=Number(k.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var k=Number(g);this.year=((g.length>2)?k:(k+(((k+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var k=new Date();this.year=k.getFullYear();this.month=k.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var l=0;l<g.length;l++){if(g[l]){g[l].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){m.set({timezone:this.timezone})}else{if(this.timezoneOffset){m.set({timezoneOffset:this.timezoneOffset})}}return m},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var n=0;n<g.length;n++){if(typeof g[n]=="function"){g[n].call(this)}}if(this.now){return new Date()}var k=Date.today();var q=null;var o=!!(this.days!=null||this.orient||this.operator);if(o){var p,m,l;l=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";p=(Date.getDayNumberFromName(this.weekday)-k.getDay());m=7;this.days=p?((p+(l*m))%m):(l*m)}if(this.month){this.unit="month";p=(this.month-k.getMonth());m=12;this.months=p?((p+(l*m))%m):(l*m);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*l}return k.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(k.addDays((Date.getDayNumberFromName(this.weekday)-k.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return k.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,j;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(n){var m=a[n];if(!m){var o=Date.CultureInfo.regexPatterns;var l=n.split(/\s+/),k=[];for(var g=0;g<l.length;g++){k.push(b.replace(b.rtoken(o[l[g]]),l[g]))}m=a[n]=b.any.apply(null,k)}return m};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));j=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=j(e.d,e.dd);e.month=j(e.M,e.MMM);e.year=j(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);j=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=j(e.ddd,e.month,e.day,e.year);e.ymd=j(e.ddd,e.year,e.month,e.day);e.dmy=j(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(k){if(k instanceof Array){var l=[];for(var g=0;g<k.length;g++){l.push(c(k[g]))}return b.any.apply(null,l)}else{return c(k)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var k=e._formats.call({},g);if(k[1].length===0){return k}}catch(l){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};(function(a){a.fn.NavIt=function(p){var h={MultiSections:false,IncludeDropdownArrow:true,ArrowSideOnRight:true,IsVerticalNav:true,OverRideId:true,HighlightedPage:null,AlternatingButton:false,UseHoverOnTopOnly:false};var g=a.extend({},h,p);var j=a(this);j.show();a(document).ready(function(){b()});function b(){if(g.IsVerticalNav){d()}else{k()}}function k(){a(j,"ul li").each(function(){a(this).hide()});a(j).attr("style","width:auto;float:left;position:absolute;");n(j)}function n(s){a("ul",j).hide();var q=0;a("li",j).each(function(){if(g.OverRideId){a(this).attr("id","navIT-"+q)}a("a",this).click(function(){a("ul",this).slideToggle("slide")});a(this).parent().children("ul").slideToggle("slide");if(a(this).children("ul").size()>0){if(g.IncludeDropdownArrow){dropArrow=a("<span id=\"navIt-click\" class='navit-down'>&nbsp;</span>");dropArrow.bind("click",function(){if(g.AlternatingButton){m(a(this))}a(this).parent().children("ul").slideToggle("slide");if(!g.MultiSections){l(a(this).parent().attr("id"))}});if(a(this).parents("ul").size()==1&&g.UseHoverOnTopOnly){var t={over:function(){a(this).children("ul").slideToggle("slide")},timeout:300,out:function(){a(this).children("ul").slideToggle("slide")}};a(this).hoverIntent(t)}else{if(g.ArrowSideOnRight){dropArrow.attr("style","float:right;");dropArrow.insertBefore(a(this).children("a"))}else{dropArrow.attr("style","float:left;");dropArrow.insertBefore(a(this).children("a"))}}}else{var t={over:function(){a(this).children("ul").slideToggle("slide")},timeout:300,out:function(){a(this).children("ul").slideToggle("slide")}};a(this).hoverIntent(t)}}if(a(this).parents("ul").size()==1){a(this).addClass("navit-horiz-item navit-horiz-item-top")}else{var u=((a(this).parents("ul").size()-1)%3);switch(u){case 1:a(this).addClass("navit-horiz-item navit-horiz-item-secondary");break;case 2:a(this).addClass("navit-horiz-item navit-horiz-item-third");break;case 0:a(this).addClass("navit-horiz-item navit-horiz-item-fourth");break;default:break}}if(g.HighlightedPage!=null){if(a(this).attr("id")==g.HighlightedPage){if(a(this).parents("ul").size()==1){a(this).addClass("navit-item-top-highlighted")}else{var u=((a(this).parents("ul").size()-1)%3);switch(u){case 1:a(this).addClass("navit-item-secondary-highlighted");break;case 2:a(this).addClass("navit-item-third-highlighted");break;case 0:a(this).addClass("navit-item-fourth-highlighted");break;default:break}}}}q++})}function d(){var q=0;a("ul",j).hide();a("li",j).each(function(){if(g.OverRideId){a(this).attr("id","navIT-"+q)}if(a(this).parents("ul").size()==1){a(this).addClass("navit-item-top navit-item")}else{var s=((a(this).parents("ul").size()-1)%3);switch(s){case 1:a(this).addClass("navit-item-secondary navit-item");break;case 2:a(this).addClass("navit-item-third navit-item");break;case 0:a(this).addClass("navit-item-fourth navit-item");break;default:break}}if(a(this).children("ul").size()>0){if(g.IncludeDropdownArrow){dropArrow=a("<span id=\"navIt-click\" class='navit-down'>&nbsp;</span>");dropArrow.bind("click",function(){if(g.AlternatingButton){m(a(this))}a(this).parent().children("ul").slideToggle("slide");if(!g.MultiSections){l(a(this).parent().attr("id"))}});if(g.ArrowSideOnRight){dropArrow.attr("style","float:right;");dropArrow.insertBefore(a(this).children("ul"))}else{dropArrow.attr("style","float:left;");dropArrow.insertBefore(a(this).children("a"))}}else{}}if(g.HighlightedPage!=null){if(a(this).attr("id")==g.HighlightedPage){if(a(this).parents("ul").size()==1){a(this).addClass("navit-item-top-highlighted")}else{var s=((a(this).parents("ul").size()-1)%3);switch(s){case 1:a(this).addClass("navit-item-secondary-highlighted");break;case 2:a(this).addClass("navit-item-third-highlighted");break;case 0:a(this).addClass("navit-item-fourth-highlighted");break;default:break}}a(this).children().show();f(a(this).parent().parent().attr("id"))}}q++});j.show()}function f(q){a("li",j).each(function(){if(a(this).attr("id")==q){a(this).children().show();a(this).show();f(a(this).parent().parent().attr("id"))}})}var e;function l(s){e="";o(s);var q=e.split(",");a("li",j).each(function(){if(!c(q,a(this).attr("id"))){a(this).children("ul").slideUp()}})}function o(q){a("li",j).each(function(){if(a(this).attr("id")==q){e+=q+",";o(a(this).parent().parent().attr("id"))}})}function c(q,s){for(i=0;i<=q.length;i++){if(s==q[i]){return true}}return false}function m(q){q.parent().parent().children("li").children("#navIt-click").each(function(){if(a(this).parent().attr("id")!=q.parent().attr("id")){if(a(this).hasClass("navit-down-alt")){a(this).removeClass("navit-down-alt");a(this).addClass("navit-down")}}});if(a(this).hasClass("navit-down")){a(this).removeClass("navit-down");a(this).addClass("navit-down-alt")}else{a(this).removeClass("navit-down-alt");a(this).addClass("navit-down")}}}})(jQuery);creme=this.creme||{};creme.color=creme.color||{};creme.color.HEXtoRGB=function(a){var a=parseInt(((a.indexOf("#")>-1)?a.substring(1):a),16);return{r:a>>16,g:(a&65280)>>8,b:(a&255)}};creme.color.luminance=function(d,c,a){d=Math.pow(d/255,2.2);c=Math.pow(c/255,2.2);a=Math.pow(a/255,2.2);return 0.212671*d+0.71516*c+0.072169*a};creme.color.contrast=function(j,h,c,e,d,f){var a=creme.color.luminance(j,h,c);var k=creme.color.luminance(e,d,f);return(Math.max(a,k)+0.05)/(Math.min(a,k)+0.05)};creme.color.maxContrastingColor=function(f,e,c){var d=creme.color.contrast(f,e,c,255,255,255);var a=creme.color.contrast(f,e,c,0,0,0);if(d>a){return"white"}return"black"};creme.utils={};creme.utils.openWindow=function(b,a,c){window[a]=window.open(b,a,c||"menubar=no, status=no, scrollbars=yes, menubar=no, width=800, height=600")};creme.utils.reload=function(a){var a=a||window;a.location.href=a.location.href};creme.utils.goTo=function(a,b){var b=b||window;b.location.href=a};creme.utils.showPageLoadOverlay=function(){creme.utils.loading("",false)};creme.utils.hidePageLoadOverlay=function(){creme.utils.loading("",true)};creme.utils.loading=function(c,a,e){var b=creme.utils._overlay;if(b===undefined){b=creme.utils._overlay=new creme.dialog.Overlay();b.bind($("body")).addClass("page-loading").content($("<h2>").append($("<img>").attr("src",creme_media_url("images/wait.gif")),$("<span>").text(gettext("Loading..."))));b._loadstack=0}b._loadstack+=!a?1:-1;var d=b._loadstack>0;b.update(d,null,d?100:0)};creme.utils.showDialog=function(f,b,c){var a=$("#"+c);if(a.size()==0){var e=new Date();c=e.getTime().toString()+Math.ceil(Math.random()*1000000);a=$('<div id="'+c+'"  style="display:none;"></div>');$(document.body).append(a)}a.html(f);a.dialog(jQuery.extend({buttons:[{text:gettext("Ok"),click:function(){$(this).dialog("close")}}],closeOnEscape:false,title:"",modal:true,width:"auto",close:function(d,g){$(this).dialog("destroy");$(this).remove()}},b))};creme.utils.bindShowHideTbody=function(a){console.warn("this functions is deprecated. creme.blocks.bindEvents do the same work.");$(".table_detail_view",a).find(".collapser").each(function(){creme.blocks.bindTableToggle($(this))})};creme.utils.confirmBeforeGo=function(b,c,a){creme.dialogs.confirm(gettext("Are you sure ?")).onOk(function(){if(c){$.ajax(jQuery.extend({url:b,data:{},success:function(f,d,e){creme.utils.reload()},error:function(f,d,e){creme.dialogs.warning(f.responseText||gettext("Error")).open()},complete:function(d,e){},sync:false,parameters:undefined},a))}else{creme.utils.goTo(b)}}).open()};creme.utils.confirmSubmit=function(a,b){creme.dialogs.confirm(b||gettext("Are you sure ?")).onOk(function(){$("form",$(a)).submit()}).open()};if(typeof(creme.utils.stackedPopups)=="undefined"){creme.utils.stackedPopups=[]}creme.utils.showInnerPopup=function(e,c,g,b,f){var h=creme.object.isTrue(f);var a=$("#"+g);if(a.size()==0){var j=new Date();g=j.getTime().toString()+Math.ceil(Math.random()*1000000);a=$('<div id="'+g+'"  style="display:none;"></div>');$(document.body).append(a)}e+=(e.indexOf("?")!=-1)?"&whoami="+g:"?whoami="+g;$.ajax(jQuery.extend({url:e,type:"GET",success:function(d){creme.utils.stackedPopups.push("#"+g);creme.utils.showDialog(d,jQuery.extend({buttons:[{text:gettext("Cancel"),click:function(){if(c!==undefined&&$.isFunction(c.cancel)){c.cancel($(this))}creme.utils.closeDialog($(this),h)}}],close:function(k,l){creme.utils.closeDialog($(this),false)},open:function(o,p){var m=$(o.target);var l=$("[name=inner_body]",m).find("form");if(c===undefined){c={}}var q=c.send_button;if(l.size()||q){var k;if($.isFunction(q)){k=function(){q(m)}}else{k=function(){creme.utils.handleDialogSubmit(m)}}var n=m.dialog("option","buttons");n.unshift({text:c.send_button_label||gettext("Save"),click:k});m.dialog("option","buttons",n)}}},c),g)},error:function(l,d,k){creme.dialogs.warning(l.responseText||gettext("Error during loading the page.")).open()}},b));return g};creme.utils.handleDialogSubmit=function(c){var d=c.attr("id");var b=$("[name=inner_body]",c).find("form");var a=$("[name=inner_header_from_url]",c).val();var e=b.serialize();if(e.length>0){e+="&"}e+="whoami="+d;$.ajax({type:b.attr("method"),url:a,data:e,beforeSend:function(f){creme.utils.loading("loading",false,{})},success:function(g,f){g+='<input type="hidden" name="whoami" value="'+d+'"/>';creme.widget.shutdown(c);$("[name=inner_body]","#"+d).html(g);creme.utils.scrollTo($(".errorlist:first",".non_field_errors"))},error:function(h,f,g){creme.utils.showErrorNReload()},complete:function(f,g){creme.utils.loading("loading",true,{})}});return false};creme.utils.scrollTo=function(b){var a=$(b).position();if(a!==null){scrollTo(a.left,a.top)}};creme.utils.closeDialog=function(b,c,d,a){$(b).dialog("destroy");creme.widget.shutdown($(b));$(b).remove();creme.utils.stackedPopups.pop();if($.isFunction(d)){d()}if(a!=undefined){document.location=a}else{if(c){creme.utils.reloadDialog(creme.utils.stackedPopups[creme.utils.stackedPopups.length-1]||window)}}};creme.utils.reloadDialog=function(b){if(b==window){creme.utils.reload(window);return}var a=$(b).find("[name=inner_header_from_url]").val();var c=$(b).find("[name=whoami]").val();a+=(a.indexOf("?")!=-1)?"&whoami="+c:"?whoami="+c;$.get(a,function(d){$(b).html(d)})};creme.utils.appendInUrl=function(d,f){var a=d.indexOf("?");var c="",b="";if(a>-1){c=d.substring(a,d.length);d=d.substring(0,a)}var e=d.indexOf("#");if(e>-1){b=d.substring(e,d.length);d=d.substring(0,e)}if(f.indexOf("?")>-1){d+=f+c.replace("?","&")}else{if(f.indexOf("&")>-1){d+=c+f}else{d+=f+c}}return d+b};creme.utils.innerPopupNReload=function(b,a){creme.utils.showInnerPopup(b,{beforeClose:function(d,e,c){creme.blocks.reload(a)}})};creme.utils.handleResearch=function(a,c){console.warn("creme.utils.handleResearch() functions is deprecated. Use creme.utils.decorateSearchResult() instead.");var b=$("[name=research]",c).val();$.ajax({url:"/creme_core/search",type:"POST",data:{ct_id:$("[name=ct_id]",c).val(),research:b},dataType:"html",success:function(h,e,g){var d=$("#"+a);d.html(h);creme.blocks.bindEvents(d);b=b.toLowerCase();d.find(".search_result").contents().filter(function(){if(this.nodeType!=Node.TEXT_NODE){return false}return this.textContent.toLowerCase().indexOf(b)>=0}).wrap($("<mark/>"));var f=0;d.find("[search-count]").each(function(){f+=parseInt(this.getAttribute("search-count"))});d.find("#search_results_title").text(ngettext("Search results: %d entity","Search results: %d entities",f).format(f))},error:function(e,d,f){},complete:function(){document.title=gettext("Search results")}})};creme.utils.decorateSearchResult=function(a){$(".search_results").each(function(){var b=$(this);a=a.toLowerCase();b.find(".search_result").contents().filter(function(){return $(this).text().toLowerCase().indexOf(a)>=0}).wrap($("<mark/>"));var c=0;b.find("[search-count]").each(function(){c+=parseInt(this.getAttribute("search-count"))});b.find("#search_results_title").text(ngettext("Search results: %d entity","Search results: %d entities",c).format(c))})};creme.utils.openQuickForms=function(a){var d="/creme_core/quickforms/%s/%s";var b=$('[name="ct_id"]',a).val();var c=$('[name="entity_count"]',a).val();creme.dialogs.form(d.format(b,c),{reloadOnSuccess:true}).open()};creme.utils.autoCheckallState=function(e,a,c){var b=$(a);if(!$(e).is(":checked")){b.uncheck();return}var d=true;$(c).each(function(){d=d&$(this).is(":checked")});if(d){b.check()}else{b.uncheck()}};creme.utils.toggleCheckallState=function(a,b){if($(a).is(":checked")){$(b).check()}else{$(b).uncheck()}};creme.utils.showErrorNReload=function(){creme.dialogs.warning("<p><b>"+gettext("Error !")+"</b></p><p>"+gettext("The page will be reload !")+"</p>").open();setTimeout(creme.utils.reload,3000)};creme.utils.confirmPOSTQuery=function(b,a,c){return creme.utils.confirmAjaxQuery(b,$.extend({action:"post"},a),c)};creme.utils.confirmAjaxQuery=function(b,a,e){var a=$.extend({action:"get",warnOnFail:true},a||{});var c=a.confirm||gettext("Are you sure ?");var d=new creme.component.Action(function(){var f=this;var g=creme.ajax.query(b,a,e);g.onFail(function(l,j,h){if(a.warnOnFail){var k=Object.isType(j,"string")?j:(j.message||gettext("Error"));creme.dialogs.error(k,{title:a.warnOnFailTitle},h).onClose(function(){f.fail(j,h)}).open()}else{f.fail(j,h)}}).onDone(function(j,h){if(a.messageOnSuccess){creme.dialogs.html("<p>%s</p>".format(a.messageOnSuccess)).onClose(function(){f.done(h)}).open()}else{f.done(h)}});if(a.waitingOverlay){g.onStart(function(){creme.utils.showPageLoadOverlay()});g.onComplete(function(){creme.utils.hidePageLoadOverlay()})}creme.dialogs.confirm("<h4>%s</h4>".format(c)).onOk(function(){g.start()}).onClose(function(){f.cancel()}).open({width:250,height:150})},a);if(a.reloadOnSuccess){d.onDone(function(f,g){creme.utils.reload()})}return d};creme.utils.ajaxQuery=function(b,a,d){var a=$.extend({action:"get",warnOnFail:true},a||{});var c=creme.ajax.query(b,a,d);if(a.warnOnFail){c.onFail(function(h,f,e){var g=Object.isType(f,"string")?f:(f.message||gettext("Error"));creme.dialogs.error(g,{title:a.warnOnFailTitle},e).onClose(function(){if(a.reloadOnFail){creme.utils.reload()}}).open()})}else{if(a.reloadOnFail){c.onFail(function(e,f){creme.utils.reload()})}}if(a.messageOnSuccess){c.onDone(function(e,f){creme.dialogs.html("<p>%s</p>".format(a.messageOnSuccess)).onClose(function(){if(a.reloadOnSuccess){creme.utils.reload()}}).open()})}else{if(a.reloadOnSuccess){c.onDone(function(e,f){creme.utils.reload()})}}if(a.waitingOverlay){c.onStart(function(){creme.utils.showPageLoadOverlay()});c.onComplete(function(){creme.utils.hidePageLoadOverlay()})}return c};creme.utils.innerPopupFormAction=function(b,a,c){var a=$.extend({submit_label:gettext("Save"),submit:function(d){creme.utils.handleDialogSubmit(d)},reloadOnSuccess:false},a||{});return new creme.component.Action(function(){var d=this;creme.utils.showInnerPopup(b,{send_button_label:a.submit_label,send_button:function(f){try{var g=a.submit.apply(this,arguments);if(g&&Object.isFunc(a.validator)&&a.validator(g)){d.done(g);creme.utils.closeDialog(f,a.reloadOnSuccess)}}catch(h){d.fail(h)}},cancel:function(e,f){d.cancel()},close:function(e,f){creme.utils.closeDialog($(this),false);d.done()}},null,{error:function(h,f,g){try{creme.dialogs.warning(gettext("Error during loading the page.")).open();d.fail(h,f,g)}catch(j){d.fail(h,f,g)}},data:c})})};creme.forms={};creme.forms.Select={};creme.forms.Select.optionsFromData=function(c,g,h){var l=[];h=(h!=undefined)?h:0;g=(g!=undefined)?g:1;var b=function(m){if(typeof m=="function"){return m}return function(n){return n[m]}};var e=b(g);var d=b(h);for(var f=0;f<c.length;++f){var j=c[f];var a=d(j);var k=e(j);if((a==undefined)||(k==undefined)){continue}l.push([a,k])}return l};creme.forms.Select.fill=function(g,j,b){if((g==undefined)||(j==undefined)){return}var d=g.val();var e;g.empty();for(var c=0;c<j.length;++c){var f=j[c];var a=f[0];var h=f[1];option=$("<option/>").val(a).text(h);if(a==b){option.attr("selected","selected");e=b}g.append(option)}if(e==undefined){if(j.length>0){e=j[0][0]}if(d!=undefined){for(var c=0;c<j.length;++c){if(j[c][0]==d){e=d;break}}}}g.val(e);g.change();return g};creme.forms.TimePicker={};creme.forms.TimePicker.init=function(a){var b=creme.forms.TimePicker.timeval(a);$('li.hour input[type="text"]',a).val(b.hour);$('li.minute input[type="text"]',a).val(b.minute);$('li input[type="text"]',a).bind("change",function(){creme.forms.TimePicker.update(a)});$("li button",a).bind("click",function(){var c=new Date();creme.forms.TimePicker.set(a,c.getHours(),c.getMinutes())})};creme.forms.TimePicker.parseTime=function(c){var b=(c!=undefined)?c.split(":"):[];var a=(b.length>1)?b[0]:"";var d=(b.length>1)?b[1]:"";return{hour:a,minute:d}};creme.forms.TimePicker.val=function(a){return $('input[type="hidden"]',a).val()};creme.forms.TimePicker.timeval=function(a){return creme.forms.TimePicker.parseTime($('input[type="hidden"]',a).val())};creme.forms.TimePicker.update=function(b){var a=$('li.hour input[type="text"]',b).val();var c=$('li.minute input[type="text"]',b).val();$('input[type="hidden"]',b).val(a+":"+c)};creme.forms.TimePicker.clear=function(a){$('li.hour input[type="text"]',a).val("");$('li.minute input[type="text"]',a).val("");$('input[type="hidden"]',a).val("")};creme.forms.TimePicker.set=function(b,a,c){$('li.hour input[type="text"]',b).val(a);$('li.minute input[type="text"]',b).val(c);$('input[type="hidden"]',b).val(a+":"+c)};creme.forms.DateTimePicker={};creme.forms.DateTimePicker.init=function(a){var b=creme.forms.DateTimePicker.datetimeval(a);$('li.date input[type="text"]',a).val(b.date);$('li.hour input[type="text"]',a).val(b.hour);$('li.minute input[type="text"]',a).val(b.minute);$('li input[type="text"]',a).bind("change propertychange keyup input paste",function(){creme.forms.DateTimePicker.update(a)});$("li.now button",a).bind("click",function(){var c=new Date();creme.forms.DateTimePicker.set(a,c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())});$("li.clear button",a).bind("click",function(){creme.forms.DateTimePicker.clear(a)});$('li.date input[type="text"]',a).datepicker({dateFormat:"yy-mm-dd",showOn:"button",buttonText:gettext("Calendar"),buttonImage:creme_media_url("images/icon_calendar.gif"),buttonImageOnly:true})};creme.forms.DateTimePicker.val=function(a){return $('input[type="hidden"]',a).val()};creme.forms.DateTimePicker.datetimeval=function(a){return creme.forms.DateTimePicker.parseDateTime($('input[type="hidden"]',a).val())};creme.forms.DateTimePicker.parseDateTime=function(c){var a=(c!=undefined)?c.split(" "):[];var b=(a.length>1)?a[0]:"";var d=creme.forms.TimePicker.parseTime((a.length>1)?a[1]:"");return $.extend({date:b},d)};creme.forms.DateTimePicker.update=function(b){var c=$('li.date input[type="text"]',b).val();var a=$('li.hour input[type="text"]',b).val();var d=$('li.minute input[type="text"]',b).val();$('input[type="hidden"]',b).val(c+" "+a+":"+d)};creme.forms.DateTimePicker.clear=function(a){$('li.date input[type="text"]',a).val("");$('li.hour input[type="text"]',a).val("");$('li.minute input[type="text"]',a).val("");$('input[type="hidden"]',a).val("")};creme.forms.DateTimePicker.set=function(c,e,f,b,a,g){var d=e+"-"+((f<9)?"0":"")+(f+1)+"-"+((b<9)?"0":"")+b;$('li.date input[type="text"]',c).val(d);$('li.hour input[type="text"]',c).val(a);$('li.minute input[type="text"]',c).val(g);$('input[type="hidden"]',c).val(d+" "+a+":"+g)};creme.forms._toDualColumnMultiSelect=function(e,q,z,m,u){var J=$('<div class="dcms_div"></div>');var G=$("#"+e);var D=$('<ul name="available"></ul>');var t=$('<ul name="chosen"></ul>');var H='<input class="dcms_button" type="button"/>';var w=$(H).attr("value",gettext("Add"));var f=$(H).attr("value",gettext("Remove"));var x=$(H).attr("value",gettext("Add all"));var b=$(H).attr("value",gettext("Remove all"));var l=$(H).attr("value",gettext("Up"));var A=$(H).attr("value",gettext("Down"));if(!q){l.css("display","none");A.css("display","none")}function d(){J.find(".dcms_focused").removeClass("dcms_focused")}function E(M,L,N){var O=$("<li></li>").attr("name",L).append(M).click(F).dblclick(k);if(N){O.hide()}D.append(O)}function c(M,L){t.append($("<li></li>").attr("name",L).append(M).click(p).dblclick(j))}function n(O){if(O==undefined){w.attr("disabled","disabled");f.attr("disabled","disabled");l.attr("disabled","disabled");A.attr("disabled","disabled")}else{var N=O.parent();if(N.attr("name")=="chosen"){w.attr("disabled","disabled");f.removeAttr("disabled");var M=O.attr("name");if(M==t.find("li:first").attr("name")){l.attr("disabled","disabled")}else{l.removeAttr("disabled")}if(M==t.find("li:last").attr("name")){A.attr("disabled","disabled")}else{A.removeAttr("disabled")}}else{w.removeAttr("disabled");f.attr("disabled","disabled");l.attr("disabled","disabled");A.attr("disabled","disabled")}}var L=t.find("li").size();if(L==0){b.attr("disabled","disabled")}else{b.removeAttr("disabled")}if((D.find("li").size()-L)==0){x.attr("disabled","disabled")}else{x.removeAttr("disabled")}}function C(L){m(G,t);n(L)}function k(){var L=D.find(".dcms_focused");c(L.html(),L.attr("name"));L.hide();C()}function B(){D.find("li").each(function(){var L=$(this).attr("name");if(t.find('li[name="'+L+'"]').size()==0){c($(this).html(),L);$(this).hide()}});C()}function j(){var L=t.find(".dcms_focused");D.find('[name="'+L.attr("name")+'"]').show();L.remove();C()}function y(){t.empty();D.find("li").each(function(){$(this).show()});C()}function I(){var M=t.find(".dcms_focused");var L=t.find(".dcms_focused").prev();M.insertBefore(L);C(M)}function K(){var M=t.find(".dcms_focused");var L=t.find(".dcms_focused").next();M.insertAfter(L);C(M)}function F(){d();$(this).addClass("dcms_focused");n($(this))}function p(){d();$(this).addClass("dcms_focused");n($(this))}function o(){$(".buttons a",a).toggleClass("view_more view_less");a.toggleClass("reduced")}z(G,E,c);var h=$("<div></div>").append(w.click(k)).append(f.click(j)).append("<br/>").append(x.click(B)).append(b.click(y)).append("<br/>").append(l.click(I)).append(A.click(K));n();G.css("display","none");G.replaceWith(J);var a=$("<table></table>");var g=$('<div class="buttons"></div>').append($('<a class="view_less"></a>').click(o));$("<tbody></tbody>").appendTo(a).append($('<tr class="header"></tr>').append($('<th width="3%"></th>').append(g)).append($('<th class="available more"></th>').append(gettext("Available"))).append($('<th class="buttons more"></th>')).append($('<th class="chosen more"></th>').append(gettext("Chosen"))).append($('<th class="less"></th>').append(gettext("Select")))).append($('<tr class="content"></tr>').append($("<td></td>")).append($('<td class="available"></td>').append(D)).append($('<td class="buttons"></td>').append(h)).append($('<td class="chosen"></td>').append(t)));J.append(G).append(a);var s=Math.max(D.height()+t.height(),h.height());if(s!=0){t.height(s);D.height(s);var v=Math.max(D.width(),t.width());t.width(v);D.width(v)}else{t.css("min-height",200);D.css("min-height",200)}if(u===true){o()}};creme.forms.toOrderedMultiSelect=function(d,a){function c(e,h,g){var j=[];e.find("tr").each(function(l){var o=$(this);var n=o.find(".oms_check").is(":checked");var k=o.find(".oms_value").html();var m="oms_row_"+l;if(n==true){h(k,m,true);j.push([o.find(".oms_order").attr("value"),k,m])}else{h(k,m,false)}});j.sort(function(l,k){return l[0]-k[0]});for(var f=0;f<j.length;++f){g(j[f][1],j[f][2])}}function b(f,g){var e={};g.find("li").each(function(h){e[$(this).attr("name")]=h+1});f.find("tr").each(function(j){var k=$(this);var h=e[k.attr("name")];if(h!=undefined){k.find(".oms_check").attr("checked",true);k.find(".oms_order").attr("value",h)}else{k.find(".oms_check").attr("checked",false);k.find(".oms_order").attr("value","")}})}creme.forms._toDualColumnMultiSelect(d,true,c,b,a)};creme.forms.toImportField=function(f){var c=$("#"+f);var d=c.find(".csv_col_select");var a=c.find(".csv_subfields_select");function e(){return d.find('[value="0"]').attr("selected")}if(e()){a.hide()}function b(){if(e()){a.hide("normal")}else{a.show("normal")}}d.change(b)};$(document).ajaxSend(function(c,d,b){function a(e){var j=null;if(document.cookie&&document.cookie!=""){var h=document.cookie.split(";");for(var g=0;g<h.length;g++){var f=jQuery.trim(h[g]);if(f.substring(0,e.length+1)==(e+"=")){j=decodeURIComponent(f.substring(e.length+1));break}}}return j}if(!(/^http:.*/.test(b.url)||/^https:.*/.test(b.url))){d.setRequestHeader("X-CSRFToken",a("csrftoken"))}});jQuery.ajaxSettings.traditional=true;creme.ajax={};creme.ajax.submit=function(d,e,b){var a=$(d);var f={method:a.attr("method"),action:(a.attr("action")=="")?window.location.href:a.attr("action"),async:true,cache:true,beforeSend:null,success:null,beforeError:null,beforeComplete:null,error:function(){creme.utils.showErrorNReload()},afterError:null,complete:null};var c=$.extend(f,b);if(e===true){e=a.serialize()}$.ajax({url:c.action,type:c.method,data:e,async:c.async,beforeSend:function(g){creme.utils.loading("loading",false,{});if(c.beforeSend){c.beforeSend(g)}},success:function(h,g){if(c.success){c.success(h,g)}},error:function(j,g,h){if(c.beforeError){c.beforeError(j,g,h)}if(c.error){c.error(j,g,h)}if(c.afterError){c.afterError(j,g,h)}},complete:function(h,g){if(c.beforeComplete){c.beforeComplete(h,g)}creme.utils.loading("loading",true,{});if(c.complete){c.complete(h,g)}}})};creme.ajax.ajax=function(a){a=$.extend({type:"GET",url:"",async:true,data:{},dataType:"html",cache:true,beforeSend:null,success:null,beforeError:null,beforeComplete:null,error:function(){creme.utils.showErrorNReload()},afterError:null,complete:null},a);$.ajax({url:a.url,type:a.type,data:a.data,async:a.async,dataType:a.dataType,beforeSend:function(b){creme.utils.loading("loading",false,{});if(a.beforeSend&&$.isFunction(a.beforeSend)){a.beforeSend(b)}},success:function(c,b){if(a.success&&$.isFunction(a.success)){a.success(c,b)}},error:function(d,b,c){if(a.beforeError&&$.isFunction(a.beforeError)){a.beforeError(d,b,c)}if(a.error&&$.isFunction(a.error)){a.error(d,b,c)}if(a.afterError&&$.isFunction(a.afterError)){a.afterError(d,b,c)}},complete:function(c,b){if(a.beforeComplete){a.beforeComplete(c,b)}creme.utils.loading("loading",true,{});if(a.complete){a.complete(c,b)}}})};creme.ajax.get=function(a){creme.ajax.ajax($.extend({type:"GET"},a))};creme.ajax.post=function(a){creme.ajax.ajax($.extend({type:"POST"},a))};creme.ajax.reloadContent=function(a,b){creme.ajax.get({url:b,success:function(c){a.empty().html(c)}})};creme.ajax.json={};creme.ajax.json._handleSendError=function(a,c,b){switch(c){case"parsererror":return{type:"request",status:a.status,message:"JSON parse error",request:a};break;default:return{type:"request",status:a.status,message:""+a.status+" "+a.statusText,request:a}}};creme.ajax.json.send=function(c,g,a,f,e,h,d){var b={async:!e,type:h,url:c,data:g!==undefined?g:"",dataType:"json",success:function(j,k){if(Object.isFunc(a)){a(j,k)}},error:function(j,l,k){if(Object.isFunc(f)){f(j.responseText,creme.ajax.json._handleSendError(j,l,k))}}};if(d!=undefined){b=$.extend(b,d)}$.ajax(b)};creme.ajax.json.post=function(b,f,a,e,d,c){creme.ajax.json.send(b,f,a,e,d,"POST",c)};creme.ajax.json.get=function(b,f,a,e,d,c){creme.ajax.json.send(b,f,a,e,d,"GET",c)};creme.ajax.json.isvalid=function(a){return typeof a==="string"&&/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))};creme.ajax.json.parse=function(b){if(typeof b!=="string"||!b){return null}b=jQuery.trim(b);if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){try{return window.JSON&&window.JSON.parse?window.JSON.parse(b):(new Function("return "+b))()}catch(a){return null}}else{return null}};creme.ajax.json.ajaxFormSubmit=function(b,a,e,d,c){creme.ajax.json.post(b.attr("action"),b.serialize(),a||function(f){b.html(f.form)},e,d,c)};creme.menu={};creme.menu.actions={};creme.menu.NavIt=function(b,a,c){var a=a||{};var c=c||{};$(b).NavIt(a);$(b).find("a").click(function(l){l.preventDefault();var k=$(this);var g=k.hasClass("confirm");var j=k.hasClass("post")?"post":"get";var h=k.hasClass("ajax");var f=k.prop("href");if(h){var d=$.extend({action:j,link:k},a.queryOptions||{});if(g){creme.utils.confirmAjaxQuery(f,d).on(c).start()}else{creme.utils.ajaxQuery(f,d).on(c).start()}}else{if(g){creme.utils.confirmBeforeGo(f,h,opts)}else{creme.utils.goTo(f)}}})};creme.menu.HNavIt=function(b,a,c){creme.menu.NavIt(b,$.extend({ArrowSideOnRight:false},a||{}),c)};creme.blocks={collapsed_class:"collapsed",hide_fields_class:"hide_empty_fields",status_stave_delay:500};creme.blocks.reload=function(a){creme.ajax.query(a,{backend:{sync:false,dataType:"json"}}).onDone(function(b,c){c.forEach(function(d){creme.blocks.fill($('[id="'+d[0]+'"]'),$($.trim(d[1])))})}).start()};creme.blocks.fill=function(b,a){b.replaceWith(a);creme.blocks.initialize(a)};creme.blocks.saveState=function(d){var c={is_open:$(d).hasClass("collapsed")?0:1,show_empty_fields:$(d).hasClass(this.hide_fields_class)?0:1};var b=d.data("block-deferred-save");if(b!==undefined){b.reject()}var a=$.Deferred();$.when(a.promise()).then(function(e){d.removeData("block-deferred-save");creme.ajax.json.post("/creme_core/blocks/reload/set_state/"+d.attr("id")+"/",c,null,null,true)},null,null);d.data("block-deferred-save",a);window.setTimeout(function(){a.resolve()},this.status_stave_delay)};creme.blocks.initEmptyFields=function(a){if(a.find(".block_header .buttons").find("a.view_less, a.view_more").length==0){return}$("tbody > tr.content",a).not(":has(> td:not(.edit_inner):not(:empty))").addClass("collapsable-field");creme.blocks.updateFieldsColors(a);creme.blocks.updateToggleButton(a)};creme.blocks.updateFieldsColors=function(b){var a=b.hasClass(this.hide_fields_class);if(!a){$("tbody > tr.content:even td",b).toggleClass("block_line_light",true).toggleClass("block_line_dark",false);$("tbody > tr.content:odd td",b).toggleClass("block_line_light",false).toggleClass("block_line_dark",true);$("tbody > tr.content:even th",b).toggleClass("block_header_line_light",true).toggleClass("block_header_line_dark",false);$("tbody > tr.content:odd th",b).toggleClass("block_header_line_light",false).toggleClass("block_header_line_dark",true)}else{$("tbody > tr.content:not(.collapsable-field):even td",b).toggleClass("block_line_light",true).toggleClass("block_line_dark",false);$("tbody > tr.content:not(.collapsable-field):odd td",b).toggleClass("block_line_light",false).toggleClass("block_line_dark",true);$("tbody > tr.content:not(.collapsable-field):even th",b).toggleClass("block_header_line_light",true).toggleClass("block_header_line_dark",false);$("tbody > tr.content:not(.collapsable-field):odd th",b).toggleClass("block_header_line_light",false).toggleClass("block_header_line_dark",true)}};creme.blocks.updateToggleButton=function(d,c){var b=$("table.block_header th.actions a.view_more, table.block_header th.actions a.view_less",d);var c=d.hasClass(this.hide_fields_class);var a=c?gettext("Show empty fields"):gettext("Hide empty fields");b.toggleClass("view_less",!c).toggleClass("view_more",c);b.attr("title",a).attr("alt",a)};creme.blocks.toggleEmptyFields=function(b){var c=$(b).parents("table[id].table_detail_view:not(.collapsed)");if(c.size()==0){return}var a=c.hasClass(this.hide_fields_class);c.toggleClass(this.hide_fields_class);creme.blocks.updateFieldsColors(c);creme.blocks.updateToggleButton(c);c.trigger("creme-blocks-field-display-changed",{action:a?"show":"hide"})};creme.blocks.initPager=function(a){$(".pager-link a",a).bind("click",function(g){g.preventDefault();if($(this).is("[disabled]")){return}var f=creme.utils.lambda($(this).attr("data-page-uri"))();creme.blocks.reload(f)});var d=function(f){var g=parseInt(f.val());var e=parseInt(f.attr("max"));if(isNaN(g)||g<1||(!isNaN(e)&&g>e)){return false}return g};var c=function(e){var f=d(e);if(f!==false){creme.blocks.reload(creme.utils.lambda(e.attr("data-page-uri"),"page")(f))}};var b=function(e){var h=e.data("creme-block-pager-canvas");if(h===undefined){h=document.createElement("canvas").getContext("2d");e.data("creme-block-pager-canvas",h)}var g=e.val()!==null?e.val():"";h.font=e.css("font-size")+" "+e.css("font-family");var f=h.measureText(g).width;e.css("width",f+20)};$(".pager-input",a).each(function(){var f=$(this);var e=$("input",f);f.click(function(g){g.stopPropagation();$(this).addClass("active");b(e);e.toggleClass("invalid-page",d(e)===false).select().focus()});e.bind("propertychange input change paste",function(g){creme.object.deferred_start(a,"creme-block-pager-change",function(){e.toggleClass("invalid-page",d(e)===false)},300)}).bind("propertychange input change paste keydown",function(){b(e)}).bind("keyup",function(g){if(g.keyCode===13){g.preventDefault();creme.object.deferred_cancel(a,"creme-block-pager-change");c($(this))}else{if(g.keyCode===27){g.preventDefault();creme.object.deferred_cancel(a,"creme-block-pager-change");e.focusout()}}}).bind("focusout",function(){creme.object.deferred_cancel(a,"creme-block-pager-change");f.removeClass("active")})})};creme.blocks.initialize=function(a){a.bind("creme-table-collapse",function(b,c){creme.blocks.saveState($(this))});a.bind("creme-blocks-field-display-changed",function(b,c){creme.blocks.saveState($(this))});a.find(".collapser").each(function(){creme.blocks.bindTableToggle($(this))});$(".creme-block-pager",a).each(function(){creme.blocks.initPager($(this))});creme.blocks.initEmptyFields(a);creme.widget.ready(a)};creme.blocks.bindEvents=function(a){$(".table_detail_view[id]:not(.block-ready)",a).each(function(){var c=$(this);try{creme.blocks.initialize(c);c.addClass("block-ready")}catch(b){console.warn("unable to initialize block",c.attr("id"),":",b)}})};creme.blocks.scrollToError=function(a){creme.utils.scrollTo($(".errorlist:first"))};creme.blocks.form=function(b,a,d){var a=a||{};var c=creme.dialogs.form(b,a,d);if(a.blockReloadUrl){c.onFormSuccess(function(){creme.blocks.reload(a.blockReloadUrl)})}return c};creme.blocks.confirmPOSTQuery=function(b,a,c){return creme.blocks.confirmAjaxQuery(b,$.extend({action:"post"},a),c)};creme.blocks.confirmAjaxQuery=function(b,a,d){var c=creme.utils.confirmAjaxQuery(b,a,d);if(a.blockReloadUrl){c.onComplete(function(e,f){creme.blocks.reload(a.blockReloadUrl)})}return c};creme.blocks.ajaxPOSTQuery=function(b,a,c){return creme.blocks.ajaxQuery(b,$.extend({action:"post"},a),c)};creme.blocks.ajaxQuery=function(b,a,d){var c=creme.utils.ajaxQuery(b,a,d);if(a.blockReloadUrl){c.onComplete(function(e,f){creme.blocks.reload(a.blockReloadUrl)})}return c};creme.blocks.massAction=function(c,a,d,e){var b=$(a).getValues();if($.isFunction(e)){b=e(b)}if(b.length==0){creme.dialogs.warning(gettext("Nothing is selected.")).open();return}creme.blocks.confirmPOSTQuery(c,{blockReloadUrl:d,messageOnSuccess:gettext("Process done")},{ids:b}).start()};creme.blocks.massRelation=function(b,e,a,d){var c=$(a).getValues();if(c.length==0){creme.dialogs.warning(gettext("Please select at least one entity.")).open();return false}url="/creme_core/relation/add_to_entities/%s/%s/".format(b,e.join(","));url+="?"+$.param({persist:"id",ids:c});creme.blocks.form(url,{blockReloadUrl:d}).open()};creme.blocks.tableExpandState=function(f,e,d){var c=f.parents("table[id]");var b=c.find(".collapsable");var a=!c.hasClass("collapsed");if(e===a){return}c.toggleClass("collapsed faded",!e);if(d===undefined||d){c.trigger("creme-table-collapse",{action:e?"show":"hide"});if(e===true){$(".ui-creme-resizable",c).trigger("resize").trigger("resizestop")}}};creme.blocks.tableIsCollapsed=function(a){return a.parents("table[id]").hasClass("collapsed")};creme.blocks.tableExpand=function(b,a){creme.blocks.tableExpandState(b,true,a)};creme.blocks.bindTableToggle=function(a){a.click(function(b){if($(b.target).parent(".buttons").length>0){return}creme.blocks.tableExpandState(a,creme.blocks.tableIsCollapsed(a))})};creme.component={};creme.object={isnone:function(a){return a===undefined||a===null},isempty:function(a){return this.isnone(a)||a.length===0||(a!==0&&$.isEmptyObject(a))},invoke:function(){if(arguments.length==0){return}var a=arguments[0];if(typeof a!=="function"){return}var b=[];for(var c=1;c<arguments.length;++c){b.push(arguments[c])}return a.apply(this,b)},delegate:function(){if(arguments.length<2){return}var d=arguments[0];var a=arguments[1];var b=[];if(this.isempty(d)||typeof d!=="object"){return}if(typeof a==="string"){a=d[a]}if(typeof a!=="function"){return}for(var c=2;c<arguments.length;++c){b.push(arguments[c])}return a.apply(d,b)},build_callback:function(script,parameters){if(typeof script==="function"){return script}var parameters=parameters||[];try{var script=script?"cb = function("+parameters.join(",")+") {"+(script.indexOf("return")===-1?"return ":"")+script+"};":undefined;return script?eval(script):undefined}catch(e){throw Error("Invalid callback script : "+e)}},deferred_start:function(e,c,g,b){var d="deferred__"+c;var f=e.data(d);if(f!==undefined){f.reject()}var a=$.Deferred();$.when(a.promise()).then(function(h){e.removeData(d);creme.object.invoke(g,e,h)},null,null);e.data(d,a);if(b){window.setTimeout(function(){a.resolve()},b)}else{a.resolve()}return a},deferred_cancel:function(c,a){var b="deferred__"+a;var d=c.data(b);if(d!==undefined){c.removeData(b);d.reject()}return d},uuid:function(){return $.uidGen({prefix:"jqplot_target_",mode:"random"})},isFalse:function(a){return Object.isNone(a)||a===false},isTrue:function(a){return !Object.isNone(a)&&a!==false}};creme.widget={};creme.widget.Widget=function(){return{options:{},arguments:{},_create:function(c,b,a,d){},_destroy:function(a){},destroy:function(a){creme.widget.destroy(a)},isActive:function(a){return creme.widget.is_valid(a)},cleanedval:function(a){if(!this.isActive(a)){return null}var b=a.creme().widget().val();return creme.widget.cleanval(b,b)}}};$.extend(creme.widget,{_widgets:{},ready:function(a){var b=creme.widget;$(".ui-creme-widget.widget-auto",a).each(function(){b.create($(this))})},shutdown:function(a){var b=creme.widget;$(".ui-creme-widget.widget-ready",a).each(function(){b.destroy($(this))})},register:function(a,b){creme.widget._widgets[a]=b},unregister:function(a){if(creme.widget._widgets[a]!==undefined){delete creme.widget._widgets[a]}},find:function(a){return creme.widget._widgets[a]},proxy:function(a,b){if(creme.object.isnone(b)){return}var c={element:a,delegate:b,options:function(){return this.delegate.options},arguments:function(){return this.delegate.arguments}};(function(d){$.each(d.delegate,function(e,f){if(typeof f!=="function"||e.match("^_.*")!==null){return}d[e]=function(){return f.apply(d.delegate,[d.element].concat(Array.copy(arguments)))}})})(c);return c},create:function(d,b,a,f){if(d.data("CremeWidget")!==undefined){return}var g=creme.widget.find(d.attr("widget"));if(typeof g!=="object"){return}var e=$.extend({},g);e.options=creme.widget.parseopt(d,g.options,b);e.arguments=creme.widget.parseattr(d,$.extend({widget:"","class":""},e.options));var c=creme.widget.proxy(d,e);d.data("CremeWidget",c);d.addClass("widget-active");e._create(d,e.options,a,f,e.arguments);return c},destroy:function(a){if(!creme.widget.is_valid(a)){return a}a.data("CremeWidget").delegate._destroy(a);a.removeData("CremeWidget");a.removeClass("widget-ready widget-active");return a},declare:function(b,a,c){var d=$.extend(new creme.widget.Widget(),c,a);creme.widget.register(b,d);return d},template:function(f,b){if(f===undefined||b===undefined){return f}var a=f.match(/\$\{[\w\d]+\}/g);if(a===null){return f}var e=new String(f);if(typeof b!=="function"){getter=function(j){return b[j]}}else{getter=b}for(var d=0;d<a.length;d++){var g=a[d];var c=g.slice(2,-1);var h=getter(c);if(h!==undefined){e=e.replace(g,getter(c))}}return e},parseattr:function(e,f){var c={};if(e.length===0){return c}for(var d=0;d<e[0].attributes.length;++d){var a=e[0].attributes[d];c[a.name]=a.value}var f=f||[];if($.isArray(f)){for(var d in f){if(c[f[d]]!==undefined){delete c[f[d]]}}}else{for(var b in f){if(c[b]!==undefined){delete c[b]}}}return c},parseopt:function(b,d,a){var c={};Object.keys(d||{}).forEach(function(e){var f=b.attr(e);if(f!==undefined){c[e]=b.attr(e)}});c=$.extend({},d,c,a);return c},parseval:function(a,b){if((a!==undefined)&&(typeof a==="string")&&(b!==undefined)){return b(a)}return a},cleanval:function(d,b,e){var c=(e!==undefined)?e:creme.ajax.json.parse;var a=(typeof d==="object")?d:creme.widget.parseval(d,c);return(a!==null&&a!==undefined)?a:b},val:function(a,c){var b=$(a).creme().widget()||$(a);if(c===undefined){return b.val()}return b.val(c)},values_list:function(c,b,d){var a;if(b===undefined){a=[];c.each(function(){a.push(creme.widget.val($(this)))});return a}var a=creme.widget.parseval(b,d);a=(a===null)?"":a;a=(!$.isArray(a))?[a]:a;c.each(function(e,f){var g=(e<a.length)?a[e]:"";creme.widget.val(f,g)})},input:function(b){var c="input.ui-creme-input."+$(b).attr("widget");var a=$("input.ui-creme-input."+$(b).attr("widget"),b);if($(b).is(c)){a.push(b)}return a},is_valid:function(a){if(creme.object.isempty(a)){return false}return(typeof a.data==="function")&&!creme.object.isnone(a.data("CremeWidget"))},writeAttr:function(c,a){for(var b in a){var d=a[b];if(d!==undefined){c.attr(b,d)}}return c},buildTag:function(b,c,a,d){b.addClass("ui-creme-widget").addClass(c).attr("widget",c);if(d===true){b.addClass("widget-auto")}if(creme.object.isempty(a)){return b}return this.writeAttr(b,a)}});$.fn.creme=function(){var a=$(this);return{widget:function(){return a.data("CremeWidget")},create:function(c,b,d){creme.widget.create(a,c,b,d)},destroy:function(){creme.widget.destroy(a)},isActive:function(){return creme.widget.is_valid(a)}}};$(document).ready(function(){creme.widget.ready()});creme.component={};creme.component.extend=function(b,c){var b=b||Object;var a=function(){this._init_.apply(this,arguments)};a.prototype=$.extend({},b.prototype,{_init_:b.prototype._init_||function(){}},c||{});a.__super__=b.prototype;a.prototype.constructor=a;a.sub=function(d){return creme.component.extend(a,d)};return a};creme.component.is=function(b,a){if(!(b instanceof Object)){return false}if(!Object.isFunc(b)){b=Object.getPrototypeOf(b)}if(a===Object||b===a){return true}if(b.prototype===undefined){return false}return(b.__super__!==undefined)&&creme.component.is(b.__super__.constructor,a)};creme.component.Component=creme.component.extend(Object,{_init_:function(){},_super_:function(a,b){if(b!==undefined){return a.prototype[b].apply(this,Array.copy(arguments).slice(2))}return Object.proxy(a.prototype,this)},is:function(a){return creme.component.is(Object.getPrototypeOf(this).constructor,a)}});creme.component.EventHandler=creme.component.Component.sub({_init_:function(){this._listeners={}},on:function(b,c,a){return this.bind(b,c,a)},off:function(a,b){return this.unbind(a,b)},one:function(c,d,b){var a=this;if(Object.isFunc(b)){return this.bind(c,d,function(f,g,e){a.unbind(f,g);return b.apply(this,[f,g,e])})}return this.bind(c,d,function(f,g,e){a.unbind(f,g);return g.apply(this,e)})},bind:function(e,g,c){var b=this;if(Array.isArray(e)){e.forEach(function(h){b.bind(h,g,c)});return this}if(typeof e==="object"){for(var a in e){this.bind(a,e[a],c)}return this}if(typeof e==="string"&&e.indexOf(" ")!==-1){return this.bind(e.split(" "),g,c)}if(Array.isArray(g)){g.forEach(function(h){b.bind(e,h,c)});return this}if(Object.isFunc(g)===false){throw new Error("unable to bind event "+e+", listener is not a function")}var f=this.listeners(e);g.__eventuuid__=g.__eventuuid__||$.uidGen();if(Object.isFunc(c)){var d=(function(j,k,h){return function(){return h.apply(this,[j,k,Array.copy(arguments)])}})(e,g,c);d.__eventuuid__=g.__eventuuid__;f.push(d)}else{f.push(g)}this._listeners[e]=f;return this},unbind:function(c,e){var b=this;if(Array.isArray(c)){c.forEach(function(f){b.unbind(f,e)});return this}if(typeof c==="object"){for(var a in c){this.unbind(a,c[a])}return this}if(typeof c==="string"&&c.indexOf(" ")!==-1){return this.unbind(c.split(" "),e,decorator)}var d=this.listeners(c);if(e===undefined){d.splice(0,d.length);return this}if(Array.isArray(e)){e.forEach(function(f){b._remove(d,f)})}else{this._remove(d,e)}return this},_remove:function(b,d){var a=0;while(a<b.length){var c=b[a];if(c&&c.__eventuuid__!==undefined&&(c.__eventuuid__===d.__eventuuid__)){b.splice(a,1)}else{++a}}},listeners:function(a){return this._listeners[a]||[]},trigger:function(b,d,c){var c=c||this;var d=Array.isArray(d)?d:(d!==undefined?[d]:[]);var a=[b].concat(d);Array.copy(this.listeners(b)).forEach(function(f){try{f.apply(c,a)}catch(g){}})}});creme.component.Action=creme.component.Component.sub({_init_:function(b,a){this._events=new creme.component.EventHandler();this._options=a||{};this._status="done";this._action=Object.isFunc(b)?b:this.done},start:function(){var a=this;if(this.isRunning()===true){return this}try{this._events.trigger("start",Array.copy(arguments),this);this._status="run";this._action.apply(this,Array.copy(arguments))}catch(b){this.fail(b)}return this},done:function(){if(this.isRunning()===false){return this}this._status="done";this._events.trigger("done",Array.copy(arguments),this);return this},fail:function(){if(this.isRunning()===false){return this}this._status="fail";this._events.trigger("fail",Array.copy(arguments),this);return this},cancel:function(){if(this.isRunning()===false){return this}this._status="cancel";this._events.trigger("cancel",Array.copy(arguments),this);return this},trigger:function(a){this._events.trigger(a,Array.copy(arguments).slice(1),this);return this},action:function(c){var a=this;var b=(c===undefined||Object.isFunc(c))?c:function(){a.done(c)};return Object.property(this,"_action",b)},one:function(b,c,a){this._events.one(b,c,a);return this},on:function(b,c,a){return this.bind(b,c,a)},off:function(a,b){return this.unbind(a,b)},bind:function(b,c,a){this._events.bind(b,c,a);return this},unbind:function(a,b){this._events.unbind(a,b);return this},onStart:function(a){return this.bind("start",a)},onComplete:function(a){return this.bind("done fail cancel",a)},onDone:function(a){return this.bind("done",a)},onCancel:function(a){return this.bind("cancel",a)},onFail:function(a){return this.bind("fail",a)},isRunning:function(){return this._status==="run"},status:function(){return this._status},options:function(a){return Object.property(this,"_options",a)},listen:function(b){var a=this;b.onDone(function(c,d){a.done(d)});b.onFail(function(c,d){a.fail(d)});b.onCancel(function(c,d){a.cancel(d)});return this},after:function(b){var a=this;b.onDone(function(c,d){a.start(d)});b.onFail(function(c,d){a.fail(d)});b.onCancel(function(c,d){a.cancel(d)});return this},before:function(a){a.after(this);return this}});creme.component.TimeoutAction=creme.component.Action.sub({_init_:function(a){this._super_(creme.component.Action,"_init_",this._startTimeout,a)},_startTimeout:function(c){var a=this;var b=c.delay;if(b){window.setTimeout(function(){if(a.isRunning()){a.done(c)}},b)}else{this.done(0)}}});creme.component.ActionRegistry=creme.component.Component.sub({_init_:function(){this._actions={}},register:function(a,b){if(this._actions[a]!==undefined){throw new Error('action "%s" is already registered'.format(a))}if(!(Object.isFunc(b.is)&&b.is(creme.component.Action))){throw new Error('"%s" is not an creme.component.Action'.format(b))}this._actions[a]=b},unregister:function(a){if(this._actions[a]===undefined){throw new Error('action "%s" is not registered'.format(a))}delete this._actions[a]},get:function(a){return this._actions[a]}});creme.component.actions=new creme.component.ActionRegistry();creme.component.Chosen=creme.component.Component.sub({_init_:function(a){this.options=$.extend({multiple:false,sortable:false,allow_single_deselect:true,no_results_text:gettext("No result"),placeholder_text_multiple:gettext("Select some options"),placeholder_text_single:gettext("Select one option")},a||{})},activate:function(c){if(this.chosen!==undefined){throw new Error("Chosen component is alreay active")}var b=this.options;var a=c.addClass("chzn-select").chosen(b);if(b.multiple&&b.sortable){this._activateSort(c)}this.chosen=a;return a},deactivate:function(b){if(this.chosen===undefined){return}var a=$("ul.chzn-choices:not(.sortable)",b.parent());if(this.options.sortable){a.sortable("destroy")}b.unchosen();this.chosen=undefined},refresh:function(){this.chosen.trigger("liszt:updated")},_querychoices:function(b,a){return $("option"+(a?'[value="'+a+'"]':""),b).filter(function(){return $(this).parents("select:first").is(b)})},_activateSort:function(c){var b=this;var a=$("ul.chzn-choices:not(.sortable)",c.parent());a.sortable({items:"li.search-choice",opacity:0.5,revert:200,delay:200,update:function(e,f){var d=[];var g=b._querychoices(c).map(function(){return $(this).attr("value")});$("li.search-choice a.search-choice-close",a).each(function(){var h=-1;try{h=parseInt($(this).attr("rel"))}catch(j){}if(h>-1&&h<g.length){d.push(g[h])}});c.attr("sorted",d.join(","))}});a.addClass("sortable").disableSelection()}});creme.utils=creme.utils||{};creme.utils.TemplateRenderer=creme.component.Component.sub({tags:function(a){return[]},render:function(b,a){return b}});creme.utils.TemplateDefaultRenderer=creme.utils.TemplateRenderer.sub({_matches:function(a){return a.match(/\$\{[\w\d\\.^\\s]+\}/g)},_attributeGetter:function(e,b){var c=Array.isArray(b)?b:((typeof b==="string")?b.split("."):[b]);var d=e;for(var a in c){if(!Object.isNone(d)&&typeof d==="object"){d=d[c[a]]}else{d=undefined;break}d=Object.isFunc(d)?d(b):d}return d},_getter:function(b){var a=this;if(Object.isFunc(b)){return b}return function(c){return a._attributeGetter(b,c)}},tags:function(b){var c=this._matches(b);if(Object.isEmpty(c)){return[]}var a={};c.forEach(function(d){return a[d.slice(2,-1).split(".")[0]]=0});return Object.keys(a)},render:function(f,h){if(Object.isEmpty(h)){return f}var b=this._matches(f);if(Object.isEmpty(b)){return f}var j=""+f;var c=this._getter(h);for(var a=0;a<b.length;a++){var e=b[a];var g=e.slice(2,-1);var d=c(g);if(d!==undefined){j=j.replace(e,d)}}return j}});creme.utils.Template=creme.component.Component.sub({_init_:function(c,a,b){this.renderer(b||new creme.utils.TemplateDefaultRenderer());this.pattern(c);this.parameters(a)},_resolve:function(a){var c=this._parameters||{};var a=a||{};var b={};if(Object.isFunc(c)){this.tags().forEach(function(d){b[d]=c(d)})}else{b=$.extend(b,c)}if(Object.isFunc(a)){this.tags().forEach(function(d){b[d]=a(d)})}else{b=$.extend(b,a)}return b},render:function(a){var d=this._renderer;var c=this._pattern;if(Object.isNone(d)||Object.isNone(c)){return null}var b=this._resolve(a);if(Object.isNone(b)){return c}return d.render(c,b)},tags:function(){return this._tags},_updateTags:function(){var b=this._renderer;var a=this._pattern;this._tags=(Object.isNone(b)||Object.isEmpty(a))?[]:b.tags(a)},iscomplete:function(){var a=this._tags;var c=this._resolve();for(var b=0;b<a.length;++b){if(c[a[b]]===undefined){return false}}return true},renderer:function(a){if(a===undefined){return this._renderer}this._renderer=a;this._updateTags();return this},pattern:function(a){if(a===undefined){return this._pattern}this._pattern=a;this._updateTags();return this},parameters:function(a){return Object.property(this,"_parameters",a)},update:function(a){if(Array.isArray(a)){this.pattern(a[0]);this.parameters(a[1])}else{if(typeof a==="object"){this.parameters($.extend({},this.parameters()||{},a))}else{if(typeof a==="string"){this.pattern(a)}}}return this}});creme.utils.templatize=function(c,a){var b;if(Object.isNone(c)){b=new creme.utils.Template()}if(Object.isType(c,"string")){b=new creme.utils.Template(c)}if(c!==null&&Object.isType(c,"object")&&Object.isFunc(c.is)&&c.is(creme.utils.Template)){b=c}return Object.isNone(a)?b:b.parameters(a)};creme.utils=creme.utils||{};creme.utils.Lambda=creme.component.Component.sub({_init_:function(a,b){this.lambda(a,b)},isValid:function(){return !Object.isNone(this._lambda)},apply:function(a,b){if(this._lambda){return this._lambda.apply(a,b)}},call:function(){if(this._lambda){var a=Array.copy(arguments);return this._lambda.apply(a[0],a.slice(1))}},invoke:function(){return this._lambda?this._lambda.apply(this._context||this,arguments):undefined},constant:function(a){this._lambda=function(){return a};return this},lambda:function(callable,parameters){if(callable===undefined){return this._lambda}if(Object.isFunc(callable)){this._lambda=callable;return this}if(!Object.isType(callable,"string")){return this.constant(callable)}if(Object.isEmpty(callable)){throw Error("empty lambda script")}var parameters=Array.isArray(parameters)?parameters.join(","):(parameters||"");var script="cb = function("+parameters+") {";script+=callable.indexOf("return")!=-1?callable:"return "+callable+";";script+="};";this._lambda=eval(script);return this},callable:function(){return this._context?this._lambda.bind(this._context):this._lambda},bind:function(a){this._context=a;return this}});creme.utils.lambda=function(a,b,d){try{return new creme.utils.Lambda(a,b).callable()}catch(c){if(d!==undefined){return d}throw c}};creme.utils=creme.utils||{};creme.utils.ConverterRegistry=function(){this._init_()};creme.utils.ConverterRegistry.prototype={_init_:function(){this._converters={}},convert:function(g,f,b,d){if(g===f){return b}var a=this.converter(g,f);if(!Object.isFunc(a)){if(d!==undefined){return d}throw new Error('no such converter "'+g+"-"+f+'"')}try{return a.call(this,b)}catch(c){if(d!==undefined){return d}throw new Error('unable to convert data from "'+g+'" to "'+f+'" : '+c)}},converter:function(b,a){return this._converters[b+"-"+a]},register:function(c,b,a){if(Object.isFunc(this.converter(c,b))){throw new Error('converter "'+c+"-"+b+'" is already registered')}this._converters[c+"-"+b]=a},unregister:function(b,a){if(this.converter(b,a)===undefined){throw new Error('no such converter "'+b+"-"+a+'"')}delete this._converters[b+"-"+a]}};creme.utils.converters=new creme.utils.ConverterRegistry();creme.utils.converter=$.proxy(creme.utils.converters.converter,creme.utils.converters);creme.utils.convert=$.proxy(creme.utils.converters.convert,creme.utils.converters);creme.utils.converters.register("string","number",function(b){Object.assertIsTypeOf(b,"string");var a=parseFloat(b);if(isNaN(a)){throw'"'+b+'" is not a number'}return a});creme.utils.converters.register("string","float",creme.utils.converter("string","number"));creme.utils.converters.register("string","int",function(b){Object.assertIsTypeOf(b,"string");var a=parseInt(b);if(isNaN(a)){throw'"'+b+'" is not a number'}return a});creme.utils=creme.utils||{};creme.utils.JSON=function(){};creme.utils.JSON.prototype={encode:function(a){if(typeof jQuery.toJSON!=="function"){throw"not implemented !"}return jQuery.toJSON(a)},isJSON:function(a){return typeof a==="string"&&(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))},decode:function(c,f){if(f!==undefined){try{return this.decode(c)}catch(d){return f}}if(typeof c!=="string"||!c){throw"Invalid data type or empty string"}c=jQuery.trim(c);try{if(window.JSON&&window.JSON.parse){return window.JSON.parse(c)}}catch(b){throw"JSON parse error: "+b}var a=this.isJSON(c);if(!a){throw"JSON parse error (fallback)"}try{return(new Function("return "+c))()}catch(b){throw"JSON parse error (fallback): "+b}}};creme.utils.JSON.decoder=function(b){var a=new creme.utils.JSON();return function(d,c){return a.decode(d,c||b)}};creme.utils.JSON.encoder=function(){return new creme.utils.JSON().encode};creme.utils.JSON.clean=function(a,b){return Object.isType(a,"string")?new creme.utils.JSON().decode(a,b):a};creme.utils=creme.utils||{};creme.utils.comparator=function(){if(arguments.length===0){return creme.utils.compareTo}var a=Array.copy(arguments);return function(e,c){for(var h=0;h<a.length;++h){var g=a[h];var f=e[g],d=c[g];if(f===d){continue}return f<d?-1:1}return 0}};creme.utils.compareTo=function(d,c){return d<c?-1:(d>c?1:0)};creme.ajax.Backend=function(a){this.options=$.extend({dataType:"html",sync:false,debug:false},a||{})};creme.ajax.Backend.prototype={get:function(c,e,f,a,b){var d=$.extend({},this.options,b);if(d.debug){console.log("creme.ajax.Backend > GET",c," > data:",e,", options:",d)}creme.ajax.json.send(c,e,f,a,d.sync,"GET",d)},post:function(c,e,f,a,b){var d=$.extend({},this.options,b);if(d.debug){console.log("creme.ajax.Backend > POST",c," > data:",e,", options:",d)}creme.ajax.json.send(c,e,f,a,d.sync,"POST",d)},submit:function(d,e,a,b){var c=$.extend({},this.options,b);if(c.debug){console.log("creme.ajax.Backend > SUBMIT",d.attr("action"),"> options:",c)}creme.ajax.jqueryFormSubmit(d,e,a,c)},query:function(a){return new creme.ajax.Query(a,this)}};creme.ajax.LOCALIZED_ERROR_MESSAGES={"0":gettext("Connection Refused"),"400":gettext("Bad Request"),"401":gettext("Unauthorized"),"403":gettext("Forbidden Access"),"404":gettext("Not Found"),"406":gettext("Not Acceptable"),"409":gettext("Conflict"),"500":gettext("Internal Error")};creme.ajax.localizedErrorMessage=function(c){var a=Object.isEmpty(c)?"200":(["number","string"].indexOf(typeof c)!==-1?c:(c.status||"200"));var b=creme.ajax.LOCALIZED_ERROR_MESSAGES[a];return b?b:gettext("Error")+(a&&a!=="200"?" ("+a+")":"")};creme.ajax.XHR=function(a){return $.extend({aborted:0,responseText:"",responseXML:null,status:200,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){}},a||{})};creme.ajax.AjaxResponse=function(a,b,c){return{type:"request",status:a,message:b,request:c||new creme.ajax.XHR({responseText:b,status:a})}};creme.ajax.jqueryFormSubmit=function(e,a,d,c){var b=e.attr("action");var h=$("input[type=file]",e).length>0;var c=c||{};e.attr("action",c.action||b);function f(j){if(j===""){return 404}else{if(/^HTTPError [0-9]+$/.test(j)){return parseInt(j.substr("HTTPError ".length))}else{return 200}}}var g={iframe:h,success:function(k,l,m,j){j.attr("action",b);m.status=f(k);if(m.status===200){if(a!==undefined){a(k,l,m,j)}return}if(d!==undefined){d(k,{type:"request",status:m.status,message:"HTTP - "+m.status+" error",request:m})}},error:function(j){if(d!==undefined){d(j.responseText,{type:"request",status:j.status,message:"HTTP - "+j.status+" error",request:j})}}};g=$.extend({},g,c,true);$(e).ajaxSubmit(g)};creme.ajax.MockAjaxBackend=function(a){$.extend(this.options,{delay:500},a||{});this.GET={};this.POST={};this.counts={GET:0,POST:0,SUBMIT:0}};creme.ajax.MockAjaxBackend.prototype=new creme.ajax.Backend();creme.ajax.MockAjaxBackend.prototype.constructor=creme.ajax.Backend;$.extend(creme.ajax.MockAjaxBackend.prototype,{send:function(b,d,a,j,g,l){var k=this;var l=$.extend({},this.options,l);if(l.sync!==true){l.sync=true;var f=l.delay||500;window.setTimeout(function(){k.send(b,d,a,j,g,l)},f);return}var c=a!==undefined?a[b]:undefined;if(c===undefined){c=this.response(404,"")}if(typeof c==="function"){try{c=creme.object.invoke(c,b,d,l)}catch(h){c=this.response(500,""+h)}}if(l.debug){console.log("mockajax > send > url:",b,"options:",l,"response:",c)}if(c.status!==200){return creme.object.invoke(g,c.responseText,new creme.ajax.AjaxResponse(c.status,c.responseText,c.xhr))}return creme.object.invoke(j,c.responseText)},get:function(c,d,e,a,b){this.counts.GET+=1;return this.send(c,d,this.GET,e,a,b)},post:function(c,d,e,a,b){this.counts.POST+=1;return this.send(c,d,this.POST,e,a,b)},submit:function(c,e,a,b){var b=b||{};var d=b.action||c.attr("action");this.counts.SUBMIT+=1;return this.send(d,c,this.POST,e,a,b)},response:function(a,b){return new creme.ajax.XHR({responseText:b,status:a})},resetMockCounts:function(){this.counts={GET:0,POST:0,SUBMIT:0}}});creme.ajax.CacheBackendEntry=function(d,c,e,b,a){this.key=d;this.url=c;this.data=e;this.dataType=b;this.response=a;this.state=undefined;this.waiting=false;this.events=new creme.component.EventHandler();this.registry=undefined};creme.ajax.CacheBackendCondition=function(a){this._expired_cb=Object.isFunc(a)?a:function(){return false}};creme.ajax.CacheBackendCondition.prototype={expired:function(b,a){if(b.state===undefined){return true}return creme.object.invoke(this._expired_cb,b,a)},reset:function(a){a.state={}}};creme.ajax.CacheBackendTimeout=function(a){this.maxdelay=(a||0)};creme.ajax.CacheBackendTimeout.prototype=new creme.ajax.CacheBackendCondition();creme.ajax.CacheBackendTimeout.prototype.constructor=creme.ajax.CacheBackendCondition;$.extend(creme.ajax.CacheBackendTimeout.prototype,{expired:function(b,a){if(b.state===undefined){return true}var c=b.state.time+this.maxdelay;return c-new Date().getTime()<=0},reset:function(a){a.state={time:new Date().getTime()}}});creme.ajax.CacheBackend=function(b,a){$.extend(this.options,a||{});this.delegate=b||new creme.ajax.Backend();this.condition=this.options.condition||new creme.ajax.CacheBackendCondition();this.entries={}};creme.ajax.CacheBackend.prototype=new creme.ajax.Backend();creme.ajax.CacheBackend.prototype.constructor=creme.ajax.Backend;$.extend(creme.ajax.CacheBackend.prototype,{get:function(c,e,f,a,b){var b=$.extend({},this.options,b);var d=this._getEntry(c,e,b.dataType);this._fetchEntry(d,f,a,b)},_getEntry:function(b,d,a){var c=$.toJSON([b,a,d]);return this.entries[c]||new creme.ajax.CacheBackendEntry(c,b,d,a)},_updateEntry:function(b,a,c){b.response={data:a,textStatus:c};this.condition.reset(b)},_registerEntry:function(a){this.entries[a.key]=a;this.condition.reset(a);a.registry=this},_removeEntry:function(a){a.registry=undefined;delete this.entries[a.key]},_fetchEntry:function(d,e,b,c){var a=this;if(!c.forcecache&&!d.waiting&&(this.condition.expired(d,c)===false)){return creme.object.invoke(e,d.response.data,d.response.textStatus)}if(d.registry===undefined){this._registerEntry(d)}d.events.one("complete",function(h,g,j,f){creme.object.invoke(g?e:b,j,f)});if(!d.waiting){d.waiting=true;this.delegate.get(d.url,d.data,function(f,g){d.waiting=false;a._updateEntry(d,f,g);d.events.trigger("complete",[true,f,g])},function(g,f){a._removeEntry(d);d.waiting=false;d.events.trigger("complete",[false,g,f])},c)}}});creme.ajax.Query=creme.component.Action.sub({_init_:function(a,b){this._super_(creme.component.Action,"_init_",this._send,a);this._backend=b||new creme.ajax.Backend(a.backend);this._converter=function(c){return c};this._data={};this._onsuccess_cb=$.proxy(this._onBackendSuccess,this);this._onerror_cb=$.proxy(this._onBackendError,this)},_onBackendSuccess:function(a,c){try{this.done(this._converter(a))}catch(b){this.fail(a,b)}},_onBackendError:function(b,a){this.fail(b,a)},converter:function(a){if(a===undefined){return this}if(!Object.isFunc(a)){throw Error("converter is not a function")}this._converter=a;return this},backend:function(a){return Object.property(this,"_backend",a)},url:function(a){if(a===undefined){return Object.isFunc(this._url)?this._url():this._url}this._url=a;return this},data:function(a){if(a===undefined){return Object.isFunc(this._data)?this._data():this._data}this._data=a;return this},_send:function(b){var b=$.extend({},this.options(),b||{});var d=$.extend({},this.data()||{},b.data||{});var c=(b.action||"get").toLowerCase();var e=b.backend||{};var a=this.url()||"";if(Object.isNone(this._backend)||!a){return this.cancel()}if(!Object.isFunc(this._backend[c])){throw new Error('no such backend action "%s"'.format(c))}this._backend[c](a,d,this._onsuccess_cb,this._onerror_cb,e);return this},get:function(b,a){return this.start({action:"get",data:b,backend:a||{}})},post:function(b,a){return this.start({action:"post",data:b,backend:a||{}})}});creme.ajax.query=function(b,a,d,c){var a=a||{};return new creme.ajax.Query(a,c).url(b).data(d||{})};creme.layout=creme.layout||{};creme.layout.LayoutResizeSensor=creme.component.Component.sub({_OVERFLOW_EVENT:"OverflowEvent" in window?"overflowchanged":"overflow",_UNDERFLOW_EVENT:"OverflowEvent" in window?"overflowchanged":"underflow",_init_:function(){this._threshold=100;if($.browserInfo().msie){this._sensor=$('<div class="ui-layout resize-sensor" onresize="$(\'body\').resize();">')}else{this._sensor=$('<div class="ui-layout resize-sensor">    <div class="ui-layout resize-overflow"><div></div></div>    <div class="ui-layout resize-underflow"><div></div></div></div>')}},isBound:function(){return this._target!==undefined},bind:function(d){if(this._target!==undefined){throw new Error("Resize sensor already bound")}this._target=d;var b=0,e=0;var g=this._sensor;var h=$(".resize-overflow",g);var a=$(".resize-underflow",g);var f=function(l){var k=g[0].offsetWidth;var j=g[0].offsetHeight;if(b===k&&e===j){return}d.trigger(jQuery.Event("resize",{width:k,height:j}));if(!g.parent().is(d)){d.append(g)}var k=g[0].offsetWidth;var j=g[0].offsetHeight;$("> :first",h).css("width",k-1).css("height",j-1);$("> :first",a).css("width",k+1).css("height",j-1);b=k;e=j};var c=$.debounce(f,this._threshold);if(!$.browserInfo().msie){this._onOverflow(g,c);this._onUnderflow(g,c);this._onOverflow(h,c);this._onUnderflow(a,c)}$("body").bind("resize",c);this._targetPosition=this._target.css("position");this._target.css("position","relative");this._target.append(this._sensor);f({})},unbind:function(){if(this._target===undefined){throw new Error("Resize sensor not bound")}$("> div.ui-layout.resize-sensor",this._target).remove();this._target.css("position",this._targetPosition);this._target=undefined;return this},_isOverflowEvent:function(a){return a.type=="overflow"||((a.orient==0&&a.horizontalOverflow)||(a.orient==1&&a.verticalOverflow)||(a.orient==2&&a.horizontalOverflow&&a.verticalOverflow))},_onOverflow:function(b,d){var a=this;var c=this._OVERFLOW_EVENT;b.bind(c,function(f){if(a._isOverflowEvent(f.originalEvent)){f.flow="over";d.apply(a,[f])}})},_onUnderflow:function(c,a){var b=this;var d=this._UNDERFLOW_EVENT;c.bind(d,function(f){if(b._isOverflowEvent(f.originalEvent)===false){f.flow="under";a.apply(b,[f])}})}});creme.layout.Layout=creme.component.Component.sub({_init_:function(b){var a=this;var b=$.extend({resizable:false,filter:function(){return true}},b||{});this._resize_cb=function(d,c){a.fireResize(c?c.size.width:d.width||0,c?c.size.height:d.height||0)};this._add_cb=function(c){a.fireAdded(c.target)};this._remove_cb=function(c){a.fireRemoved(c.target)};this._layout_cb=function(){a.layout()};this._locked=false;this._uuid=$.uidGen();this._events=new creme.component.EventHandler();this.filter(b.filter);this.resizable(b.resizable)},preferredSize:function(a){return creme.layout.preferredSize(a)},filter:function(a){if(a===undefined){return this._filter}this._filter=Object.isType(a,"string")?function(b){$(b).is(a)}:a;return this},resizable:function(a){if(a===undefined){return this._resizable}this._resizable=a;this._initResizeSensor();return this},_initResizeSensor:function(){if(this._target==undefined){return}var a=this._resizable;var b=this._resizeSensor;if(!a){this._unbindResizeSensor();return this}if(b===undefined){this._resizeSensor=b=new creme.layout.LayoutResizeSensor()}this._bindResizeSensor()},_bindResizeSensor:function(){var a=this._resizeSensor;if(a!==undefined&&!a.isBound()){a.bind(this._target)}},_unbindResizeSensor:function(){var a=this._resizeSensor;if(a!==undefined&&a.isBound()){a.unbind(this._target)}},container:function(){return this._target},children:function(){return $("> *:not(.ui-layout)",this._target).filter(this._filter)},onResize:function(a){this._events.bind("resize",a);return this},onAdded:function(a){this._events.bind("added",a);return this},onRemoved:function(a){this._events.bind("removed",a);return this},onLayout:function(b){var a=this;this._events.bind("start",function(){try{b.apply(this,arguments)}catch(c){}a.done()});return this},fireResize:function(b,a){this._events.trigger("resize",[this._target,b,a],this);return this},fireAdded:function(a){this._events.trigger("added",[this._target,a],this);return this},fireRemoved:function(a){this._events.trigger("removed",[this._target,a],this);return this},done:function(){this._locked=false;this._events.trigger("done",[this._target],this);return this},layout:function(){if(this._locked===true){return this}this._locked=true;this._events.trigger("start",[this._target],this);return this},_bindEvents:function(){if(creme.component.is(Object.getPrototypeOf(this._target),creme.layout.Layout)){this._target.onDone(this._layout_cb);return}this._target.bind("resize",this._resize_cb);this._target.bind($.matchIEVersion(8,9)?"DOMNodeRemoved DOMNodeRemovedFromDocument":"DOMNodeRemoved",this._remove_cb);this._target.bind($.matchIEVersion(8,9)?"DOMNodeInserted DOMNodeInsertedIntoDocument":"DOMNodeInserted",this._add_cb)},_unbindEvents:function(){if(creme.component.is(Object.getPrototypeOf(this._target),creme.layout.Layout)){this._target._events.unbind("done",this._layout_cb);return}this._target.unbind("resize",this._resize_cb);this._target.unbind($.matchIEVersion(8,9)?"DOMNodeRemoved DOMNodeRemovedFromDocument":"DOMNodeRemoved",this._remove_cb);this._target.unbind($.matchIEVersion(8,9)?"DOMNodeInserted DOMNodeInsertedIntoDocument":"DOMNodeInserted",this._add_cb)},bind:function(b){var a=this;if(this.isBound()){throw new Error("Layout is already bound.")}this._target=$(b);this._bindEvents();this._initResizeSensor();return this},unbind:function(){if(!this.isBound()){throw new Error("Layout is not bound.")}this._unbindEvents();this._target=undefined;return this},isBound:function(){return this._target!==undefined}});creme.layout.preferredSize=function(b,d){var a=0;var c=0;var d=d||1;$("> *",b).filter(":visible").each(function(){var e=$(this).position();if(d>1){var f=creme.layout.preferredSize($(this),d-1);c=Math.max(c,f[0]);a=Math.max(a,f[1])}c=Math.max(c,e.left+$(this).outerWidth(true));a=Math.max(a,e.top+$(this).outerHeight(true))});return[Math.round(c),Math.round(a)]};creme.layout=creme.layout||{};creme.layout.SortLayout=creme.layout.Layout.sub({_init_:function(a){var a=$.extend({comparator:function(d,c){return 0},reverse:false},a||{});this._super_(creme.layout.Layout,"_init_",a);this.comparator(a.comparator);this.reverse(a.reverse);this.onLayout(this._onLayout);this.onAdded(this.layout);this.onRemoved(this.layout)},comparator:function(a){if(a===undefined){return this._comparator}this._comparator=$.proxy(a,this);return this},reverse:function(a){return Object.property(this,"_reverse",a)},_onLayout:function(b,a){var c=Array.copy(this.children().get());try{c=c.sort(this._comparator);c=this.reverse()?c.reverse():c}catch(d){}c.forEach(function(e){a.append($(e).remove())})}});creme.layout=creme.layout||{};creme.layout.ColumnSortLayout=creme.layout.Layout.sub({_init_:function(a){var a=$.extend({columns:1},a||{});this._super_(creme.layout.Layout,"_init_",a);this.columns(a.columns);this.comparator(a.comparator);this.onLayout(this._onLayout);this.onAdded(this.layout);this.onRemoved(this.layout);this.onResize(this.layout)},comparator:function(a){if(a===undefined){return this._comparator}this._comparator=$.proxy(a,this);return this},columns:function(b){if(b===undefined){return this._columns}if(Object.isType(b,"string")&&b.endsWith("px")){var a=parseInt(b.substr(0,b.length-2));b=isNaN(a)?1:function(){return Math.floor(this.container().width()/a)}}this._columns=Object.isFunc(b)?b:function(){return b};return this},_onLayout:function(a,b){var f=Array.copy(this.children().get());var c=Math.max(this._columns(),1);var j=[];var d=Math.ceil(f.length/c);try{sorted=f.sort(this._comparator)}catch(h){}for(var g=0;g<c;++g){j.push([])}f.forEach(function(l,e){j[Math.floor(e/d)].push($(l))});b.attr("ui-layout-columns",c);$("> .ui-layout.column.empty",b).remove();this.children().remove();for(var k=0;k<d;++k){j.forEach(function(e){if(e.length>k){b.append(e[k])}else{b.append($("<li>").addClass("ui-layout column empty"))}})}}});creme.layout.CSSColumnLayout=creme.layout.Layout.sub({_init_:function(a){var a=$.extend({columns:1},a||{});this._super_(creme.layout.Layout,"_init_",a);this.columns(a.columns);this.onLayout(this._onLayout);this.onAdded(this.layout);this.onRemoved(this.layout);this.onResize(this.layout)},columnWidth:function(){return Math.floor(this.container().width()/this.columns())},columns:function(a){if(a===undefined){return this._columns?this._columns():1}this._columns=Object.isFunc(a)?a:function(){return a};return this},_onLayout:function(b,a){var a=this.container();var c=this.columnWidth();c=""+c+"px;";a.attr("style","-webkit-column-width:"+c+"-moz-column-width:"+c+"-column-width:"+c)}});creme.layout=creme.layout||{};creme.layout.TextAreaAutoSize=creme.component.Component.sub({_init_:function(a){var a=$.extend({min:2},a||{});this._min=a.min;this._max=a.max;this._listeners=$.proxy(this._onResize,this)},_onResize:function(d){var a=this._delegate;var c=this._count!==undefined?this._count:this._initial;var b=this._count=a.val()!==null?a.val().split("\n").length:this._min;if(d.keyCode===13){++b}b=Math.max(this._min,b);b=!isNaN(this._max)?Math.min(this._max,b):b;if(c!==b){b=$.browserInfo().mozilla?b-1:b;a.get().scrollTop=0;a.attr("rows",b)}},bind:function(b){var a=this;if(this._delegate!==undefined){throw new Error("already bound")}this._delegate=b;b.css({"overflow-y":"hidden",resize:"none"});this._initial=parseInt(b.attr("rows"))||1;this._initial=$.browserInfo().mozilla?this._initial-1:this._initial;this._onResize(b);b.bind("propertychange keydown paste input",this._listeners);return this},unbind:function(){if(this._delegate===undefined){throw new Error("not bound")}this._delegate.unbind("propertychange keydown paste input",this._listeners);this._delegate=undefined;return this}});creme.model=creme.model||{};creme.model.Collection=creme.component.Component.sub({_init_:function(){this._events=new creme.component.EventHandler()},bind:function(b,c,a){this._events.bind(b,c,a);return this},unbind:function(a,b){this._events.unbind(a,b);return this},one:function(a,b){this._events.one(a,b)},_fireAdd:function(c,d,a,b){this._events.trigger("add",[c,d,a,b],this)},_fireRemove:function(c,d,a,b){this._events.trigger("remove",[c,d,a,b],this)},_fireUpdate:function(d,e,a,b,c){this._events.trigger("update",[d,e,a,b,c],this)},length:function(){return this.all().length},get:function(a){return this.all()[a]},each:function(a){return this.all().forEach(a)},map:function(a){return this.all().map(a)},where:function(a){return this.all().filter(a)},slice:function(b,a){return this.all().slice(b,a)},first:function(){return this.length()>0?this.get(0):undefined},last:function(){return this.length()>0?this.get(this.length()-1):undefined},all:function(){return[]}});creme.model.Delegate=creme.model.Collection.sub({_init_:function(b,a){this._super_(creme.model.Collection,"_init_");this._delegateListener=$.extend({update:$.proxy(this._onUpdate,this),add:$.proxy(this._onAdd,this),remove:$.proxy(this._onRemove,this)},a||{});this.delegate(b)},delegate:function(a){if(a===undefined){return this._delegate}var b=this._delegate;if(b!==undefined){b.unbind(this._delegateListener)}if(!Object.isNone(a)){a.bind(this._delegateListener)}this._delegate=a;return this},all:function(){return this._delegate?this._delegate.all():[]},_onUpdate:function(c,e,f,a,b,d){this._fireUpdate(e,f,a,b,d)},_onAdd:function(b,d,e,a,c){this._fireAdd(d,e,a,c)},_onRemove:function(b,d,e,a,c){this._fireRemove(d,e,a,c)}});creme.model.Filter=creme.model.Delegate.sub({_init_:function(c,b){var a={reset:$.proxy(this._onReset,this)};this._setFilter(b);this._super_(creme.model.Delegate,"_init_",c,a)},all:function(){return this._data},fetch:function(c,a){var b=this._filterData();this._super_(creme.model.Array,"reset",b);return this},_filterData:function(){var b=this._delegate;var a=this._filter;if(!b){return[]}return Object.isFunc(a)?b.where(a):b.all().slice()},_setFilter:function(a){if(Object.isNone(a)){this._filter=null}else{if(Object.isFunc(a)){this._filter=a}else{if(Object.isFunc(a.callable)){this._filter=a.callable()}else{if(Object.isType(a,"string")){this._filter=creme.utils.lambda(a,"item",null)}}}}},filter:function(a){if(a===undefined){return this._filter}this._setFilter(a);this.fetch();return this},delegate:function(b){var c=this._delegate;var a=this._super_(creme.model.Delegate,"delegate",b);if(c!=this._delegate){this.fetch()}return a},_onUpdate:function(c,e,f,a,b,d){if(d!=="reset"){this.fetch()}},_onAdd:function(c,e,f,a,b,d){if(d!=="reset"){this.fetch()}},_onRemove:function(c,e,f,a,b,d){if(d!=="reset"){this.fetch()}},_onReset:function(a){this.fetch()}});creme.model=creme.model||{};creme.model.Array=creme.model.Collection.sub({_init_:function(b,a){this._super_(creme.model.Collection,"_init_");this._data=!Object.isEmpty(b)?(Array.isArray(b)?b:[b]):[];this.comparator(a)},length:function(){return this._data.length},get:function(a){return this._data[a]},set:function(d,a,c){if(a<0||a>this._data.length){throw new Error("index out of bound")}var b=this._data[a];this._data[a]=d;this._fireUpdate([d],a,a,[b],c||"set");return this},reset:function(e){var j=this._data;var b=j?j.length:0;this._data=!Object.isEmpty(e)?(Array.isArray(e)?e:[e]):[];var g=this._data.length;if(b>0){if(g>0){var f=0;var h=Math.max(0,Math.min(j.length-1,this._data.length-1));this._fireUpdate(this._data.slice(f,h+1),f,h,j.slice(f,h+1),"reset")}if(b>g){var a=g;var d=b-1;this._fireRemove(j.slice(a,d+1),a,d,"reset")}}if(g>0&&g>b){var k=b;var c=g-1;this._fireAdd(this._data.slice(k,c+1),k,c,"reset")}this._events.trigger("reset",[],this);return this},insert:function(d,c){var b=this;var d=Array.isArray(d)?d:[d];var c=c||0;var e=c;var a=e+(d.length-1);if(d.length===0){return this}if(c<0||c>this._data.length){throw new Error("index out of bound")}if(c===this._data.length){this._data=this._data.concat(d)}else{if(c===0){this._data=d.concat(this._data)}else{this._data=this._data.slice(0,c).concat(d,this._data.slice(c))}}this._fireAdd(d,e,a,"insert");return this},append:function(a){return this.insert(a,this._data.length)},prepend:function(a){return this.insert(a)},pop:function(){if(this._data.length===0){return}var a=this._data.length-1;var b=this._data.pop();this._fireRemove([b],a,a,"remove");return b},removeAt:function(a){if(a<0||a>this._data.length){throw new Error("index out of bound")}var b=this._data.splice(a,1);this._fireRemove(b,a,a,"remove");return b[0]},remove:function(d){var a=this;var d=Array.isArray(d)?d:[d];var c=this._data;var e=[];var b=-1;d.forEach(function(g){var f=a.indexOf(g);if(f!=-1){e.push(a.removeAt(f))}});return e},indexOf:function(d,a){var a=a||this._comparator;var c=this._data;if(Object.isFunc(a)===false){return c.indexOf(d)}for(var b=0;b<c.length;++b){if(a(c[b],d)===0){return b}}return -1},indicesOf:function(c,b){var b=b||this._comparator;var d=this._data;var c=Array.isArray(c)?c.slice():[c];var a=[];if(Object.isFunc(b)===false){d.forEach(function(g,e){var f=c.indexOf(g);if(f!==-1){a.push(e);c.slice(f,1)}})}else{d.forEach(function(g,e){for(var f=0;f<c.length;++f){if(b(g,c[f])===0){a.push(e);c.slice(f,1)}}})}return a.length===0?-1:(a.length===1?a[0]:a)},clear:function(){var a=this._data;this._data=[];this._fireRemove(a,0,a.length-1,"clear");return a},first:function(){return this._data?this._data[0]:undefined},last:function(){return this._data?this._data[this._data.length-1]:undefined},each:function(a){this._data.forEach(a);return this},map:function(a){return this._data.map(a)},where:function(a){return this._data.filter(a)},slice:function(b,a){return this._data.slice(b,a)},all:function(){return this._data},comparator:function(a){return Object.property(this,"_comparator",a)},sort:function(a){var c=this._data;var b=Array.copy(c);var a=a||this._comparator;c.sort(a);this._fireUpdate(c,0,c.length-1,b,"sort");this._events.trigger("sort",[],this);return this},reverse:function(){var b=this._data;var a=Array.copy(b);b.reverse();this._fireUpdate(b,0,b.length-1,a,"reverse");this._events.trigger("reverse",[],this);return this},patch:function(d){if(Array.isArray(d)){return this.reset(d)}var b=this;var d=d||{};var c=d.add||[];var e=d.remove||[];var a=d.update||[];this.append(c);this.remove(e);a.forEach(function(g,f){b.set(g[0],g[1])});return this}});creme.model=creme.model||{};creme.model.Renderer=creme.component.Component.sub({_init_:function(d,b,c){var a=this;this._modelListener=$.extend({update:$.proxy(this._onUpdate,this),add:$.proxy(this._onAdd,this),remove:$.proxy(this._onRemove,this)},c||{});this.target(d);this.model(b)},target:function(a){return Object.property(this,"_target",a)},model:function(a){if(a===undefined){return this._model}var a=Array.isArray(a)?new creme.model.Array(a):a;var b=this._model;if(!Object.isNone(b)){b.unbind(this._modelListener)}if(!Object.isNone(a)){a.bind(this._modelListener)}this._model=a;return this},redraw:function(){this._target.html("");if(this._model&&this._model.length()>0){this.added(model._data,0,model._data.length-1)}return this}});creme.model.ListRenderer=creme.model.Renderer.sub({items:function(a){return a?$("li",a):$([])},createItem:function(e,d,c,a){var b=$("<li>");this.updateItem(e,b,c,undefined,a);return b},insertItem:function(e,d,c,a){var b=this.createItem(e,d,c,a);if(d&&d.length){d.before(b)}else{e.append(b)}},updateItem:function(e,c,d,b,a){c.html(""+d);return c},removeItem:function(d,b,c,a){b.remove()},redraw:function(){var c=this._target;var a=this;var b=this.model();this.items(c).each(function(d){a.removeItem(c,$(this),b!==undefined?b.get(d):undefined,d)});if(b===undefined){return this}b.all().forEach(function(e,d){a.insertItem(c,$([]),e,d)});return this},_onUpdate:function(d,f,h,a,c,e){var b=this;var g=this._target;this.items(g).slice(h,a+1).each(function(j){b.updateItem(g,$(this),f[j],c[j],h+j,e)})},_onAdd:function(c,f,h,a,e){var g=this._target;var b=this;var d=this.items(g).slice(h,h+1);f.forEach(function(k,j){b.insertItem(g,d,k,h+j)})},_onRemove:function(c,e,g,a,d){var f=this._target;var b=this;this.items(f).slice(g,a+1).each(function(h){b.removeItem(f,$(this),e[h],g+h)})}});creme.model=creme.model||{};creme.model.AjaxArray=creme.model.Array.sub({_init_:function(b,a){this.backend(b);this.initial(a||[]);this._super_(creme.model.Array,"_init_",this.initial());this._queryListeners={done:$.proxy(this._onQueryDone,this),fail:$.proxy(this._onQueryError,this),cancel:$.proxy(this._onQueryCancel,this)}},_onQueryDone:function(a,b,c){this._events.trigger("fetch-done",[b],this);this.patch(b)},_onQueryCancel:function(){this._events.trigger("fetch-cancel",[],this)},_onQueryError:function(b,c,a){this._events.trigger("fetch-error",[c,a],this);this.patch(this.initial())},initial:function(a){if(a===undefined){return Object.isFunc(this._initial)?this._initial():this._initial}this._initial=a;return this},converter:function(a){return Object.property(this,"_converter",a)},backend:function(a){return Object.property(this,"_backend",a)},url:function(a){return Object.property(this,"_url",a)},fetch:function(d,a,b){var c=this.backend().query();c.one(this._queryListeners).one(b||{}).url(this._url);if(this._converter){c.converter(this._converter)}if(this._running){if(this._running.isRunning()){this._running.cancel()}delete this._running}this._running=c;c.get(d,a);return this}});creme.model=creme.model||{};creme.model.CollectionController=creme.component.Component.sub({target:function(a){if(a===undefined){return this._target}this._target=a!==null?a:undefined;if(this.renderer()){this.renderer().target(a)}return this},redraw:function(){var a=this.renderer();var b=this.target();if(a&&b){a.redraw()}},_rendererModel:function(){return this._model},renderer:function(a){if(a===undefined){return this._renderer}this._renderer=a;if(this._renderer){this._renderer.model(this._rendererModel());this._renderer.target(this.target())}return this},model:function(a){if(a===undefined){return this._model}this._model=a;if(this._renderer){this._renderer.model(this._rendererModel())}return this},fetch:function(){this.model().fetch();return this}});creme.model.SelectionController=creme.component.Component.sub({_init_:function(){var a=this;this._events=new creme.component.EventHandler();this.selectionFilter(null);this._modelListeners={"add remove":function(b,c){a._events.trigger("change",[],this)},update:function(d,f,g,b,c,e){if(e!=="select"){a._events.trigger("change",[],this)}}}},on:function(b,c,a){this._events.on(b,c,a);return this},off:function(a,b){this._events.off(a,b);return this},one:function(a,b){this._events.one(a,b)},model:function(a){if(a===undefined){return this._model}var b=this._model;if(!Object.isNone(b)){b.unbind(this._modelListeners)}if(!Object.isNone(a)){a.bind(this._modelListeners)}this._model=a;return this},selectionFilter:function(a){if(a===undefined){return this._filter}this._filter=Object.isFunc(a)?a:null;return this},selected:function(){var a=this.model();return a?a.where(function(b){return b.selected}):[]},selectables:function(){var b=this.model();var a=this._filter;if(b!==undefined){return Object.isFunc(a)?b.where(a):b.all()}return[]},_inRange:function(d,b){if(d.length===0){return false}for(var c=0;c<d.length;++c){var a=d[c];if(b>=a[0]&&b<=a[1]){return true}}return false},_cleanRange:function(c,d,a){var e,b;if(c.length>1){e=c[0];b=c[1]}else{e=c;b=c}if(e>b){e=e+b;b=e-b;e=e-b}return[Math.min(Math.max(d,e),a),Math.max(d,Math.min(a,b))]},_compareRange:function(d,c){return d[0]<c[0]?-1:(d[0]>c[0]?1:0)},_cleanIndices:function(e,c,b){if(Object.isFunc(e)){return e}var e=Array.isArray(e)?e:[e];var c=0,b=this.model().length();var d=[];var a=this._cleanRange;var d=e.map(function(f){return a(f,c,b)}).sort(this._compareRange);return d},_updateSelection:function(l,k,d){var f=this.model();var b=this.selectionFilter();var l=this._cleanIndices(l);var a=this._inRange;var j=this.model().all();var c=false;var e,g,m;for(var h=0;h<j.length;++h){m=j[h];if(b&&!b(m,h)){continue}g=m.selected?true:false;if(a(l,h)){e=k(m,h)}else{e=d?d(m,h):g}if(e!==undefined&&e!==g){m.selected=e;c=true}}if(c){l.forEach(function(n){update_start=n[0];update_end=n[1];f._fireUpdate(j.slice(update_start,update_end+1),update_start,update_end,j.slice(update_start,update_end+1),"select")});this._events.trigger("change",[],this)}return this},toggle:function(b,a){return this._updateSelection(b,function(d,c){return a!==undefined?(a===true):!d.selected})},select:function(b,a){return this._updateSelection(b,function(d,c){return true},a?undefined:function(d,c){return false})},unselect:function(a){return this._updateSelection(a,function(c,b){return false})},toggleAll:function(a){return this.toggle([[0,this.model().length()-1]],a)},selectAll:function(){return this.toggleAll(true)},unselectAll:function(){return this.toggleAll(false)}});creme.model=creme.model||{};creme.model.ChoiceRenderer=creme.model.ListRenderer.sub({createItem:function(e,d,c,a){var b=$("<option>");this.updateItem(e,b,c,undefined,a);return b},updateItem:function(g,c,f,b,a,e){if(e==="select"){return this.selectItem(g,c,f,b,a)}var d=Object.isNone(f.value)?"":f.value;if(typeof f.value==="object"){d=new creme.utils.JSON().encode(f.value)}c.attr("value",d).toggleAttr("disabled",f.disabled===true).prop("selected",f.selected===true).toggleAttr("tags",f.tags,(f.tags||[]).join(" ")).html(f.label)},selectItem:function(e,c,d,b,a){c.prop("selected",d.selected===true)},items:function(a){return $("option",a)}});creme.model.ChoiceRenderer.parse=function(b,c){var a=b.val();a=b.is("[multiple]")?(a||[]):[a];return $("option",b).map(function(){var e=$(this);var d=e.attr("value");return{label:e.html(),value:Object.isFunc(c)?c(d):d,disabled:e.is("[disabled]"),selected:a.indexOf(d)!==-1,visible:true,help:e.attr("help"),tags:e.is("[tags]")&&e.attr("tags")?e.attr("tags").split(" "):[]}}).get()};creme.model.ChoiceGroupRenderer=creme.model.ChoiceRenderer.sub({insertGroup:function(d,b,a){var c=$('optgroup[label="'+a+'"]',d);if(c&&c.length){return c}c=$('<optgroup label="'+a+'">');if(b&&b.length){b.parent().before(c)}else{d.append(c)}return c},insertItem:function(g,e,d,b){var f=g;var a=e&&e.length?e.parent().attr("label"):undefined;var c=d.group;if(c){f=this.insertGroup(g,e,c)}if(e&&e.length){if(c&&a!==c){e=$("option:first",f)}e.before(this.createItem(g,e,d,b))}else{f.append(this.createItem(g,e,d,b))}},removeItem:function(e,b,c,a){var d=c.group?b.parent():undefined;b.remove();if(d&&$("option",d).length<1){d.remove()}},updateItem:function(g,l,c,d,e,b){if(b==="select"){return this.selectItem(g,l,c,d,e)}var k=g;var a=l.parent();var h=d?d.group:undefined;var f=c.group;if(f){k=this.insertGroup(g,l.next(),f)}if(h!==f){l.remove();k.append(l);if(a&&($("option",a).length)<1){a.remove()}}var j=Object.isNone(c.value)?"":c.value;if(typeof c.value==="object"){j=new creme.utils.JSON().encode(c.value)}l.attr("value",j).toggleAttr("disabled",c.disabled===true).prop("selected",c.selected===true).toggleAttr("tags",c.tags,(c.tags||[]).join(" ")).html(c.label)}});creme.model.ChoiceGroupRenderer.parse=function(b,c){var a=b.val();a=b.is("[multiple]")?(a||[]):[a];return $("option",b).map(function(){var f=$(this);var d=f.attr("value");var e=f.parent();return{group:(e&&e.is("optgroup"))?e.attr("label"):undefined,label:f.html(),value:Object.isFunc(c)?c(d):d,disabled:f.is("[disabled]"),selected:a.indexOf(d)!==-1,visible:true,help:f.attr("help"),tags:f.is("[tags]")&&f.attr("tags")?f.attr("tags").split(" "):[]}}).get()};creme.model.CheckListRenderer=creme.model.ListRenderer.sub({_init_:function(a){var a=$.extend({itemtag:"li",disabled:false},a||{});this._super_(creme.model.ListRenderer,"_init_");this._itemtag=a.itemtag;this._disabled=a.disabled},disabled:function(a){return Object.property(this,"_disabled",a)},createItem:function(e,d,c,a){var b=$(('<%s class="checkbox-field"><input type="checkbox" /><div class="checkbox-label"><span class="checkbox-label-text"></span><span class="checkbox-label-help"></span></div></%s>').format(this._itemtag));this.updateItem(e,b,c,undefined,a);return b},updateItem:function(g,j,c,e,f,a){if(a==="select"){return this.selectItem(g,j,c,e,f)}var h=Object.isNone(c.value)?"":c.value;var d=$('input[type="checkbox"]',j);var b=c.disabled||this._disabled;if(typeof c.value==="object"){h=new creme.utils.JSON().encode(c.value)}d.toggleAttr("disabled",c.disabled||b).attr("value",h).attr("checklist-index",f).data("checklist-item",{data:c,index:f});d.prop("checked",c.selected);$(".checkbox-label-text",j).toggleAttr("disabled",b).html(c.label);$(".checkbox-label-help",j).toggleAttr("disabled",b).html(c.help);j.toggleAttr("tags",c.tags,(c.tags||[]).join(" ")).toggleClass("hidden",!c.visible).toggleClass("disabled",b).attr("checklist-index",f)},selectItem:function(e,c,d,b,a){$('input[type="checkbox"]',c).get()[0].checked=d.selected},items:function(a){return $(".checkbox-field",a).sort(function(d,c){return parseInt($(d).attr("checklist-index"))-parseInt($(c).attr("checklist-index"))})},converter:function(a){return Object.property(this,"_converter",a)},parseItem:function(h,f,d){var e=this._converter;var a=$('input[type="checkbox"]',f);var c=$(".checkbox-label",f);var b=$(".checkbox-helptext",f);var g=a.attr("value");return{label:c.html(),value:Object.isFunc(e)?e(g):g,disabled:a.is("[disabled]")||h.is("[disabled]"),selected:a.is(":checked"),help:b.html(),tags:a.is("[tags]")?a.attr("tags").split(" "):[],visible:true}},parse:function(b){var a=this;this._itemtag=this.items(b).first().prop("tagName")||this._itemtag;return this.items(b).map(function(c){return a.parseItem(b,$(this),c)}).get()}});creme.model.CheckGroupListRenderer=creme.model.CheckListRenderer.sub({_init_:function(a){var a=$.extend({grouptag:"ul"},a||{});this._super_(creme.model.CheckListRenderer,"_init_",a);this._grouptag=a.grouptag},insertGroup:function(d,b,a){var c=$('.checkbox-group[label="'+a+'"]',d);if(c&&c.length){return c}c=$("<"+this._grouptag+">").addClass("checkbox-group").attr("label",a).append($("<li>").addClass("checkbox-group-header").html(a));if(b&&b.length){b.parent().before(c)}else{d.append(c)}return c},insertItem:function(g,e,d,b){var f=g;var a=e&&e.length?e.parent().attr("label"):undefined;var c=d.group;if(c){f=this.insertGroup(g,e,c)}if(e&&e.length){if(c&&a!==c){e=$(".checkbox-field:first",f)}e.before(this.createItem(g,e,d,b))}else{f.append(this.createItem(g,e,d,b))}},removeItem:function(e,b,c,a){var d=c.group?b.parent():undefined;b.remove();if(d&&this.items(d).length<1){d.remove()}},updateItem:function(g,k,c,d,e,b){if(b==="select"){return this._super_(creme.model.CheckListRenderer,"updateItem",g,k,c,d,e,b)}var j=g;var a=k.parent();var h=d?d.group:undefined;var f=c.group;if(f){j=this.insertGroup(g,k.next(),f)}if(h!==f){k.remove();j.append(k);if(a&&(this.items(a).length)<1){a.remove()}}return this._super_(creme.model.CheckListRenderer,"updateItem",g,k,c,d,e)},parseItem:function(e,c,b){var d=this._super_(creme.model.CheckListRenderer,"parseItem",e,c,b);var a=c.parent();d.group=(a&&a.is(".checkbox-group"))?option_group.attr("label"):undefined;return d}});creme.dialog=creme.dialog||{};creme.dialog.Dialog=creme.component.Component.sub({_init_:function(a){this._events=new creme.component.EventHandler();this.options=$.extend({url:undefined,backend:undefined,resizable:true,draggable:true,width:640,height:350,scroll:"frame",fitFrame:true,initWidget:true,useFrameActions:true},a||{});this._initFrame(this.options)},_initFrame:function(b){var a=this;var c=this._frame=new creme.dialog.Frame({backend:b.backend});c.onCleanup($.proxy(this._onFrameCleanup,this)).onUpdate($.proxy(this._onFrameUpdate,this));if(b.fitFrame){c.on("fetch-fail submit-fail",function(){a.resizeToDefault();a.position(a.position())})}c.bind($("<div>").data("creme-dialog",this).addClass("ui-creme-dialog-frame"))},_onFrameCleanup:function(){this._events.trigger("frame-cleanup",[this.frame()],this)},_onFrameUpdate:function(){if(this.options.useFrameActions){var a=Object.values(this._frameActionButtons(this.options));this.replaceButtons(a)}if(this.options.fitFrame){this.fitToFrameSize()}this._events.trigger("frame-update",[this.frame()],this)},_dialogBackground:function(){return this._dialog?$("body > :not(.ui-dialog)"):$([])},_destroyDialog:function(){if(this._dialog){this._dialogBackground().toggleClass("ui-dialog-scrollbackground",false);this._dialog.dialog("destroy");this._dialog.remove();this._dialog=undefined}},_onClose:function(b,c,a){c.clear();this._destroyDialog();this._events.trigger("close",[a],this)},_onOpen:function(c,d,b){var a=this;this._dialog=c;if(b.scroll==="background"){this._dialog.css("overflow-y","hidden");this._dialogBackground().toggleClass("ui-dialog-scrollbackground",true)}if(!Object.isEmpty(b.url)){this.fetch(b.url)}else{if(!Object.isEmpty(b.html)){this.fill(b.html)}else{if(this.options.fitFrame){if(Object.isEmpty(this._frame.lastFetchUrl())===false){this.fitToFrameSize()}else{this.resizeToDefault()}}}}this._events.trigger("open",[b],this)},_onResize:function(c,e){var b=$(this._dialog).parent(".ui-dialog:first");var a=$("> .ui-dialog-content",b);var d=e.delegate();d.width(a.width()-(d.position().left+(a.outerWidth()-a.width())));this._events.trigger("resize",[d.width(),d.height()],this)},_frameActionLinkButtons:function(b){var a=this;var c={};$("a.ui-creme-dialog-action",this.content()).each(function(g,h){var f=$(this).attr("name")||"link-"+g;var e=$(this).text();var d=$(this).attr("href");a._appendButton(c,f,e,function(){this.fetch(d)})});return c},_frameActionButtons:function(a){var b=this._defaultButtons({},a);return $.extend(b,this._frameActionLinkButtons(a))},_appendButton:function(e,c,b,f){var a=this;var d=this.options.defaultButtonLabels||{};e[c]={name:c,text:d[c]||b,click:function(g){f.apply(a,[$(this),g]);return false}}},_defaultButtons:function(c,b){var a=this;this._appendButton(c,"close",gettext("Close"),this.close);return c},_updateButtonState:function(c,b,a){var d=this.button(c);d.removeClass("ui-state-focus ui-state-hover ui-state-active");d.toggleClass("ui-state-disabled",!b);d.toggleAttr("disabled",!b);if((!this.options.autoFocus&&a==="auto")||a===true){d.focus()}},_updateButtonLabel:function(b,a){$(".ui-button-text",this.button(b)).html(a)},_resizeDialog:function(b,a){if(this._dialog===undefined){return}var d=this._dialog.dialog("option","maxWidth");var c=this._dialog.dialog("option","maxHeight");var b=d>0?Math.min(b,d):b;var a=c>0?Math.min(a,c):a;this._dialog.dialog("option","width",b);this._dialog.dialog("option","height",a);this._frame.delegate().css("min-height",this._frame.preferredSize()[1]).css("width","auto");this._frame.overlay().resize()},fitToFrameSize:function(){var b=$(this._dialog).parent(".ui-dialog:first");var f=$("> .ui-dialog-content",b);var d=this._frame.delegate();var g=b.outerWidth();var e=b.outerHeight();d.css("width",(Math.round(this.options.width-(b.outerWidth()-f.width()))));frame_width_padding=d.position().left+(d.outerWidth()-d.width());frame_height_padding=d.position().top+(d.outerHeight()-d.height());var l=this._frame.preferredSize();var h=Math.round(l[0]+frame_width_padding+(f.outerWidth()-f.width()));var a=Math.round(l[1]+frame_height_padding+(f.outerHeight()-f.height()));f.width(h).height(a);var c=b.outerWidth();var k=b.outerHeight();c=Math.abs(c-g)<5?g-2:c;k=Math.abs(k-e)<5?e:k;this._resizeDialog(c,k);this.position(this.position());var j=this._dialog.dialog("option","maxHeight");if(k<j||j===null){f.height("auto")}f.css("width","auto")},center:function(){return this.position({my:"center center",at:"center center",of:window})},position:function(a){if(a===undefined){return this._dialog?this._dialog.dialog("option","position"):undefined}this._dialog.dialog("option","position",a);return this},frame:function(){return this._frame},content:function(){return this._frame.delegate()},buttons:function(){return $(".ui-dialog-buttonset",$(this._dialog).parent(".ui-dialog:first"))},button:function(a){return $('button[name="'+a+'"]',this.buttons())},replaceButtons:function(a){this._dialog.dialog("option","buttons",a)},resize:function(b,a){this._resizeDialog(b,a)},resizeToDefault:function(){return this.resize(this.options.width,this.options.height)},fetch:function(b,a,d,c){this._frame.fetch(b,a,d,c);return this},fill:function(a){this._frame.fill(a);return this},clear:function(){this._frame.clear();return this},dialog:function(){return this._dialog},onClose:function(a){this._events.bind("close",a);return this},onOpen:function(a){this._events.bind("open",a);return this},on:function(b,c,a){this._events.bind(b,c,a);return this},off:function(a,b){this._events.unbind(a,b);return this},open:function(j){if(this._dialog!==undefined){throw Error("dialog already opened !")}var g=this;var j=$.extend(this.options,j||{});var c=this._frame;var b=c.delegate();var f=$.extend(this._defaultButtons({},j),j.buttons||{});var e=$("<div/>").append(b);var d={my:"center center",at:"center center",of:window};var a=j.scroll==="frame"?j.resizable:false;var h=j.scroll==="frame"?j.draggable:false;this._dialog=e.dialog({buttons:Object.values(f),title:j.title,modal:true,resizable:a,draggable:h,width:j.width,height:j.height,maxHeight:j.scroll==="frame"?j.maxHeight:false,maxWidth:j.maxWidth,position:d,closeOnEscape:false,open:function(){g._onOpen($(this),c,j)},resize:function(){g._onResize($(this),c)},close:function(){g._onClose($(this),c,j)}});return this},close:function(){this._onClose(this._dialog,this._frame,this.options);return this},isOpened:function(){return this._dialog!=undefined}});creme.dialog.redirect=function(a,c){if(c===undefined){creme.utils.redirect(a)}var b=$(c).parents(".ui-creme-dialog-frame:first").data("creme-dialog");if(b){b.fetch(a)}};creme.dialog.DialogAction=creme.component.Action.sub({_init_:function(a){this._super_(creme.component.Action,"_init_",this._openPopup,a)},dialog:function(){return this._dialog},_onClose:function(){delete this._dialog;this._dialog=undefined;this.done()},_openPopup:function(b){var a=this;var b=$.extend(this.options(),b||{});this._dialog=new creme.dialog.Dialog(b).onClose(function(){a._onClose()}).open()}});creme.dialogs=creme.dialogs||{};creme.dialogs=$.extend(creme.dialogs,{image:function(c,a){if(Object.isType(c,"string")){var b=this.html("");var d=document.createElement("img");d.onload=function(){b.fill($(d)).fitToFrameSize()};d.src=c;return b}return this.html(c,a)},_initBlockCompatibility:function(b,a){b.on("frame-update",function(c){creme.blocks.bindEvents(this.content())})},url:function(b,a,d){var a=$.extend({compatible:true},a||{});var c=new creme.dialog.Dialog(a).fetch(b,{},d);if(a.reloadOnClose){c.onClose(function(){creme.utils.reload()})}if(a.compatible===true){this._initBlockCompatibility(c,a)}return c},form:function(c,b,e){var b=$.extend({compatible:true},b||{});var d=new creme.dialog.FormDialog(b);if(b.compatible===true){var a=function(g,h,f){return f!=="text/html"||g.startsWith('<div class="in-popup" closing="true"')||(g.startsWith('<div class="in-popup"')&&g.match(/<form[^>]*>/)===null)};d.validator(a);this._initBlockCompatibility(d,b)}d.fetch(c,{},e);if(b.reloadOnSuccess){d.onFormSuccess(function(){creme.utils.reload()})}return d},html:function(c,a){var a=$.extend({compatible:true},a||{});var b=new creme.dialog.Dialog($.extend({},a,{html:c}));if(a.reloadOnClose){b.onClose(function(){creme.utils.reload()})}if(a.compatible===true){this._initBlockCompatibility(b,a)}return b},confirm:function(b,a){return new creme.dialog.ConfirmDialog(b,a)},choice:function(d,b){var b=b||{};var e=b.choices||[];var c=b.selected||(e?e[0]:null);var a=new creme.model.ChoiceRenderer($("<select style='width:100%;'>"),e).redraw().target().val(c);return new creme.dialog.SelectionDialog(b).fill($("<p>").html(d).append($("<p>").append(a))).selector(function(f){return $("select",f).val()});return dialog},alert:function(c,a){var a=$.extend({title:gettext("Alert"),header:""},a||{});var d=a.header||"";var b=$('<p class="ui-creme-dialog-warn">').append($('<span class="ui-icon ui-icon-alert">'));if(d){b.append($('<span class="header">').html(d)).append($('<p class="message">').html(c))}else{b.append($('<span class="message">').html(c))}return this.html(b,a)},warning:function(b,a){var a=$.extend({title:gettext("Warning")},a||{});return this.alert(b,a)},error:function(b,a,c){var c=$.extend({status:200},c);var d=creme.ajax.localizedErrorMessage(c);var a=$.extend({title:gettext("Error"),header:d},a||{});return this.alert(b||"",a)}});$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(a){if($(a.target).closest(".chzn-drop").length){return true}return this._super(a)}});creme.dialog=creme.dialog||{};creme.dialog.Overlay=creme.component.Component.sub({_init_:function(b){var b=b||{};var a=this;this._content=$("<div/>").addClass("overlay-content");this._overlay=$("<div/>").addClass("ui-creme-overlay").append(this._content);this._timeout=new creme.component.TimeoutAction();this._timeout.onDone(function(d,c){a.update(c.visible,c.status)})},update:function(d,a,c){var b=this;this._timeout.cancel();if(c>0){this._timeout.start({delay:c,visible:d,status:a});return this}this.visible(d||false);if(a===undefined){this._overlay.removeAttr("status")}else{this._overlay.attr("status",a)}return this},addClass:function(){this._overlay.addClass.apply(this._overlay,arguments);return this},removeClass:function(){this._overlay.removeClass.apply(this._overlay,arguments);return this},toggleClass:function(){this._overlay.toggleClass.apply(this._overlay,arguments);return this},content:function(a){if(a===undefined){return this._content}this._content.html(a);return this},visible:function(a){if(a===undefined){return this._overlay.hasClass("overlay-active")}var a=a||false;if(!this.isBound()||this.visible()===a){return this}this._overlay.toggleClass("overlay-active",a);if(a){this._targetOverflowX=this._target.css("overflow-x");this._targetOverflowY=this._target.css("overflow-y");this._targetPosition=this._target.css("position");this._target.css({"overflow-x":"hidden","overflow-y":"hidden",position:"relative"});this.resize();this._target.append(this._overlay)}else{this._overlay.remove();this._target.css({"overflow-x":this._targetOverflowX,"overflow-y":this._targetOverflowY,position:this._targetPosition})}return this},resize:function(){if(!this.isBound()||!this.visible()){return this}var a=$.browserInfo().mozilla?1:0;this._overlay.css("width",this._target.outerWidth()+a).css("height",this._target.height());return this},bind:function(b){var a=this;if(this.isBound()){throw new Error("Overlay is already bound.")}this._target=b;this._target.bind("resize",function(){a.resize()});return this},unbind:function(a){if(!this.isBound()){throw new Error("Overlay is not bound.")}this.visible(false);this._overlay.detach();this._target=undefined;return this},isBound:function(){return Object.isNone(this._target)===false},state:function(){return this._overlay.attr("status")}});creme.dialog=creme.dialog||{};creme.dialog.Frame=creme.component.Component.sub({_init_:function(a){var a=$.extend({autoActivate:true,},a||{});this._overlay=new creme.dialog.Overlay();this._overlayDelay=200;this._backend=a.backend||new creme.ajax.Backend({dataType:"html"});this._events=new creme.component.EventHandler();this._json=new creme.utils.JSON();this._autoActivate=a.autoActivate},on:function(a,b){this._events.on(a,b);return this},onUpdate:function(a){return this.on("update",a)},onCleanup:function(a){return this.on("cleanup",a)},onFetchDone:function(a){return this.on("fetch-done",a)},onFetchFail:function(a){return this.on("fetch-fail",a)},onSubmitDone:function(a){return this.on("submit-done",a)},onSubmitFail:function(a){return this.on("submit-fail",a)},_cleanJSONResponse:function(b){var a=b.match("^[s]*<json>(.*)</json>[s]*$");var c=(a!==null&&a.length==2)?a[1]:undefined;if(c&&this._json.isJSON(c)){return{content:c,type:"text/json"}}return null},_cleanResponse:function(b,d,a){var c=this._json;if(Object.isType(b,"string")){return this._cleanJSONResponse(b)||{content:b,type:"text/html"}}else{if(Object.isType(b,"object")){if(b.type=="text/html"){return b}else{return{content:b,type:Object.getPrototypeOf(b).jquery?"object/jquery":"object"}}}}return{content:b,type:"text/html"}},_deactivateContent:function(a){if(this._autoActivate){creme.widget.shutdown(a)}},_activateContent:function(a){if(this._autoActivate){creme.widget.ready(a)}},fill:function(f,d){var a=this;var f=this._cleanResponse(f);var c=this._delegate;var b=this._overlay;if(["text/html","object/jquery"].indexOf(f.type)===-1){return this}try{b.unbind(c).update(false);this._events.trigger("cleanup",[c,d],this);this._deactivateContent(c);c.empty();b.bind(c);if(f.content){if(f.content.trim){c.append($($.trim(f.content)))}else{c.append($(f.content))}}this._activateContent(c)}catch(g){}this._events.trigger("update",[f.content,f.type,d],this);return this},lastFetchUrl:function(){return this._lastFetchUrl},clear:function(){return this.fill("")},resize:function(a){this._delegate.trigger("resize",a)},_formatOverlayContent:function(c,a,b){var e=b?b.status:404;var d='<h2>%s&nbsp;(%s)<div class="subtitle">%s</div></h2><p class="message">%s</p><a class="redirect" onclick="creme.utils.reload();">'+gettext("Reload the page or click here. If the problem persists, please contact your administrator.")+"</a>";return d.format(creme.ajax.localizedErrorMessage(b),e,c,a)},fetch:function(d,c,h,f){var a=this;var f=f||{};var g=this._backend.query();var b=this._overlay;var e=this._events;var d=d||this.lastFetchUrl();e.trigger("before-fetch",[d,c],this);b.content("").update(true,"wait",this._overlayDelay);g.onDone(function(k,j){a._lastFetchUrl=d;a.fill(j,"fetch");e.trigger("fetch-done",[j],this)}).on("cancel fail",function(l,j,k){e.trigger("fetch-fail",[j,k],this);b.update(true,k?k.status:404,0).content(a._formatOverlayContent(d,j,k))});g.one(f).url(d||"").get(h,c)},submit:function(d,c,g,f){var a=this;var d=(g?(d||g.attr("action")):d)||this.lastFetchUrl();var c=$.extend({action:d},c||{});var f=f||{};var b=this._overlay;var e=this._events;this._events.trigger("before-submit",[g,c],this);if(Object.isEmpty(c.action)){b.update(true,404,0);e.trigger("submit-fail",["",new creme.ajax.XHR({responseText:"",status:404})],this)}this._overlay.content("").update(true,"wait",this._overlayDelay);this._backend.submit(g,function(j,l,h){var k=a._cleanResponse(j,l,h);a.fill(k.content,"submit");e.trigger("submit-done",[k.content,l,k.type],this);creme.object.invoke(f.done,"done",k.content,l,k.type)},function(h,j){b.update(true,j?j.status:500,0).content(a._formatOverlayContent(d,h,j));e.trigger("submit-fail",[h,j],this);creme.object.invoke(f.fail,"fail",h,j)},c)},bind:function(a){if(this._delegate!==undefined){throw new Error("frame component is already bound")}this._delegate=a;this._overlay.bind(a);return this},unbind:function(){if(this._delegate===undefined){throw new Error("frame component is not bound")}this._overlay.unbind(delegate);this._delegate=undefined;return this},backend:function(a){Object.property(this,"_backend",a)},delegate:function(){return this._delegate},overlay:function(){return this._overlay},overlayDelay:function(a){return Object.property(this,"_overlayDelay",a)},preferredSize:function(){return this._delegate?creme.layout.preferredSize(this._delegate,2):{width:0,height:0}}});creme.dialog=creme.dialog||{};creme.dialog.ConfirmDialog=creme.dialog.Dialog.sub({_init_:function(b,a){var a=$.extend({title:gettext("Confirm"),fitFrame:true,height:200},a||{});this._super_(creme.dialog.Dialog,"_init_",a);this.message(b)},ok:function(){this._destroyDialog();this._events.trigger("ok",[],this);return this},message:function(a){this.options.html="<p>"+a+"</p>";return this.isOpened()?this.fill(this.options.html):this},_defaultButtons:function(b,a){this._appendButton(b,"ok",gettext("Ok"),this.ok);this._appendButton(b,"cancel",gettext("Cancel"),this.close);return b},onOk:function(a){this._events.bind("ok",a);return this}});creme.dialog.ConfirmAction=creme.component.Action.sub({_init_:function(a){this._super_(creme.component.Action,"_init_",this._openPopup,a)},_openPopup:function(b){var a=this;new creme.dialog.ConfirmDialog(b.message||"",b).onOk(function(c){a.done()}).onClose(function(){a.cancel()}).open()}});creme.dialog=creme.dialog||{};creme.dialog.FormDialog=creme.dialog.Dialog.sub({_init_:function(c){var b=this;var c=$.extend({autoFocus:true,submitOnKey:13},c||{});this._super_(creme.dialog.Dialog,"_init_",c);var d=c.validator||function(f,g,e){return e!=="text/html"||f.match(/<form[^>]*>/)===null};this.validator(d);var a=function(){b._updateButtonState("send",false);b._updateButtonState("cancel",true,false)};this.frame().on("before-submit before-fetch",a);this._submitListeners={done:$.proxy(this._onSubmitDone,this),fail:$.proxy(this._onSubmitFail,this)};this._submitKeyCb=$.proxy(this._onSubmitKey,this)},validator:function(a){if(a===undefined){return this._validator}if(!Object.isFunc(a)){throw new Error("validator is not a function")}this._validator=a;return this},_validate:function(c,d,a){var b=this.validator();return !Object.isFunc(b)||b(c,d,a)},submit:function(){var a=this;var b=this.dialog();var c=$("form:first",this.content());var d=$(c).validateHTML5();if(Object.isEmpty(d)===false){return this}this.frame().submit("",{},c,this._submitListeners);return this},_onFrameUpdate:function(b,d,a,c){if(c!=="submit"){this._super_(creme.dialog.Dialog,"_onFrameUpdate",b,d,a,c)}if(this.options.autoFocus){var e=$("[autofocus]:tabbable:first",this._frame.delegate());if(e.length>0){e.focus()}else{$(":tabbable:first",this._frame.delegate()).focus()}}else{$(":tabbable",this._frame.delegate()).blur()}},_onSubmitDone:function(b,c,d,a){if(this._validate(c,d,a)){this._destroyDialog();this._events.trigger("form-success",[c,d,a],this);return}this._super_(creme.dialog.Dialog,"_onFrameUpdate",b,c,a,"submit");this._updateButtonState("send",true,"auto");this._updateButtonState("cancel",true);this._events.trigger("form-error",[c,d,a],this)},_onSubmitFail:function(a,b,c){this._updateButtonState("send",false);this._updateButtonState("cancel",true,true)},_onSubmitKey:function(a){if(a.keyCode===this.options.submitOnKey&&$(a.target).is(":not(textarea)")){a.preventDefault();this.submit()}},_onClose:function(b,c,a){if(a.submitOnKey){c.delegate().unbind("keypress",this._submitKeyCb)}this._super_(creme.dialog.Dialog,"_onClose",b,c,a)},_onOpen:function(c,d,b){var a=this;d.onFetchFail(function(f,e){a._updateButtonState("send",false);a._updateButtonState("cancel",true,true)}).onFetchDone(function(f,e){a._updateButtonState("send",true,"auto");a._updateButtonState("cancel",true)});if(b.submitOnKey){d.delegate().bind("keypress",this._submitKeyCb)}this._super_(creme.dialog.Dialog,"_onOpen",c,d,b)},_frameActionButtons:function(b){var a=this;var c=this._super_(creme.dialog.Dialog,"_frameActionButtons",b);$('.ui-creme-dialog-action[type="submit"]',this.content()).each(function(){var e=$(this).attr("name")||"send";var d=$(this).val();a._appendButton(c,e,d,a.submit)}).toggleAttr("disabled",true);return c},_defaultButtons:function(b,a){this._appendButton(b,"send",gettext("Save"),this.submit);this._appendButton(b,"cancel",gettext("Cancel"),this.close);return b},onFormSuccess:function(a){this._events.bind("form-success",a);return this},onFormError:function(a){this._events.bind("form-error",a);return this}});creme.dialog.FormDialogAction=creme.component.Action.sub({_init_:function(a){this._super_(creme.component.Action,"_init_",this._openPopup,a)},_onSubmit:function(b,c,a){if($.matchIEVersion(7,8,9)){b=b.endsWith("</json>")||b.endsWith("</JSON>")?b.substr(0,b.length-"</json>".length):b}this.done(b)},_openPopup:function(b){var a=this;var b=$.extend(this.options(),b||{});new creme.dialog.FormDialog(b).onFormSuccess(function(c,d){a._onSubmit(d)}).onClose(function(){a.cancel()}).open()}});creme.dialog.SelectionDialog=creme.dialog.Dialog.sub({_init_:function(a){var a=$.extend({title:gettext("Selection"),fitFrame:false,height:200},a||{});this._super_(creme.dialog.Dialog,"_init_",a)},validator:function(a){return Object.property(this,"_validator",a)},selector:function(a){return Object.property(this,"_selector",a)},selected:function(){var a=this._selector;return Object.isFunc(a)?a.apply(this,[this.content()]):[]},ok:function(){var a=this._validator;var b=this.selected();if(Object.isFunc(a)&&a(b)===false){return this}this._destroyDialog();this._events.trigger("ok",[b],this);return this},_defaultButtons:function(b,a){this._appendButton(b,"ok",gettext("Ok"),this.ok);this._appendButton(b,"cancel",gettext("Cancel"),this.close);return b},onOk:function(a){this._events.bind("ok",a);return this}});creme.widget.Frame=creme.widget.declare("ui-creme-frame",{options:{backend:new creme.ajax.Backend({dataType:"html"}),url:undefined,overlay_delay:100},_create:function(c,b,a,d){this._overlay=new creme.dialog.Overlay();this._overlay.bind(c).addClass("frame-loading");var e=this._frame=new creme.dialog.Frame({backend:b.backend});e.on("update",function(g,h,f){c.trigger("update",[h,statusText])}).on("fetch-fail submit-fail",function(g,h,f){c.trigger("fetch-fail"===g?"reloadError":"submitError",[h,f])}).bind(c).overlayDelay(b.overlay_delay).overlay().addClass("frame-loading");c.addClass("widget-ready");this.reload(c,undefined,a)},url:function(a){return this._lasturl||this.options.url},preferredSize:function(a){return creme.layout.preferredSize(a)},resize:function(b,a){b.trigger("resize",a)},fill:function(b,c,a){this._frame.fill(c);creme.object.invoke(a,c)},reset:function(b,a){this._frame.clear();this._lasturl=undefined;creme.object.invoke(a)},reload:function(d,c,f,e){var a=this;var b=this.options;var c=c||this.url();var e=e||{};this._lasturl=c;if(Object.isNone(c)===false){this._frame.fetch(c,{},f,e)}},submit:function(d,f,e){var a=this;var c=this.options;var e=e||{};var b=this.url();this._frame.submit(b,{},f,e)}});creme.widget.Toggle=creme.widget.declare("ui-creme-toggle",{options:{ontoggle:undefined},_create:function(d,c,a,e,f){var b=this;this.trigger(d).each(function(){var g=creme.widget.parseopt($(this),{"open-event":null,"close-event":null,"toggle-event":"click",recursive:false},{});b._bind_trigger(d,$(this),g)});this._on_toggle=creme.object.build_callback(c.ontoggle,["collapsed","options"]);this.toggle(d,this.is_opened(d));d.addClass("widget-ready")},_bind_trigger:function(f,e,d){var c=this;var g=d["toggle-event"];var b=d["open-event"];var a=d["close-event"];if(g!=null){e.bind(g,function(){c.toggle(f,undefined,d)})}if(b!=null){e.bind(b,function(){c.expand(f,d)})}if(a!=null){e.bind(a,function(){c.collapse(f,d)})}},trigger:function(a){var b=$(".toggle-trigger",a).filter(function(){return $(this).parents(".ui-creme-toggle:first").is(a)});return a.is(".toggle-trigger")?b.add(a):b},targets:function(b){var a=$(".toggle-target",b).filter(function(){return $(this).parents(".ui-creme-toggle:first").is(b)});return b.is(".toggle-target")?a.add(b):a},toggles:function(a){return $(".ui-creme-toggle.widget-ready",a)},toggle:function(d,c,b){var a=this;var b=b||{};var g=(c===undefined)?!this.is_closed(d):!c;d.toggleClass("toggle-collapsed",g);this.trigger(d).each(function(){a._toggle_trigger($(this),g,b)});this.targets(d).each(function(){a._toggle_target($(this),g,b)});if(b.recursive){this.toggles(d).each(function(){$(this).creme().widget().toggle(!g,b)})}if(typeof this._on_toggle==="function"){try{if(d.is(".widget-ready")){this._on_toggle.apply(this,[g,b])}}catch(f){console.error(f)}}return this},expand:function(b,a){return this.toggle(b,true,a)},collapse:function(b,a){return this.toggle(b,false,a)},is_opened:function(a){return !a.hasClass("toggle-collapsed")},is_closed:function(a){return a.hasClass("toggle-collapsed")},_toggle_trigger:function(b,c,a){b.toggleClass("toggle-collapsed",c);this._toggle_attributes(b,c)},_toggle_target:function(b,c,a){b.toggleClass("toggle-collapsed",c);this._toggle_attributes(b,c);$(".ui-creme-resizable",b).trigger("resize").trigger("resizestop")},_toggle_attributes:function(e,g){for(var c=0;c<e[0].attributes.length;++c){var a=e[0].attributes[c];if(/^toggle\-(close|open)\-[\w\d]+$/.test(a.name)){var d=a.name.split("-");var f=d[1];var b=d[2];if(!g&&f==="open"){e.attr(b,a.value)}else{if(g&&f==="close"){e.attr(b,a.value)}}}}}});creme.widget.PluginLauncher=creme.widget.declare("ui-creme-jqueryplugin",{options:{plugin:"",plugin_options:{}},_create:function(e,c,a,g,h){var d=c.plugin||"";var b=this._pluginOptions=creme.utils.JSON.clean(c.plugin_options,{});var f=this._plugin=d!==""?e[d]:undefined;if(Object.isFunc(f)){f.apply(e,[b])}e.addClass("widget-ready")},_destroy:function(a){this._plugin.apply(a,"destroy")},plugin:function(a){return this._plugin}});creme.widget.DynamicInput=creme.widget.declare("ui-creme-dinput",{options:{datatype:"string"},_create:function(c,b,a,d){this._enabled=creme.object.isFalse(b.disabled)&&c.is(":not([disabled])");if(!this._enabled){$(c).attr("disabled","")}this.reload(c,{},a,a);c.addClass("widget-ready")},_updateDisabledState:function(a){a.toggleAttr("disabled",!this._enabled)},dependencies:function(a){return[]},reload:function(b,e,a,d,c){creme.object.invoke(a,b)},reset:function(a){this.val(a,null)},val:function(a,b){if(b===undefined){return a.val()}if(!Object.isNone(b)&&typeof b!=="string"){b=$.toJSON(b)}a.val(b);a.removeAttr("disabled");a.change();this._updateDisabledState(a)},cleanedval:function(a){var b=this.val(a);if(this.options.datatype==="string"){return b}return creme.widget.cleanval(b,b)}});creme.widget=creme.widget||{};creme.widget.DYNAMIC_SELECT_BACKEND=new creme.ajax.CacheBackend(new creme.ajax.Backend(),{condition:new creme.ajax.CacheBackendTimeout(120*1000)});creme.widget.DynamicSelect=creme.widget.declare("ui-creme-dselect",{options:{backend:creme.widget.DYNAMIC_SELECT_BACKEND,datatype:"string",url:"",filter:"",dependencies:"",multiple:undefined,sortable:undefined,autocomplete:undefined,"autocomplete-options":""},_create:function(c,b,a,d){this._context={};this._backend=b.backend;this._enabled=creme.object.isFalse(b.disabled)&&c.is(":not([disabled])");this._readonly=creme.object.isTrue(b.readonly)&&c.is("[readonly]");this._url=new creme.utils.Template(b.url);this._filter=new creme.utils.Template(b.filter);this._dependencies=Array.isArray(b.dependencies)?b.dependencies:(b.dependencies?b.dependencies.split(" "):[]);this._init_model(c,b);this._init_autocomplete(c,b);this.reload(c,{},a,a,d);c.addClass("widget-ready")},_destroy:function(a){if(this._autocomplete){this._autocomplete.deactivate(a)}},_init_model:function(d,c){var a=this;var e=this._converter=c.datatype==="json"?function(f){return creme.widget.cleanval(f,null)}:undefined;var b=creme.model.ChoiceGroupRenderer.parse(d,e);this._model_onchange_cb=function(){a._onModelChange(d)};this._model=new creme.model.AjaxArray(this._backend,b);this._model.url(function(){return a.url()}).converter(this._modelConverter).comparator(this._modelComparator);this._filtered=new creme.model.Filter(this._model);this._filtered.bind(["remove","clear","reset","add"],this._model_onchange_cb);this._renderer=new creme.model.ChoiceGroupRenderer(d,this._filtered)},_init_autocomplete:function(c,a){if(Object.isNone(a.autocomplete)){return}try{b=a["autocomplete-options"]||"";b=b.length?creme.object.build_callback(b)():{}}catch(d){b={}}var b=$.extend({multiple:a.multiple!==undefined,sortable:a.sortable!==undefined,search_contains:true},b);this._autocomplete=new creme.component.Chosen(b);this._autocomplete.activate(c)},_updateDisabledState:function(c){var b=$("option:not(:disabled)",c).length;var d=!this._enabled||b<1;var a=b<2||this._readonly;c.prop("disabled",d);c.toggleAttr("readonly",a)},_updateAutocomplete:function(){if(this._autocomplete){this._autocomplete.refresh()}},_onModelChange:function(b,a){this._updateDisabledState(b);this._updateAutocomplete()},_modelConverter:function(a){return a?a.map(function(b){if(Array.isArray(b)){if(b.length>2){return{value:b[0],label:b[1],group:b[2]}}else{return{value:b[0],label:b[1]}}}else{if(b.value&&b.label){if(b.help){b.label='<span>%s</span><span class="group-help">%s</span>'.format(b.label,b.help)}return b}else{return{value:b,label:""+b}}}}):[]},_modelComparator:function(d,c){return d.value<c.value?-1:(d.value>c.value?1:0)},_updateModel:function(d,a,g,f){var b=this;var c=this.url();if(!c){this._onModelChange(d);creme.object.invoke(g,d,new creme.ajax.AjaxResponse("404",""));return}var e=this.val(d);this._model.fetch({fields:["id","unicode"],sort:"unicode"},{dataType:"json",sync:f},{done:function(h,j){b.val(d,e);creme.object.invoke(a,d,j)},fail:function(j,k,h){b.val(d,e);creme.object.invoke(g,d,h)},cancel:function(h,j){b.val(d,e)}})},_updateFilter:function(c){var b=this;var e=this.filter(c);var d=this.val(c);if(this._previousFilter===e){this._filtered.fetch();this.val(c,d);return}this._previousFilter=e;var a=creme.utils.lambda(e,"item, context",null);this._filtered.filter(a!==null?function(f){return a(f,b._context)}:null);this.val(c,d);return},filter:function(a,b){if(b===undefined){return this._filter&&this._filter.iscomplete()?this._filter.render():""}this._filter=new creme.utils.Template(b);this._filter.update(this._context||{});this._updateFilter(a);return this},url:function(b,a){if(a===undefined){return this._url&&this._url.iscomplete()?this._url.render():""}this._url=new creme.utils.Template(a);this._url.update(this._context||{});this._updateModel(b);return this},dependencies:function(a){return this._dependencies.concat(this._url.tags()||[]).concat(this._filter.tags()||[])},reload:function(c,f,a,e,d){var b=this;var f=f||{};this._context=$.extend({},this._context||{},f);this._url.update(f);this._filter.update(f);this._updateFilter(c);this._updateModel(c,a,e,d);return this},update:function(a,b){var b=creme.widget.cleanval(b,{});this._model.patch({add:this._modelConverter(b.added),remove:this._modelConverter(b.removed)});this.val(a,b.value);return this},model:function(a){return this._model},_onSelectionChange:function(a,b){a.prop("disabled",false);a.change();this._updateDisabledState(a);this._updateAutocomplete()},_valMultiple:function(a,c){if(c===undefined){return a.val()}if(c!==null){var b=[];if(Object.isString(c)){b=creme.utils.JSON.clean(c,c.split(","))}else{b=c}b=Array.isArray(b)?b:[b];b=b.map(function(d){return Object.isString(d)===false?$.toJSON(d):d});a.val(b);this._onSelectionChange(a)}},val:function(b,d){if(this.options.multiple){return this._valMultiple(b,d)}if(d===undefined){return b.val()}d=d!==null?d:"";if(typeof d!=="string"){d=$.toJSON(d)}var c=this.val(b);var a=this.choice(b,d);if(a===undefined){this.selectfirst(b)}else{b.val(d);this._onSelectionChange(b)}},cleanedval:function(a){var b=this.val(a);if(this.options.datatype==="string"){return b}if(this.options.multiple){return this._converter?b.map(this._converter):b}return this._converter?this._converter(b):b},reset:function(a){this.selectfirst(a)},selectfirst:function(a){a.val($("option:not(:disabled):first",a).attr("value"));this._onSelectionChange(a)},firstchoice:function(a){var b=$("option:not(:disabled):first",a);return b.length?[b.attr("value"),b.text()]:null},_querychoices:function(c,b,a){if(typeof b!=="string"){b=$.toJSON(b)}var d=$("option"+(b?":not(:disabled)":""),c).filter(function(){return $(this).parents("select:first").is(c)});if(Object.isEmpty(b)&&!a){return d}return d.filter(function(){return $(this).attr("value")===b})},_querygroups:function(d,c,b){if(typeof c!=="string"){c=$.toJSON(c)}var a=$("optgroup"+(c?":not(:disabled)":""),d).filter(function(){return $(this).parents("select:first").is(d)});if(Object.isEmpty(c)&&!b){return a}return a.filter(function(){return $(this).attr("label")===c})},choice:function(b,a){if(Object.isNone(a)===true){return}var c=this._querychoices(b,a,true);return c.length===1?[a,c.text()]:undefined},choices:function(a){var b=[];this._querychoices(a).each(function(){b.push([$(this).attr("value"),$(this).text()])});return b},groups:function(b){var a=[];this._querygroups(b).each(function(){return a.push($(this).attr("label"))});return a},selected:function(a){return this.choice(a,this.val(a))}});creme.widget=creme.widget||{};creme.widget.CheckListSelect=creme.widget.declare("ui-creme-checklistselect",{options:{datatype:"string",},_create:function(d,c,a,e){var b=this;this._converter=c.datatype==="json"?creme.utils.JSON.decoder({}):null;this.disabled(d,creme.object.isTrue(c.disabled)||d.is("[disabled]"));this._initializeController(d,c);$(".checklist-check-all:not([disabled])",d).click(function(){if(!this._disabled){b.selectAll(d)}});$(".checklist-check-none:not([disabled])",d).click(function(){if(!this._disabled){b.unselectAll(d)}});$(".checklist-filter",d).bind("propertychange keyup input paste",function(){b._updateViewFilter(d,$(this).val().toLowerCase())});$('.checkbox-field input[type="checkbox"]',d).bind("click change",function(g){var f=$(this);b._selections.toggle(parseInt(f.attr("checklist-index")),f.prop("checked"))});$(".checkbox-field .checkbox-label",d).bind("click",function(g){var f=$(this).parents(".checkbox-field:first").find('input[type="checkbox"]');b._selections.toggle(parseInt(f.attr("checklist-index")))});d.addClass("widget-ready")},_getItemFilter:function(a){return function(b){return(!Object.isEmpty(b.label)&&b.label.toLowerCase().indexOf(a)!==-1)||(!Object.isEmpty(b.help)&&b.help.toLowerCase().indexOf(a)!==-1)}},_updateViewFilter:function(d,e){var a=!Object.isEmpty(e);var f=this.content(d);var c=f.is(".filter");var b=this._getItemFilter(e);f.toggleClass("filtered",a);if(c){this._filtered.filter(b)}this._model.each(function(g){g.disabled=!b(g)});this._filtered.fetch();this._updateViewCounter(d)},_updateViewSelection:function(c){var b=$(".checklist-selection-count",c);var a=function(f,e){return creme.utils.compareTo(f.value,e)};var d=this._model.indicesOf(this.val(c)||[],a);this._selections.select(d)},_updateViewCounter:function(c){var a=$(".checklist-counter",c);var e=this._selections.selected().length;var f=$(".checkbox-field:not(.hidden)",this.content(c)).length;var b=this._model.length();var d=[];if(e>0){d.push(ngettext("%d selection","%d selections",e).format(e))}if(f!==b){d.push(ngettext("%d result of %d","%d results of %d",f).format(f,b))}a.toggleClass("visible",d.length>0).html(d.join("&nbsp;&nbsp;")+"&nbsp;")},_updateDelegate:function(a){this._delegate(a).val(this.selected(a));a.change()},_delegate:function(a){return $("select.ui-creme-input",a)},_initializeController:function(c,m){var k=this;var b=this.disabled(c);var j=this._delegate(c);var g=this.content(c);var h=new creme.model.CheckGroupListRenderer();var e=this._controller=new creme.model.CollectionController(this._backend);var a=this._selections=new creme.model.SelectionController();var l=creme.model.ChoiceGroupRenderer.parse(j);var d=this._model=new creme.model.Array(l);var f=this._filtered=new creme.model.Filter(d);a.model(d).selectionFilter(function(o,n){return !o.disabled}).on("change",function(){k._updateDelegate(c);k._updateViewCounter(c)});h.converter(this._converter).disabled(b);e.renderer(h).target(g).model(f).redraw();j.bind("change",function(){k._updateViewSelection(c)})},disabled:function(a,b){if(b===undefined){return this._disabled}a.toggleAttr("disabled",b);this._disabled=b;$(".checklist-check-all, .checklist-check-none, .checklist-filter",a).toggleAttr("disabled",b);if(this._controller){this._controller.renderer().disabled(b);this._controller.redraw()}return this},content:function(a){var b=$(".checklist-content",a);return b.length===0?a:b},dependencies:function(a){return[]},reload:function(b,e,a,d,c){return this},update:function(a,b){},model:function(a){return this._controller.model()},val:function(b,e){var a=this._delegate(b);if(e===undefined){return a.val()}var d=this.val(b);var c=creme.utils.JSON.clean(e,[]);var e=c.map(function(f){return typeof f!=="string"?$.toJSON(f):f});if(d===e){return this}if(a){a.val(e).change()}b.change();return this},cleanedval:function(a){return this.val(a).map(function(b){creme.utils.convert("string",this.options.datatype.toLowerCase(),b,b)})},reset:function(a){return this.unselectAll(a)},selected:function(a){return this._selections.selected().map(function(b){return b.value})},selectAll:function(a){this._selections.selectAll();return this},unselectAll:function(a){this._selections.unselectAll();return this}});creme.widget.DatePicker=creme.widget.declare("ui-creme-datepicker",{options:{format:"dd-mm-yy"},_create:function(e,d,a,g){var c=this;var f=e.parent();var b=$("<button>").attr("name","today").html(gettext("Today")).attr("type","button").bind("click",function(j){e.datepicker("setDate",new Date());e.change();return false});var h=$("<ul/>").addClass("ui-layout hbox").append($("<li/>").append(e));f.append(h);e.datepicker({dateFormat:d.format,showOn:"button",buttonText:gettext("Calendar"),buttonImage:creme_media_url("images/icon_calendar.gif"),buttonImageOnly:true});h.append($("<li/>").append($("<span/>").addClass("ui-creme-datepicker-trigger").append($("img.ui-datepicker-trigger",f)))).append($("<li/>").append(b));e.addClass("widget-ready")}});creme.widget.DateRange=creme.widget.declare("ui-creme-daterange",{options:{},_get_end:function(a){return $(".date-end",a)},_get_start:function(a){return $(".date-start",a)},_get_type:function(a){return $(".range-type",a)},_create:function(d,c,a,e){var b=this;b._get_type(d).bind("change",function(){if($(this).val()){b._get_start().parent().hide();b._get_end().parent().hide()}else{b._get_start().parent().show();b._get_end().parent().show()}}).change();d.addClass("widget-ready")}});creme.widget.DateRangeSelector=creme.widget.declare("ui-creme-daterange-selector",{options:{date_format:"dd-mm-yy"},_get_end:function(a){return $(".date-end",a)},_get_start:function(a){return $(".date-start",a)},_get_type:function(a){return $(".range-type",a)},_create:function(e,d,a,g){var c=this;var h=c.val(e);var f=$("span.daterange-inputs",e);var b={dateFormat:d.date_format,showOn:"button",buttonText:gettext("Calendar"),buttonImage:creme_media_url("images/icon_calendar.gif"),buttonImageOnly:true};c._get_type(e).bind("change",function(){if($(this).val()){f.hide()}else{f.show()}c._update(e)});c._clean_daterpickers(f);$(".daterange-input",f).bind("change",function(){c._update(e)}).datepicker(b);if(!h){c._update(e);h=c.val(e)}c._update_inputs(e,h);e.addClass("widget-ready")},_clean_daterpickers:function(a){$(".daterange-input",a).removeAttr("id").removeClass("hasDatepicker");$("img.ui-datepicker-trigger",a).remove()},dependencies:function(a){return[]},reload:function(c,b,a,e,d){if(a!=undefined){a(c)}},_update:function(a){var b=$.toJSON({type:this._get_type(a).val(),start:this._get_start(a).val(),end:this._get_end(a).val()});creme.widget.input(a).val(b).change()},_update_inputs:function(b,c){var a=creme.widget.cleanval(c,{type:"",start:null,end:null});if(creme.object.isempty(a)){a={type:"",start:null,end:null}}if(a.type!==undefined){this._get_type(b).val(a.type).change();this._get_start(b).val(a.start).change();this._get_end(b).val(a.end).change()}},val:function(a,b){if(b===undefined){return creme.widget.input(a).val()}creme.widget.input(a).val(b);this._update_inputs(a,b)}});creme.widget.CHAINED_SELECT_BACKEND=new creme.ajax.CacheBackend(new creme.ajax.Backend(),{condition:new creme.ajax.CacheBackendTimeout(120*1000)});creme.widget.ChainedSelect=creme.widget.declare("ui-creme-chainedselect",{options:{backend:creme.widget.CHAINED_SELECT_BACKEND,json:true},_create:function(e,d,a,f){var c=this;this._enabled=creme.object.isFalse(d.disabled)&&e.is(":not([disabled])");this._context={};this.selectors(e).each(function(){$(this).creme().create({backend:c.options.backend,disabled:!c._enabled},undefined,true)});this._dependency_change=function(l){var k=$(this).parent().attr("chained-name");var j=c._context[k];var h=$(this).creme().widget().cleanedval();if(j!==h){c._reloadDependencies(e,k,h);c._update(e)}};this._dependency_change_multiple=function(m,l){m.stopPropagation();var j=$(this).parent().attr("chained-name");var k=c._selectorValues(e);var h=l.map(function(n){k[j]=n;return $.extend({},k)});e.trigger("change-multiple",[h])};$("img.reset",e).click(function(){if(c._enabled){c.reset(e)}});var g=this.cleanedval(e);var b=this._selectorValues(e);this._reloadSelectors(e,b);this.selectors(e).bind("change",c._dependency_change);this.selectors(e).bind("change-multiple",c._dependency_change_multiple);if(creme.object.isempty(g)){this.val(e,b)}else{this._updateSelectors(e,g);this._update(e)}e.addClass("widget-ready");creme.object.invoke(a,e)},_selectorValues:function(a){var b={};this.selectors(a).each(function(){var c=$(this);var e=c.creme().widget().cleanedval();var d=c.parent().attr("chained-name");b[d]=e});return b},_update:function(a){this._context=this._selectorValues(a);creme.widget.input(a).val($.toJSON(this._context))},_updateSelector:function(a,d){var b=a.element.parent().attr("chained-name");var c=typeof d==="object"?d[b]:undefined;a.val(c)},_updateSelectors:function(b,c){var a=this;this.selectors(b).each(function(){a._updateSelector($(this).creme().widget(),c)})},_reloadSelector:function(e,a,d){var b=e.is(".widget-ready");var c=e.creme().widget();if(b&&$.inArray(a,c.dependencies())!==-1){c.reload(d,undefined,undefined,true)}},_reloadSelectors:function(a,b){for(name in b){this._reloadDependencies(a,name,b[name])}},_reloadDependencies:function(c,b,e){var a=this;var d=this._context;d[b]=e;this.selectors(c).each(function(){a._reloadSelector($(this),b,d)})},selector:function(b,a){return $('[chained-name="'+a+'"].ui-creme-chainedselect-item:last > .ui-creme-widget',b).filter(function(){return $(this).parents(".ui-creme-chainedselect:first").is(b)})},selectors:function(a){return $(".ui-creme-chainedselect-item > .ui-creme-widget",a).filter(function(){return $(this).parents(".ui-creme-chainedselect:first").is(a)})},reset:function(a){this.selectors(a).each(function(){$(this).creme().widget().reset()})},val:function(a,b){if(b===undefined){return creme.widget.input(a).val()}this._updateSelectors(a,creme.widget.cleanval(b,{}));this._update(a);a.trigger("change")},clone:function(a){var c=creme.widget.clone(a);var b=this.val(c);if(!b){this._update(c)}return c}});creme.widget.SelectorList=creme.widget.declare("ui-creme-selectorlist",{options:{cloneLast:undefined},_create:function(d,c,a,e){var b=this;this._isCloneLast=creme.object.isTrue(c.cloneLast);this._enabled=creme.object.isFalse(c.disabled)&&d.is(":not([disabled])");if(!this._enabled){d.attr("disabled","")}$(".selectorlist-add",d).click(function(){if(b._enabled){b.appendLastSelector(d)}});$(".selectorlist-create",d).click(function(){if(b._enabled){b.createSelector(d)}});var f=this.val(d);if(Object.isEmpty(f)){this._update(d);f=this.val(d)}else{this._updateSelectors(d,f);this._update(d)}d.addClass("widget-ready");creme.object.invoke(a,d)},lastSelector:function(a){return $("ul.selectors > li.selector:last > ul > li > .ui-creme-widget",a)},selectorModel:function(a){return $(".inner-selector-model > .ui-creme-widget",a)},selectors:function(a){return $("ul.selectors > li.selector > ul > li > .ui-creme-widget",a)},selector:function(b,a){return $("ul.selectors > li.selector:nth("+(a||0)+") > ul > li > .ui-creme-widget",b)},removeSelectorAt:function(b,a){return this.removeSelector(b,this.selector(b,a))},removeSelector:function(b,a){if(Object.isEmpty(a)){return}a.creme().destroy();a.parents("li.selector:first").remove();this._update(b);return a},appendLastSelector:function(a){var b=this.lastSelector(a);var c=this._isCloneLast&&b.creme().isActive()?b.creme().widget().val():undefined;return this.appendSelector(a,c)},appendSelector:function(b,d,c){var a=this;var c=c||"select";return this._buildSelector(b,d,{done:function(f,e,g){if(g===undefined){e.triggerHandler("action",[c,{cancel:function(){a.removeSelector(b,e)}}])}else{e.creme().widget().val(g)}}})},appendSelectors:function(c,b,d){var a=this;return b.map(function(e){return a.appendSelector(c,e,d)})},createSelector:function(a,b){return this.appendSelector(a,b,"create")},_buildSelector:function(e,g,f){var j=this;var a=this.selectorModel(e).clone();if(creme.object.isempty(a)){creme.object.invoke(f.fail,"fail");return}var c=$("<li>").addClass("selector");var d=$("<ul>").addClass("ui-layout hbox").css("display","block").appendTo(c);var h=$("<img/>").attr("src",creme_media_url("images/delete_22.png")).attr("alt",gettext("Delete")).attr("title",gettext("Delete")).attr("style","vertical-align:middle;").addClass("delete").click(function(){if(j._enabled){j.removeSelector(e,$("> ul > li > .ui-creme-widget",c))}});d.append($("<li>").append(a));d.append($("<li>").append(h));$("ul.selectors",e).append(c);a.bind("change",function(){j._update(e)});var b=creme.widget.create(a,{disabled:!this._enabled},function(){a.bind("change-multiple",function(l,k){j.appendSelectors(e,k.slice(1))});creme.object.invoke(f.done,"done",a,g)},true);if(b===undefined){c.remove();creme.object.invoke(f.fail,"fail")}return b},_update:function(b){var a=creme.widget.values_list(this.selectors(b));creme.widget.input(b).val("["+a.join(",")+"]")},_updateSelectors:function(c,d){var b=this;var a=creme.widget.cleanval(d,[]);if(typeof a!=="object"){return}$("ul.selectors",c).empty();a.forEach(function(e){b.appendSelector(c,e)})},val:function(a,b){if(b===undefined){return creme.widget.input(a).val()}this._updateSelectors(a,b);this._update(a)}});creme.widget.ENTITY_SELECT_BACKEND=new creme.ajax.CacheBackend(new creme.ajax.Backend(),{condition:new creme.ajax.CacheBackendTimeout(120*1000)});creme.widget.EntitySelectorMode={MULTIPLE:0,SINGLE:1};creme.widget.EntitySelector=creme.widget.declare("ui-creme-entityselector",{options:{popupURL:"",popupSelection:creme.widget.EntitySelectorMode.SINGLE,labelURL:"",label:gettext("Select"),qfilter:"",backend:creme.widget.ENTITY_SELECT_BACKEND},_create:function(d,c,a,f){var b=this;this._enabled=creme.object.isFalse(c.disabled)&&d.is(":not([disabled])");if(!this._enabled){$(d).attr("disabled","");$("button",d).attr("disabled","")}$(d).bind("click",function(){if(b._enabled){b._select(d)}});$(d).bind("action",function(j,h,g){if(h==="select"){b._select(d,g)}});var e=this._popupSelectMode=creme.widget.cleanval(c.popupSelection,creme.widget.EntitySelectorMode.SINGLE);this._popupURL=new creme.utils.Template(c.popupURL,{qfilter:c.qfilter,selection:e});this._reloadLabel(d,a,undefined,f);d.addClass("widget-ready")},dependencies:function(a){return this._popupURL.tags()},reload:function(b,e,a,d,c){this._popupURL.update(e);this.val(b,null);creme.object.invoke(a,b)},update:function(a,b){var b=creme.utils.JSON.clean(b,null);if(b!=null){this.val(a,b.value)}},_select:function(d,e){var b=this;var a=this.isMultiple();var c=this.popupURL(d);var e=e||{};creme.lv_widget.listViewAction(c,{multiple:a}).onDone(function(f,g){b.val(d,g[0]);if(g.length>1){$(d).trigger("change-multiple",[g])}creme.object.invoke(e.done,"done",d,g)}).onCancel(function(){creme.object.invoke(e.cancel,"cancel")}).onFail(function(){creme.object.invoke(e.fail,"fail")}).start()},_reloadLabel:function(e,h,a,f){var c=this.options;var d=$("button",e);var g=creme.widget.input(e).val();if(Object.isEmpty(g)===true){d.text(c.label);creme.object.invoke(h,e);return}var b=creme.widget.template(c.labelURL,{id:g});c.backend.get(b,{fields:["summary"]},function(k,j){d.html(k[0][0]||"&nbsp;");creme.object.invoke(h,e,k)},function(k,j){d.html(c.label);creme.object.invoke(a,e,j)},{dataType:"json",sync:f})},isMultiple:function(a){return this._popupURL.parameters().selection===creme.widget.EntitySelectorMode.MULTIPLE},multiple:function(a,b){var b=b?creme.widget.EntitySelectorMode.MULTIPLE:creme.widget.EntitySelectorMode.SINGLE;this._popupURL.update({selection:b})},parentSelectorList:function(a){return a.parents(".ui-creme-selectorlist:first")},qfilter:function(a,b){this._popupURL.update({qfilter:b})},popupURL:function(a){return this._popupURL.render()||""},reset:function(a){this.val(a,null)},val:function(a,b){if(b===undefined){return creme.widget.input(a).val()}creme.widget.input(a).val(b);this._reloadLabel(a);a.trigger("change")},cleanedval:function(a){var b=this.val(a);return Object.isEmpty(b)?null:b}});creme.widget.PolymorphicSelect=creme.widget.declare("ui-creme-polymorphicselect",{options:{key:null,dependencies:""},_create:function(d,c,a,e){var b=this;this._context={};this._dependencies=Array.isArray(c.dependencies)?c.dependencies:(c.dependencies?c.dependencies.split(" "):[]);this._selectorKey=creme.utils.templatize(c.key,function(f){return b._context[f]});this._enabled=creme.object.isFalse(c.disabled)&&d.is(":not([disabled])");this._selector_onchange_cb=function(){d.change()};this._init_models(d);this.reload(d,{},a,a);d.addClass("widget-ready")},_init_models:function(a){var b=this._models=[];$("> script[selector-key]",a).each(function(){var d=new RegExp($(this).attr("selector-key").replace(".",".").replace("*",".*"));var c=new creme.utils.Template($(this).html());b.push({pattern:d,content:c})})},_updateSelector:function(d,b,f,a,e){var c=this;if(Object.isNone(b)){creme.object.invoke(a,d);return this}b.val(f)},_removeSelector:function(a){if(this._selector!==undefined){this._selector.element.unbind("change paste",this._selector_onchange_cb);this._selector.element.remove();this._selector.destroy();this._selector=undefined;this._selectorModel=undefined}if(this._target){this._target.remove();this._target=undefined}},_createSelector:function(e,d,h,b,g,f){var c=this;this._target=$("<span>").addClass("delegate").html(d).appendTo(e);var a=$("> .delegate > .ui-creme-widget:first",e);if(a.length!==1){return}creme.widget.create(a,{},function(j){creme.object.invoke(b,e);j.bind("change paste",c._selector_onchange_cb);e.change()},f);this._selector=a.creme().widget();this._selectorModel=d},toggleSelector:function(d,b,c,a,g){var h=this.val(d);var f=this._selector;var k=this._selectorModel;var j=this.selectorKey(d);var e=this.selectorModel(d,j);if(Object.isNone(e)){this._removeSelector(d);return}if(k!==undefined&&k===e){return this._updateSelector(d,f,h,c,g)}this._removeSelector(d);this._createSelector(d,e,null,c,a,g)},selectorKey:function(a){return(this._selectorKey&&this._selectorKey.iscomplete())?this._selectorKey.render()||"":""},selectorValue:function(b){var a=this.selector(b);return a!==undefined?a.val():null},selector:function(a){return this._selector},selectorModel:function(d,c){var e=this.selectorModels(d);for(var b in e){var a=e[b];if(typeof c==="string"&&c.match(a.pattern)!==null){return a.content.render(this._context)}}},selectorModels:function(a){return this._models||[]},dependencies:function(a){return(this._selectorKey?this._selectorKey.tags():[]).concat(this._dependencies)},reload:function(c,f,a,e,d){var b=this.selectorKey(c);this._context=$.extend({},this._context||{},f||{});this._selectorKey.parameters(this._context);this.toggleSelector(c,b,a,e,d)},reset:function(a){if(this._selector){this._selector.reset()}},val:function(a,b){if(b===undefined){return this._selector?this._selector.val():null}if(this._selector){this._selector.val(b)}}});creme.widget.AdaptiveWidget=creme.widget.declare("ui-creme-adaptive-widget",{options:{url:"",object_id:""},_create:function(d,c,a){var b=this;d.bind("change",function(){b._updateFieldWidget(d)});this._updateFieldWidget(d,{done:function(){d.addClass("widget-ready");creme.object.invoke(a,d)}})},_updateFieldWidget:function(d,f){var h=this.options;var f=f||{};var c=d.find("select");var j=c.parents("form");var b=c.val();var a=j.find('[name="field_value"]');var g=a.parents("td:first");var e=creme.ajax.query(h.url,{backend:{dataType:"json"}}).onDone(function(k,l){g.empty().html(l.rendered);creme.widget.ready(g)}).on(f);e.get({field_name:b,object_id:h.object_id})}});creme.widget.ActionButton=creme.component.Action.sub({_init_:function(c,b,a){this._super_(creme.component.Action,"_init_",this._run,a);this._delegate=c;this._button=b;this.onDone($.proxy(this._updateDelegate,this))},_updateDelegate:function(c,d){var a=this._delegate;if(Object.isEmpty(a)){return}var b=creme.utils.JSON.clean(d,null);if(b!=null){a.update(d)}else{a.reload()}},context:function(a){return Object.property(this,"_context",a)},dependencies:function(){return[]}});creme.widget.ResetActionButton=creme.widget.ActionButton.sub({_init_:function(c,b,a){this._super_(creme.widget.ActionButton,"_init_",c,b,a)},_run:function(a){var a=creme.widget.parseopt(this._button,{value:""});this._updateDelegate({value:a.value},"success")}});creme.widget.CreateActionButton=creme.widget.ActionButton.sub({_init_:function(c,b,a){this._super_(creme.widget.ActionButton,"_init_",c,b,a)},_dialogOptions:function(){var a=creme.widget.parseopt(this._button,{popupResizable:true,popupDraggable:true,popupWidth:window.screen.width/2,popupHeight:356,url:"",title:""});a.url=new creme.utils.Template(a.url).render(this._context);return a},_run:function(b){var a=this;var c=new creme.dialog.FormDialogAction();c.onDone(function(d,e){a._updateDelegate(e);a.done(e)}).onCancel(function(d){a.cancel()}).start(this._dialogOptions())}});creme.widget.ActionButtonList=creme.widget.declare("ui-creme-actionbuttonlist",{options:{debug:true},_create:function(d,c,a,e){var b=this;this._enabled=creme.object.isFalse(c.disabled)&&d.is(":not([disabled])");this._selector=creme.widget.create(b.selector(d),{disabled:!b._enabled});this._dependencies=Array.isArray(c.dependencies)?c.dependencies:(c.dependencies?c.dependencies.split(" "):[]);this._context={};if(!this._enabled){d.attr("disabled","");b.actions(d).attr("disabled","")}b.actions(d).click(function(){b._handleAction(d,$(this));return false});$(d).bind("action",function(h,f,g){b.doAction(d,f,g)});creme.object.invoke(a,d);d.addClass("widget-ready")},actions:function(a){return $("> li > button.ui-creme-actionbutton",a)},action:function(b,a){return $('> li > button.ui-creme-actionbutton[name="'+a+'"]',b)},doAction:function(c,a,d){var b=this.action(c,a);if(b.length===1){this._handleAction(c,b,d)}else{this._selector.element.triggerHandler("action",[a,d])}},selector:function(a){return $("> li.delegate > .ui-creme-widget",a)},dependencies:function(a){return creme.object.delegate(this._selector,"dependencies")||[]},url:function(b,a){if(a===undefined){return creme.object.delegate(this._selector,"url")}creme.object.delegate(this._selector,"url",a);return this},filter:function(a,b){if(b===undefined){return creme.object.delegate(this._selector,"filter")}creme.object.delegate(this._selector,"filter",b);return this},reload:function(b,e,a,d,c){creme.object.delegate(this._selector,"reload",e,a,d,c);this._context=$.extend({},this._context||{},e);return this},val:function(a,b){if(b===undefined){return creme.object.delegate(this._selector,"val")||""}creme.object.delegate(this._selector,"val",b);return this},reset:function(a,b){creme.object.delegate(this._selector,"reset");return this},cleanedval:function(a){return creme.object.delegate(this._selector,"cleanedval")||null},update:function(a,b){creme.object.delegate(this._selector,"update");return this},_handleAction:function(c,b,d){var f=new creme.component.Action();var d=d||{};var e=creme.widget.parseopt(b,{action:"popup"}).action;var a=this["_action_"+e];if(!this._enabled||!Object.isFunc(a)){return f.on(d).cancel()}f=a(this._selector,b);f.context(this._context).onDone(function(g,h){c.triggerHandler("actionSuccess",[h])}).onCancel(function(g){c.triggerHandler("actionCanceled")}).on(d).start();return f},_action_reset:function(a,b){return new creme.widget.ResetActionButton(a,b)},_action_popup:function(a,b){return new creme.widget.CreateActionButton(a,b)}});creme.widget.PlotProcessorRegistry=function(){this._processors={}};creme.widget.PlotProcessorRegistry.prototype={register:function(a,b){if($.isFunction(this.processor(a))){throw new Error('processor "'+a+'" is already registered')}this._processors[a]=b},unregister:function(a){if(this.processor(a)===undefined){throw new Error('no such processor "'+a+'"')}delete this._processors[a]},processor:function(a){return this._processors[a]}};creme.widget.PlotProcessors=new creme.widget.PlotProcessorRegistry();$.extend(creme.widget.PlotProcessors,{preprocessOptions:function(a,e){for(key in a){var d=a[key];if(typeof d=="object"){this.preprocessOptions(d,e)}else{if(typeof d==="string"&&/^preprocess\.[\w\d]+$/.test(d)){var c=d.substr("preprocess.".length);var f=a[c+"Options"];var b=this.processor(c);if(f!==undefined){delete a[c+"Options"]}a[key]=b(e,f)}}}},preprocessData:function(e,c){var a=c;for(var b=0;b<e.length;++b){var d=e[b];d=(typeof d==="string")?{preprocessor:d}:d;d=$.extend({preprocessor:"",options:{}},d);a=this.processor(d.preprocessor)(a,d.options)}return a},preprocess:function(a){var d=a.options||{};var e=creme.object.isempty(a.data)?(d.dataDefaults||[]):a.data;var c=$.extend(true,{},d);var b=this.preprocessData(d.dataPreprocessors||[],e);this.preprocessOptions(c,b);return{options:c||{},data:b||[]}}});creme.widget.PlotProcessors.register("formatSerieLabel",function(d,b){var b=$.extend({format:"%s",seriesIndex:0},b);var a=b.seriesIndex;var e=a<d.length?d[a]:[];var c=function(f){return function(j,g,h){return f.format(j)}}(b.format);return e.map(new Generator().each(c).iterator())});creme.widget.PlotProcessors.register("formatEntryLabel",function(d,b){var b=$.extend({format:"%s",entryIndex:0},b);var a=b.entryIndex;var e=[];var c=function(g,f){return function(j,h,k){return g.format(j[f])}}(b.format,a);return d.map(c)});creme.widget.PlotProcessors.register("ticksLabel",function(c,b){var b=$.extend({labelIndex:2,seriesIndex:0},b);var e=b.labelIndex;var a=b.seriesIndex;var d=a<c.length?c[a]:[];return d.map(new Generator().get(e).iterator())});creme.widget.PlotProcessors.register("seriesLabel",function(c,b){var b=$.extend({defaults:{},labelIndex:3,entryIndex:0},b);var e=b.labelIndex;var a=b.entryIndex;var d=b.defaults;return c.map(new Generator().get(a).each(function(h,f,g){return $.extend({},d,{label:ArrayTools.get(h,e,"")})}).iterator())});creme.widget.PlotProcessors.register("seriesColor",function(c,b){var b=$.extend({colorIndex:2,entryIndex:0,defaultColor:"#cccccc"},b);var e=b.colorIndex;var a=b.entryIndex;var d=b.defaultColor;return c.map(new Generator().get(a).each(function(h,f,g){return ArrayTools.get(h,e,d)}).iterator())});creme.widget.PlotProcessors.register("swap",function(b,a){var a=$.extend({index:0,next:1},a);return b.map(function(d,c,e){return d.map(GeneratorTools.array.swap(a.index,a.next))})});creme.widget.PlotProcessors.register("fill",function(b,a){var a=$.extend({index:0,value:0},a);return b.map(function(d,c,e){return d.map(function(j,f,h){var g=j.slice();g.splice(a.index,0,a.value);return g})})});creme.widget.PlotProcessors.register("index",function(b,a){var a=$.extend({index:0},a);return b.map(function(d,c,e){return d.map(function(j,f,h){var g=j.slice();g.splice(a.index,0,f);return g})})});creme.widget.PlotProcessors.register("tee",function(c,b){var a=[];c.map(function(d){d.map(function(e){a.push([e])})});return a});creme.widget.PlotProcessors.register("percentSerie",function(d,c){var c=$.extend({seriesIndex:0,valueIndex:0},c);var a=c.entryIndex;var b=c.seriesIndex;var f=b<d.length?d[b]:[];var e=0;f.map(new Generator().get(a).each(function(g){e+=g}).iterator());return f.map(new Generator().each(GeneratorTools.array.ratio(a,e,100)).iterator())});creme.widget.PlotProcessors.register("percentEntry",function(c,b){var b=$.extend({valueIndex:0,targetIndex:undefined},b);var g=b.valueIndex;var a=b.targetIndex;var f=0;var e=new Generator().get(g).each(function(h){f+=h}).iterator();c.map(function(j,h,k){j.map(e)});var d=new Generator().each(GeneratorTools.array.ratio(g,f,100,a)).iterator();return c.map(function(j,h,k){return j.map(d)})});creme.widget.PlotProcessors.register("format",function(b,a){var a=$.extend({format:"%s",targetIndex:undefined},a);var c=new Generator().each(GeneratorTools.array.format(a.format,a.targetIndex)).iterator();return b.map(function(e,d,f){return e.map(c)})});creme.widget.PlotEventHandlerRegistry=function(){this._handlers={}};creme.widget.PlotEventHandlerRegistry.prototype={register:function(a,b){if($.isFunction(this.get(a,null))){throw new Error('handler "'+a+'" is already registered')}this._handlers[a]=b},unregister:function(a){if(this.get(a)===undefined){throw new Error('no such handler "'+a+'"')}delete this._handlers[a]},get:function(a,c){var b=this._handlers[a];if($.isFunction(b)===false){if(c===undefined){throw new Error('no such plot event handler "'+a+'"')}return c}return this._handlers[a]}};creme.widget.PlotEventHandlers=new creme.widget.PlotEventHandlerRegistry();creme.widget.PlotEventHandlers.register("redirect",function(e,a,d,f,c){var b=c.url.format(f);if(c.url!==b&&!creme.object.isempty(b)){window.location=b}});creme.widget.PlotEventHandlers.register("popup",function(e,a,d,f,c){var b=c.url.format(f);if(c.url!==b&&!creme.object.isempty(b)){creme.dialogs.url(c.url.format(f),{title:c.url.format(f)}).open()}});creme.widget.Plot=creme.widget.declare("ui-creme-jqueryplot",{options:{plotmode:"svg",savable:false,resizable:false,"resize-delay":200},_create:function(e,d,a,f,g){var c=this;var b=!$.matchIEVersion(7,8);this._israster=d.plotmode=="raster"&&b;this._issavable=d.savable=="true"&&b;this._plot_info={options:{},data:[]};this._plot_handlers=[];e.bind("resizestop",function(){c._onResize(e)});this.draw(e,this.plotScript(e),a,a)},_rasterImage:function(d,c,a){var b=document.createElement("img");var e=d.jqplotToImageStr(a);b.onload=function(){c(b)};b.src=e;return b},_popupRasterImage:function(a){this._rasterImage(this._plot,function(b){creme.dialogs.image(b,{title:gettext("Canvas image")}).open()})},_draw:function(d,c,b){var e=d.attr("width")||d.width();var a=d.attr("height")||d.height();var g=$("<div>").width(e).height(a).css("margin","0").css("border","0").css("padding","0").attr("id",creme.object.uuid());try{if(this._israster){this._drawRaster(d,g,c.data,c.options,b)}else{this._drawSVG(d,g,c.data,c.options,b)}}catch(f){g.remove();throw f}},_drawRaster:function(c,f,d,b,a){f.css("visibility","hidden");c.append(f);var e=this._rasterImage(f.jqplot(d,b),function(){f.remove();c.append($("<div>").addClass("jqplot-target").append($(e)).css("margin","0").css("border","0").css("padding","0").css("overflow","hidden"));creme.object.invoke(a,c)})},_populateSVGActions:function(c,d,b){var a=this;var e=$('<div class="jqplot-actions">');if(this._issavable){e.append($("<button>").attr("title",gettext("View as image")).attr("alt",gettext("View as image")).attr("name","capture").bind("click",function(){a._popupRasterImage()}))}d.append(e)},_drawSVG:function(d,f,e,c,a){var b=this;d.append(f);b._plot=f.jqplot(e,c);b._plot_id=f.attr("id");b._populateSVGActions(d,f,c);b._bindPlotHandlers(b._plot,c);creme.object.invoke(a,d)},_bindPlotHandlers:function(c,b){var a=this;b.handlers.forEach(function(d){c.bind(d.event,function(g,e,f,h){d.action.apply(a,[g,e,f,h,d])})})},_jqplotRenderer:function(a){var b=a?$.jqplot[a]:undefined;if(typeof b!=="function"){throw'no such renderer "'+a+'"'}return b},_parseJQPlotOptions:function(b){for(key in b){var a=b[key];if(typeof a==="object"){this._parseJQPlotOptions(a)}else{if(typeof a==="string"&&/^jqplot\.[\w\d]+$/.test(a)){b[key]=this._jqplotRenderer(a.substr("jqplot.".length))}}}return b},_preprocessPlotHandlers:function(a){var a=a||[];var b=[];a.forEach(function(d){var d=d||{};var c=d.action||"redirect";var e=d.event||"click";var e=e.length>1?e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase():e;b.push($.extend({},d,{event:"jqplotData"+e,action:creme.widget.PlotEventHandlers.get(c)}))});return b},_convertData:function(b,a){return creme.utils.converters.convert(a.dataFormat||"jqplotData","jqplotData",b)},_preprocess:function(){var a=this._plot_info;if(a.built!==undefined){return a.built}a.built=creme.widget.PlotProcessors.preprocess(a);a.built.options.handlers=this._preprocessPlotHandlers(a.built.options.handlers);if(this._issavable){a.built.options.title=a.built.options.title||"&nbsp;"}return a.built},_onDrawSuccess:function(b,c,a){b.addClass("widget-ready").attr("status","valid");b.trigger("plotSuccess",[this._plot,c]);creme.object.invoke(a,b)},_onDrawError:function(b,c,d,a){b.addClass("widget-ready").attr("status","error");b.trigger("plotError",[c,d]);creme.object.invoke(a,b)},_onBeforeDraw:function(a){a.removeClass("widget-ready");this.clear(a);a.attr("status","wait")},_onResize:function(c){var a=this;var b=this.options["resize-delay"]||0;if(this.options.resize===false||c.is('[status="wait"]')){return}creme.object.deferred_start(c,"jqplot-resize",function(){a.redraw(c)},b)},clear:function(b,a){$("> .jqplot-target",b).remove();b.attr("status",a||"valid")},draw:function(c,f,a,e){var b=this;try{b._onBeforeDraw(c);b.plotInfo(c,f);b._draw(c,b._preprocess(),function(){b._onDrawSuccess(c,f,a)})}catch(d){b._onDrawError(c,d,f,e)}},redraw:function(c,a,e){var b=this;var f=null;try{b._onBeforeDraw(c);f=b._preprocess();b._draw(c,f,function(){b._onDrawSuccess(c,f,a)})}catch(d){b._onDrawError(c,d,f,e)}},plotOptions:function(b,a){if(a===undefined){return this._plot_info.options}var a=creme.utils.JSON.clean(a);this._plot_info.options=this._parseJQPlotOptions(a||{});this._plot_info.built=undefined},plotData:function(a,b){if(b===undefined){return this._plot_info.data}var b=creme.utils.JSON.clean(b);this._plot_info.data=this._convertData(b,this._plot_info.options);this._plot_info.built=undefined},plotInfo:function(d,f){if(f===undefined){return this._plot_info}var c=this;var a=this._plot_info;if(creme.object.isempty(f)){a={options:{},data:[]};return}var b=creme.utils.JSON.clean(f);var e=$.isArray(b)?{data:b}:b;a.options=this._parseJQPlotOptions(e.options||a.options);a.data=this._convertData(e.data,a.options);a.built=undefined},plotScript:function(a){return $('> script[type="text/json"]',a).html()},plot:function(a){return this._plot},preprocess:function(a){return this._preprocess()}});creme.widget.PLOT_SELECTOR_BACKEND=new creme.ajax.CacheBackend(new creme.ajax.Backend(),{condition:new creme.ajax.CacheBackendTimeout(120*1000)});creme.widget.PlotSelector=creme.widget.declare("ui-creme-plotselector",{options:{"plot-data-url":"","plot-name":undefined,backend:creme.widget.PLOT_SELECTOR_BACKEND,initial:{}},_create:function(d,c,a,e){var b=this;this._plot_data_url=new creme.utils.Template(c["plot-data-url"]);this._plot_name=(c["plot-name"])?new creme.utils.Template(c["plot-name"]):undefined;c.initial=creme.widget.cleanval(c.initial,{});this._initPlot(d,function(){b.reload(d,c.initial,a,a,e)},e)},_initPlot:function(b,a,c){$(".ui-creme-jqueryplot:first",b).creme().create({},a,c)},_delegate:function(a){return $(".ui-creme-jqueryplot:first",a).creme().widget()},_updatePlotOptions:function(b,f,d){try{if(creme.object.isnone(this._plot_name)){f.plotInfo(f.plotScript());return}this._plot_name.update(d);var c=this._plot_name.render();var e=this.plotOption(b,c);if(e===null){f.plotInfo(f.plotScript());return}f.plotOptions(e)}catch(a){throw new Error("unable to update plot options : "+a)}},_updatePlotData:function(h,g,a,d){var b=this;var e=this.options.backend;var f=this._plot_data_url;f.update(g);if(f.iscomplete()===false){b._plot_last_url=undefined;h.plotData([]);throw new Error("incomplete data url")}var c=f.render();if(creme.object.isempty(c)){throw new Error("empty data url")}e.get(c,{},function(j){h.plotData(creme.widget.cleanval(j,[]));creme.object.invoke(a,h.plotData())},function(k,j){b._plot_last_url=undefined;h.plotData([]);creme.object.invoke(a,h.plotData())},$.extend({dataType:"json"},d))},plotOptions:function(b){var a=[];$('> script[type="text/json"]',b).each(function(){a.push([$(this).attr("name"),$(this).html()||null])});return a},plotOption:function(b,a){return $('> script[type="text/json"][name="'+a+'"]',b).html()||null},dependencies:function(a){var b=this._plot_data_url.tags();if(this._plot_name){b=b.concat(this._plot_name.tags())}return b},_onRedrawOk:function(b,d,c,a){b.addClass("widget-ready");creme.object.invoke(a,b,c)},_onRedrawError:function(c,d,b,a){d.clear("error");c.addClass("widget-ready");creme.object.invoke(a,c,b)},reload:function(d,c,b,a,g,j){var h=this;var e=this._delegate(d);if(creme.object.isnone(e)){creme.object.invoke(a,d,new Error("Plot not initialized"));return}try{d.removeClass("widget-ready");this._updatePlotOptions(d,e,c);this._updatePlotData(e,c,function(k){e.redraw(function(){h._onRedrawOk(d,e,k,b)},function(){h._onRedrawError(d,e,null,a)})},j)}catch(f){h._onRedrawError(d,e,f,a)}},resetBackend:function(a){if(this.options.backend&&this.options.backend.entries){this.options.backend.entries={}}},reset:function(a){this._plot_data_url.parameters({});if(this._plot_name!==undefined){this._plot_name.parameters({})}this.reload(a,this.options.initial)},val:function(a,b){return null},cleanedval:function(a){return null}});creme.widget.ScrollActivator=creme.widget.declare("ui-creme-scrollactivator",{options:{scroll:"absolute",delay:50},_scrollBox:function(a){var b=this;var c={top:a.scrollTop(),left:a.scrollLeft(),width:b._isrelative?a.width():$(window).width(),height:b._isrelative?a.height():$(window).height()};c.bottom=(c.top+c.height);c.right=(c.left+c.width);return c},_collide:function(e,d){var g=this._isrelative?e.top+d.position().top:d.offset().top;var f=this._isrelative?e.left+d.position().left:d.offset().left;var b=g+d.height();var c=f+d.width();var a=!(e.bottom<g||e.top>b)&&!(e.left>c||e.right<f);return a},_activables:function(c,a){var b=this;if((c.is(":visible")&&b._collide(b._scrollBox($(document)),c))==false){return}var d=b._scrollBox(a);return $(".ui-creme-widget:not(.widget-active)",c).filter(function(){return b._collide(d,$(this))})},_activateItem:function(b,a){creme.object.deferred_start(b,"creme.widget.scrollactivator.activate_item",function(){b.creme().create()},a)},_activate:function(b){var a=this;creme.object.deferred_start(b,"creme.widget.scrollactivator.activate",function(){var c=a._activables(b,a._container);if(c){c.each(function(d){a._activateItem($(this))})}},a._delay)},_create:function(d,c,a,e,f){var b=this;b._delay=c.delay;b._isrelative=c.scroll=="relative";b._container=b._isrelative?$(d):$(document);b._container.scroll(function(){b._activate(d)});b._activate(d);d.addClass("widget-ready")}});creme.widget.CONTAINER_LAYOUTS={column:function(b){var b=b||{};var d=b["column-count"]||1;var c=b["column-size"];var e=Object.isEmpty(b["sort-by"])?undefined:b["sort-by"];var a=e?function(g,f){return $(g).attr(e).localeCompare($(f).attr(e))}:undefined;return new creme.layout.ColumnSortLayout({columns:Object.isEmpty(c)?d:c,resizable:b.resizable,comparator:a})},sort:function(b){var b=b||{};var c=Object.isEmpty(b["sort-by"])?undefined:b["sort-by"];if(c===undefined){return null}var a=function(e,d){return $(e).attr(c).localeCompare($(d).attr(c))};return new creme.layout.SortLayout({comparator:a,reverse:b["sort-reverse"]})}};creme.widget.Container=creme.widget.declare("ui-creme-container",{options:{layout:"none","sort-by":"","sort-reverse":false,"column-count":1,"column-size":undefined,resizable:false},_create:function(c,b,a,e){b["sort-reverse"]=creme.object.isTrue(b["sort-reverse"])||c.is("[sort-reverse]");b.resizable=creme.object.isTrue(b.resizable)||c.is("[resizable]");var f=creme.widget.CONTAINER_LAYOUTS[b.layout];var d=Object.isFunc(f)?f(b):undefined;this.layout(c,d);c.addClass("widget-ready")},_destroy:function(a){if(this._layout!==undefined){this._layout.unbind(a)}},layout:function(a,b){if(b===undefined){return this._layout}if(this._layout!==undefined){this._layout.unbind(a)}this._layout=b;this._layout.bind(a).layout()}});(function(a){a.fn.list_view=function(f){var d=(typeof f=="string"),e=Array.prototype.slice.call(arguments,1);a.fn.list_view.defaults={user_page:"#user_page",selected_rows:"#selected_rows",selectable_class:"selectable",selected_class:"selected",id_container:'[name="entity_id"]',checkbox_selector:'[name="select_one"]',all_boxes_selector:'[name="select_all"]',beforeSubmit:null,afterSubmit:null,o2m:false,entity_separator:",",serializer:'input[name][type!="submit"], select[name]',submitHandler:null,kd_submitHandler:null,reload_url:null};var c=["countEntities","getSelectedEntities","getSelectedEntitiesAsArray","option","serializeMe","ensureSelection","getSubmit","getKdSubmit","setSubmit","setKdSubmit","setReloadUrl","getReloadUrl"];if(d&&a.inArray(f,c)>-1){var b=a.data(this[0],"list_view");return(b?b[f].apply(b,e):undefined)}return this.each(function(){if(!d){var j=a.extend(a.fn.list_view.defaults,f);var k=[];var g=a(this);var h=this;a.data(this,"list_view",this);h.beforeSubmit=(a.isFunction(j.beforeSubmit))?j.beforeSubmit:false;h.afterSubmit=(a.isFunction(j.afterSubmit))?j.afterSubmit:false;h.submitHandler=(a.isFunction(j.submitHandler))?j.submitHandler:false;h.kd_submitHandler=(a.isFunction(j.kd_submitHandler))?j.kd_submitHandler:false;this.getSelectedEntities=function(){return a(j.selected_rows,g).val()};this.getSelectedEntitiesAsArray=function(){return(a(j.selected_rows,g).val()!=="")?a(j.selected_rows,g).val().split(j.entity_separator):[]};this.countEntities=function(){return(a(j.selected_rows,g).val()!=="")?a(j.selected_rows,g).val().split(j.entity_separator).length:0};this.option=function(l,m){if(typeof l=="string"){if(m===undefined){return j[l]}j[l]=m}};this.setSubmit=function(l){if(a.isFunction(l)){h.submitHandler=l}};this.setKdSubmit=function(l){if(a.isFunction(l)){h.kd_submitHandler=l}};this.getSubmit=function(){if(h.submitHandler){return h.submitHandler}return function(){}};this.getKdSubmit=function(){if(h.kd_submitHandler){return h.kd_submitHandler}return function(){}};this.setReloadUrl=function(l){h.reload_url=l};this.getReloadUrl=function(){return h.reload_url};this.reload=function(l){var m=this.reload_url||creme.utils.appendInUrl(window.location.href,"?ajax="+(l||true));var n={action:m,success:function(p,o){g.empty().html(p)}};this.handleSubmit(null,n,null)};this.hasSelection=function(){return(this.countEntities()!=0)};this.ensureSelection=function(){if(!this.hasSelection()){creme.dialogs.warning(gettext("Please select at least one entity."));return false}return true};this.enableFilters=function(){g.find('.columns_bottom .column input[type="text"]').bind("keydown",function(l){l.stopPropagation();h.getKdSubmit()(l,this,{_search:1})});g.find(".columns_bottom .column select").bind("change",function(l){l.stopPropagation();h.getSubmit()(this,{_search:1})});g.find(".columns_bottom .column.datefield input").bind("keydown",function(l){l.stopPropagation();h.getKdSubmit()(l,this,{_search:1})}).datepicker({dateFormat:"yy-mm-dd",showOn:"both",buttonImage:creme_media_url("images/icon_calendar.gif"),buttonImageOnly:true})};this.enableActions=function(){g.find(".lv-header-action-list").NavIt({ArrowSideOnRight:false});g.find(".lv-action-toggle").click(function(){a(this).parents("ul").find("ul").slideToggle("slide")});creme.menu.HNavIt(g.find(".lv-row-action-list"),{},{done:function(){if(this.options().link.is(".lv_reload")){h.reload()}}})};this.enableRowSelection=function(){g.find("."+j.selectable_class).bind("click",function(n){var l=a(this).find(j.id_container).val();var m=a.inArray(l,k);if(!a(this).hasClass(j.selected_class)){if(m===-1){if(j.o2m){k=[];g.find("."+j.selected_class).removeClass(j.selected_class)}k.push(l);a(j.selected_rows).val(k.join(j.entity_separator))}if(!a(this).hasClass(j.selected_class)){a(this).addClass(j.selected_class)}if(!j.o2m){a(this).find(j.checkbox_selector).check()}}else{g.find(j.all_boxes_selector).uncheck();if(m!==-1){k.splice(m,1)}a(j.selected_rows).val(k.join(j.entity_separator));if(a(this).hasClass(j.selected_class)){a(this).removeClass(j.selected_class)}if(!j.o2m){a(this).find(j.checkbox_selector).uncheck()}}})};this.clearRowSelection=function(){a(j.selected_rows).val("");g.find("."+j.selectable_class+' .choices input[type="checkbox"],'+j.all_boxes_selector).prop("checked",false)};this.enableCheckAllBoxes=function(){g.find(j.all_boxes_selector).bind("click",function(l){var m=g.find("."+j.selectable_class);if(a(this).is(":checked")){m.each(function(){var n=a(this).find(j.id_container).val();var o=a.inArray(n,k);if(o===-1){k.push(n)}if(!a(this).hasClass(j.selected_class)){a(this).addClass(j.selected_class)}if(!j.o2m){a(this).find(j.checkbox_selector).check()}});a(j.selected_rows).val(k.join(j.entity_separator))}else{m.each(function(){if(a(this).hasClass(j.selected_class)){a(this).removeClass(j.selected_class)}if(!j.o2m){a(this).find(j.checkbox_selector).uncheck()}});k=[];a(j.selected_rows).val("")}})};this.flushSelected=function(){a(j.selected_rows,g).val("");k=[]};this.disableEvents=function(){g.find("."+j.selectable_class).unbind("click");if(!j.o2m){g.find(j.all_boxes_selector).unbind("click")}};this.enableEvents=function(){this.enableRowSelection();this.enableFilters();this.enableActions();if(!j.o2m){this.enableCheckAllBoxes()}};this.serializeMe=function(){var l={};g.find(j.serializer).each(function(){var m=a(this);if(typeof(l[m.attr("name")])=="undefined"){l[m.attr("name")]=[m.val()]}else{if(l[m.attr("name")].length>0){l[m.attr("name")].push(m.val())}}});return l};this.handleSubmit=function(q,p,t,n){var s=this.serializeMe();if(typeof(n)!="undefined"){s=a.extend(s,n)}var l=a(t);if(typeof(s[l.attr("name")])=="undefined"){s[l.attr("name")]=[l.val()]}else{if(s[l.attr("name")].length>0){var o=l.val();if(a.inArray(o,s[l.attr("name")])==-1){s[l.attr("name")].push(o)}}}if(typeof(s.page)=="undefined"){s.page=a(j.user_page,g)}this.disableEvents();var m=null;if(typeof(p)!=="undefined"&&typeof(p.beforeComplete)=="function"){m=p.beforeComplete}p.beforeComplete=function(v,u){g.list_view("enableEvents");if(m){m(v,u)}};creme.ajax.submit(q,s,p);this.flushSelected()};this.init=function(){this.clearRowSelection();this.enableEvents()};this.init()}else{if(a.isFunction(this[f])){this[f].apply(this,e)}}})}})(jQuery);creme.lv_widget={};creme.lv_widget.openFilterSelection=function(d,b,a,c){creme.lv_widget.listViewAction("/creme_core/list_view/popup/%s/%s?q_filter=%s".format(d,a?0:1,b),{multiple:a}).one(c).start()};creme.lv_widget.openFilterView=function(b,a){creme.utils.showInnerPopup("/creme_core/list_view/popup/%s/%s?q_filter=%s".format(b,1,a),{closeOnEscape:true,open:function(){},buttons:[{text:gettext("Ok"),click:function(){$(this).dialog("close")}}],})};creme.lv_widget.handleSelection=function(ids,targetInputId){console.warn("this functions is deprecated. Do not use CremeEntityField and MultiCremeEntityField any more.");if(ids){var $targetInput=$("#"+targetInputId);var $targetDiv=$("#"+targetInputId+"_div");var o2m=Boolean(parseInt($targetInput.attr("o2m")));if(o2m){ids=[ids];$targetInput.val("")}var currentIds=$targetInput.val().split(",");ids=$.grep(ids,function(n,i){return !($.inArray(n,currentIds)>-1)});var comma_sep_ids=ids.join(",");$targetInput.val(comma_sep_ids+","+currentIds.join(","));$targetInput.val($targetInput.val().replace(",,",","));if(ids.length>0){$.ajax({type:"GET",url:"/creme_core/entity/get_repr/"+comma_sep_ids,dataType:"json",async:false,success:function(data,status){if(o2m){$targetDiv.children("div").empty()}for(var idx in data){var d=data[idx];$targetDiv.append($("<div></div>").append($("<span></span>").html(d.text).append($('<input type="hidden"/>').val(d.id))).append($("<img />").attr("src",creme_media_url("images/delete_22.png")).attr("alt",gettext("Delete")).attr("title",gettext("Delete")).css("cursor","pointer").attr("onclick",'creme.lv_widget.delete_a_value(this, "'+targetInputId+'")')))}var widths=[];$targetDiv.children("div").find("span").each(function(){widths.push($(this).width())});if(widths.length>1){var maxW=Math.max.apply(Math,widths);$targetDiv.children("div").find("img").each(function(i){$(this).css("padding-left",maxW-widths[i])})}},error:function(request,status,error){}})}eval("var selection_cb="+$targetInput.attr("selection_cb"));eval("var selection_cb_args="+$targetInput.attr("selection_cb_args"));if(selection_cb&&$.isFunction(selection_cb)){selection_cb(ids,targetInputId,selection_cb_args)}$targetInput.change()}};creme.lv_widget.delete_a_value=function(b,a){console.warn("this functions is deprecated. only used in creme.lv_widget.handleSelection().");var c=$(b).parent().find('input[type="hidden"]').val();$("#"+a).val($("#"+a).val().replace(c+",",""));$(b).parent().empty().remove()};creme.lv_widget.deleteEntityFilter=function(c,a){var b=creme.utils.confirmPOSTQuery("/creme_core/entity_filter/delete",{},{id:a});b.onDone(function(d,e){c.list_view("reload")});return b.start()};creme.lv_widget.deleteHeaderFilter=function(c,a){var b=creme.utils.confirmPOSTQuery("/creme_core/header_filter/delete",{},{id:a});b.onDone(function(d,e){c.list_view("reload")});return b.start()};creme.lv_widget.selectedLines=function(a){var a=$(a);if(a.list_view("countEntities")==0){return[]}return a.list_view("getSelectedEntitiesAsArray")};creme.lv_widget.deleteSelectedLines=function(c){var c=$(c);var a=creme.lv_widget.selectedLines(c);var d=new creme.utils.JSON();if(!a.length){creme.dialogs.warning(gettext("Please select at least one entity.")).open();return}var b=creme.utils.confirmPOSTQuery("/creme_core/entity/delete/multi",{warnOnFail:false,dataType:"json"},{ids:a.join(",")});b.onFail(function(h,e,j){var g=Object.isType(e,"string")?e:(e.message||gettext("Error"));var l=creme.ajax.localizedErrorMessage(j);if(!Object.isEmpty(g)&&d.isJSON(g)){var f=d.decode(g);var k=f.count-f.errors.length;l="";if(k>0){l=ngettext("%d entity have been deleted.","%d entities have been deleted.",k).format(k)}if(f.errors){l+=ngettext(" %d entity cannot be deleted."," %d entities cannot be deleted.",f.errors.length).format(f.errors.length)}g="<ul>"+f.errors.map(function(m){return"<li>"+m+"</li>"}).join("")+"<ul>"}creme.dialogs.warning(g,{header:l}).onClose(function(){c.list_view("reload")}).open()}).onDone(function(e,f){c.list_view("reload")});return b.start()};creme.lv_widget.addToSelectedLines=function(d,a){var d=$(d);var b=creme.lv_widget.selectedLines(d);if(!b.length){creme.dialogs.warning(gettext("Please select at least one entity.")).open();return}var c=creme.utils.innerPopupFormAction(a,{},{ids:b,persist:"ids"});c.onDone(function(e,f){d.list_view("reload")}).start();return c};creme.lv_widget.editSelectedLines=function(d,a){var d=$(d);var c=creme.lv_widget.selectedLines(d);if(!c.length){creme.dialogs.warning(gettext("Please select at least one entity.")).open();return}var b=creme.dialogs.form(a.format(c.join(",")),{});b.onFormSuccess(function(e,f){d.list_view("reload")}).onFormError(function(e,f){if($("form",this.content()).length==0){this._updateButtonState("send",false);this._updateButtonLabel("cancel",gettext("Close"));this._bulk_edit_done=true}}).onClose(function(){if(this._bulk_edit_done){d.list_view("reload")}}).open({width:800});return b};creme.lv_widget.handleSort=function(e,a,b,c,g){var d=$(e);var f=$(a);if(d.val()==b){if(f.val()==""){f.val("-")}else{f.val("")}}else{f.val("")}d.val(b);if($.isFunction(g)){g(c)}};creme.lv_widget.initialize=function(c,e){var f=e?e.attr("id"):undefined;var d=$('form[name="list_view_form"]',e);var b=(e?$('[name="inner_header_from_url"]',e).val():"")+"?ajax=true";var a;if(f){a=function(h,g){var g=f?$.extend({whoami:f},g):g;var j={action:b,success:function(l,k){var l=f?l+'<input type="hidden" name="whoami" value="'+f+'"/>':l;$(h.form).html(l)}};$(h.form).list_view("setReloadUrl",b);$(h.form).list_view("handleSubmit",h.form,j,h,g)}}else{a=function(h,g){var j={action:b,success:function(l,k){$(h.form).html(l)}};$(h.form).list_view("handleSubmit",h.form,j,h,g)}}d.list_view({o2m:c.multiple?0:1,submitHandler:a,kd_submitHandler:function(k,h,g){var k=(window.event)?window.event:k;var j=(window.event)?k.keyCode:k.which;if(j==13){$(h.form).list_view("getSubmit")(h,g)}return true}});$(".magnify",e).imageMagnifier()};creme.lv_widget.listViewAction=function(c,b,e){var b=b||{};var a=function(g){var f=$('form[name="list_view_form"] tr.selected input[name="entity_id"]',g).map(function(h,j){return $(j).val()});return f.get()||[]};var d=function(f){if(!Array.isArray(f)||f.length==0){creme.dialogs.warning(gettext("Please select at least one entity."),{title:gettext("Error")}).open();return false}if(!b.multiple&&f.length>1){creme.dialogs.warning(gettext("Please select only one entity."),{title:gettext("Error")}).open();return false}return true};return creme.utils.innerPopupFormAction(c,{submit_label:gettext("Validate the selection"),submit:function(f){var g=a(f);return d(g)?g:null},validator:function(f){return f!==null}},e)};creme.lv_widget.ListViewLauncher=creme.widget.declare("ui-creme-listview",{options:{multiple:false,whoami:"",},_create:function(e,c,b,f,g){var d=c.whoami?$("#"+c.whoami):undefined;var a=e.is("[multiple]")||c.multiple;creme.lv_widget.initialize({multiple:a},d);e.addClass("widget-ready")}});creme.entity_cell=creme.entity_cell||{};creme.entity_cell.EntityCellsWidget=function(b,a){var c=this.div=$("#"+b);this.store=c.find("input.inner_value");this.samples=$(a);this.column_titles={};this.columns=[];this.header_labels;this.underlays={};this.init()};creme.entity_cell.EntityCellsWidget.prototype={init:function(){this._initSelectorCheck();this._initSelectorFilters();this._initSelectorUnderlays();this._initPreviewTable()},updateStore:function(){this.store.attr("value",this.columns)},updatePreview:function(){var c=this.div;var b=this.columns.length;var a;if(b==0){a=gettext("Preview")}else{if(b==1){a=gettext("Preview of the column")}else{a=gettext("Preview and order of the %s columns").format(b)}}c.find(".preview_title").text(a);c.find(".help_instructions").text(b==0?gettext("The preview is empty. Select some fields and relationships to add some columns."):gettext("Drag and drop the columns to order them."))},findUnderlayInfo:function(c){var b;var e=c.indexOf("__");if(e!=-1){var a;var d=c.slice(0,e);underlay=this.underlays[d];if(!underlay){a=this.div.find(".selector_list .selector[data-column="+d+"]");underlay=a.find(".underlay-container")}else{a=underlay.data("underlay_selector")}if(underlay.length!==0){b={selector:a,content:underlay.find(".underlay-content")}}}return b},onColumnChanged:function(h){var o=this;var a=this.div;var d=this.columns;var c=h.parentNode.getAttribute("data-column");if(h.checked){var e=this.column_titles;d.push(c);this.header_labels.append($("<th>").attr("data-column",c).append($('<input type="checkbox" checked class="preview_column_toggle" />').bind("change",function(s){var q=o.findUnderlayInfo(c);var p=q?q.content.find(".underlay_selector_list"):a.find(".selector_list");p.find(".selector[data-column="+c+"] input[type=checkbox]:checked").attr("checked",false).change()}).attr("title",gettext("Remove the column '%s'").format(e[c]))).append($("<span>").addClass("dragtable-drag-handle").text(e[c])));var m=a.find(".preview_table .preview_row");var l=this.samples;for(var f=0;f<l.length;++f){var n=l[f][c];if(n===""){n=""}else{if(n===undefined){n="[]"}}$("<td>").attr("data-column",c).html(n).appendTo(m[f])}}else{a.find(".preview_table [data-column="+c+"]").remove();var j=d.indexOf(c);d.splice(j,1)}this.updatePreview();var b=this.findUnderlayInfo(c);if(b){var g=b.content.find("input[type=checkbox]");var k=g.filter(":checked");b.selector.find(".selected_count").remove();if(k.length){$("<span>").addClass("selected_count").text(" ("+k.length+" / "+g.length+")").appendTo(b.selector)}}this.updateStore()},onDragChange:function(a){this.columns=$.map(this.div.find(".preview_table_header th"),function(c,b){return $(c).attr("data-column")});this.updateStore()},findLastItemOfLine:function(a){var c=a.position().top;var b=false;a.nextAll(".selector").each(function(d,g){if(b){return}var f=$(g);if(f.position().top!=c){b=f}});return b?b.prevAll(".selector").first():a.parent(".selector_list").find("> .selector").last()},placeUnderlay:function(a,b){a.insertAfter(b);if(!a.__underlay_height){a.__underlay_height=a.height()}a.css("max-height",a.__underlay_height)},_initSelectorCheck:function(){var j=this;var a=this.div;var c=this.column_titles;var b=this.header_labels=a.find(".preview_table_header .sortable_header");a.find(".selector_list .selector[data-column]").each(function(m,p){var o=$(p);var l=o.find(".sub_selector_toggle");var n=l.length?l:o;var q=n.text();if(o.parent().is(".underlay_selector_list")){q=c[o.parents(".selector").attr("data-column")]+"  "+q}c[o.attr("data-column")]=q.trim();var k=o.find("> input[type=checkbox]");o.find("> label").click(function(s){s.preventDefault();s.stopPropagation();k.prop("checked",!k.prop("checked")).change()})});a.find(".selector_list input[type=checkbox]").bind("change",function(k){j.onColumnChanged(k.target)});var h=this.store.attr("value");if(h){var g=h.split(",");this.store.attr("value","");var e=[];for(var d in g){e.push(undefined)}a.find(".selector_list input[type=checkbox]").each(function(l,m){var k=g.indexOf(m.parentElement.getAttribute("data-column"));if(k!=-1){e[k]=m}});for(var d in e){var f=e[d];if(f){$(f).attr("checked",true).change()}}}else{this.updatePreview()}},_initPreviewTable:function(){var d=this.div;var c=this.underlays;d.find(".remove_all_columns").click(function(g){g.preventDefault();d.find(".selector input[type=checkbox]:checked").attr("checked",false).change();for(var f in c){c[f].find(".selector input[type=checkbox]:checked").attr("checked",false).change()}});var a=this;var b=this.div.parents(".ui-dialog-content").first();if(b.length==0){b=$(document.body)}d.find(".preview_table").dragtable({dataHeader:"data-column",appendTarget:b,change:function(e){a.onDragChange(e)}})},_initSelectorFilters:function(){var a=this.div;a.find(".field_selector_filter").each(function(){var c=$(this);c.data("oldVal",c.val());var b=c.attr("data-type");c.bind("propertychange keyup input paste",function(){var f=c.val();if(c.data("oldVal")==f){return}c.data("oldVal",f);f=f.toLowerCase();if(b=="relationships"){if(f==""){a.find(".relationship_selectors .selector_list .selector").css("display","inline-block");a.find(".relationship_selectors .filter_result").text("")}else{var e=0;var d=0;a.find(".relationship_selectors .selector_list .selector").each(function(h,g){var j=$(g);var k=j.text().toLowerCase();if(k.indexOf(f)==-1){j.css("display","none")}else{j.css("display","inline-block");d+=1}e+=1});a.find(".relationship_selectors .filter_result").text(gettext("%s result(s) on %s").format(d,e))}}else{a.find(".field_selectors .selector_list .selector").each(function(h,g){var j=$(g);var k=j.text().toLowerCase();j.css("opacity",k.indexOf(f)==-1?0.4:1)})}})})},_toggleSelectorUnderlay:function(h){var l=this;var n=this.underlays;var d=h.parent(".selector");var c=d.attr("data-column");var b=n[c];if(!b){n[c]=b=$("<div>").attr("data-column",c).addClass("underlay").data("underlay_selector",d).append(d.find(".underlay-container"))}var m=this.findLastItemOfLine(d);var a=d.parents(".selector_list").find(".underlay");if(a.length==0){this.placeUnderlay(b,m);b.children().css("opacity",1);b.find(".underlay-content").css("opacity",0);b.css("max-height",0).css("opacity",1);var g=b.__underlay_height;b.find(".underlay-content").animate({opacity:1},400);b.children().delay(100).animate({opacity:1},400);b.animate({"max-height":g},300,function(){})}else{if(a.attr("data-column")==c){a.find(".underlay-content").animate({opacity:0},150);a.children().delay(130).animate({opacity:0},150);a.animate({"max-height":0},300,function(o){a.detach()})}else{a.animate({opacity:0},100,function(o){a.detach();b.css("opacity",0);l.placeUnderlay(b,m);b.animate({opacity:1},150);b.find(".underlay-content").animate({opacity:1},150);b.children().animate({opacity:1},150)})}}var j=b.find(".arrow");var e=17;var f=h.offset().left-h.parents(".field_selectors").offset().left;var k=f+(h.width()-e)/2;j.css("left",k+"px")},_initSelectorUnderlays:function(){var a=this;var b=this.div;$(document).on("click",".underlay .selector_close",function(f){f.preventDefault();var c=$(this).parents(".underlay:first").attr("data-column");var d=b.find('.selector[data-column="'+c+'"] .sub_selector_toggle');a._toggleSelectorUnderlay(d)});b.find(".sub_selector_toggle").click(function(c){c.preventDefault();a._toggleSelectorUnderlay($(this))})}};creme.exports=creme.exports||{};creme.exports.exportAs=function(b,a){var a=!Object.isEmpty(a)?a:[["","No backend found"]];return creme.dialogs.choice(gettext("Select the export format"),{title:gettext("Export"),choices:a.map(function(c){return{value:c[0],label:c[1]}})}).onOk(function(c,d){window.location.href=b.format(d)}).open()};creme.merge=creme.merge||{};creme.merge.selectOtherEntityNRedirect=function(c){var a="/creme_core/entity/merge/select_other/"+c;var b=creme.lv_widget.listViewAction(a,{multiple:false});b.onDone(function(d,e){window.location.href="/creme_core/entity/merge/"+c+","+e[0]});return b.start()};creme.relations=creme.relations||{};creme.relations.addRelationTo=function(d,a,e,c,h){var c=c||{};var g=new creme.ajax.Backend().query().url("/creme_core/relation/add_from_predicate/save");if(c.blockReloadUrl){g.onDone(function(j,k){creme.blocks.reload(c.blockReloadUrl)})}else{g.onDone(function(j,k){creme.utils.reload(window)})}var b="/creme_core/relation/objects2link/rtype/%s/entity/%s/%s%s".format(a,d,e,c.multiple?"":"/simple");var f=creme.lv_widget.listViewAction(b,c,h);f.onDone(function(j,k){g.post({entities:k,subject_id:d,predicate_id:a})});return f.start()};creme.assistants=creme.assistants||{};creme.assistants.validateEntity=function(b,c,a){if(!$("#"+c).is(":checked")){creme.dialogs.warning(gettext("Check the box if you consider as treated")).open()}else{creme.ajax.jqueryFormSubmit($(b),function(){creme.blocks.reload(a)})}};creme.activities={};creme.activities.exportAsICal=function(b){var a=$(b).list_view("getSelectedEntities").trim();if(!a){creme.dialogs.warning(gettext("Please select at least a line in order to export.")).open();return false}document.location.href="/activities/activities/%s/ical".format(a)};creme.activities.calendar={};creme.activities.calendar.loading=function(a){$(".calendar .loading-indicator").css("visibility",a?"hidden":"visible")};creme.activities.calendar.filterEvents=function(c,d,b){c.fullCalendar("removeEvents",function(e){return d==e.calendar});if(b){var a=b.filter(function(e){return d==e.calendar});c.fullCalendar("addEventSource",a)}creme.activities.calendar.resizeSidebar()};creme.activities.calendar.addFilteringInput=function(a,b){a.data("oldVal",a.val());a.bind("propertychange input paste",function(){var c=a.val();if(a.data("oldVal")==c){return}a.data("oldVal",c);b(c.toUpperCase())})};creme.activities.calendar.loadCalendarEventListeners=function(a,b){creme.activities.calendar.floatingEventFilter=function(c){$(".floating_event").each(function(d,e){var f=$(e);f.toggleClass("hidden",f.text().toUpperCase().indexOf(c)==-1)})};creme.activities.calendar.othersCalendarsFilter=function(d){for(var c in b){var j=b[c];var l=c.toUpperCase().indexOf(d)!=-1;var h=0;for(var f=0,m=j.length;f<m;++f){var e=j[f];var k=e.name.toUpperCase();var g=(k.indexOf(d)!=-1)||l;if(g){h++}$(".calendar_label_container[data-calendar="+e.id+"]").toggleClass("hidden",!g)}$('.calendar_label_owner[data-user="'+c+'"]').toggleClass("hidden",h==0)}};$('input[type="checkbox"]').change(function(f){var g=$(".calendar");var c=$(this);var e=c.val();var h="/activities/calendar/users_activities/";var d=g.fullCalendar("getView");if(c.is(":checked")){$.ajax({type:"GET",dataType:"json",data:{start:Math.round(d.visStart.getTime()/1000),end:Math.round(d.visEnd.getTime()/1000)},url:h+e,error:function(j,l,k){c.attr("checked",false)},beforeSend:function(j){creme.activities.calendar.loading(false)},complete:function(k,j){creme.activities.calendar.loading(true)},success:function(k,j){creme.activities.calendar.filterEvents(g,e,k)}})}else{creme.activities.calendar.filterEvents(g,e)}});$(".floating_event_filter input").each(function(){creme.activities.calendar.addFilteringInput($(this),creme.activities.calendar.floatingEventFilter)});$(".calendar_filter input").each(function(){creme.activities.calendar.addFilteringInput($(this),creme.activities.calendar.othersCalendarsFilter)});$(".floating_event").each(function(){var d=$(this);var g=d.attr("data-calendar");var e=d.attr("data-type");var c=d.attr("data-color");var f={id:d.attr("data-id"),title:$.trim(d.text()),type:e,user:a,calendar:g,className:"event event-"+g,url:d.attr("data-popup_url"),calendar_color:c};d.data("eventObject",f);d.draggable({zIndex:999,revert:true,revertDuration:0,appendTo:"body",containment:"window",scroll:false,helper:"clone"})})};creme.activities.calendar.chooseForeground=function(c,b){var a=creme.color.HEXtoRGB(b);c.css("color",creme.color.maxContrastingColor(a.r,a.g,a.b))};creme.activities.calendar.updater=function(f,d,c,h,e,b,g,a){$.ajax({type:"POST",url:"/activities/calendar/activity/update",data:{id:f.id,start:f.start.getTime(),end:f.end.getTime(),allDay:h},error:function(j,l,k){if(j.status==403){creme.dialogs.warning(gettext("You do not have permission, the change will not be saved.")).open()}else{if(j.status==409){creme.dialogs.warning(unescape(j.responseText)).open()}else{if(j.status>=300||j.status==0){creme.dialogs.warning(gettext("Error, please reload the page.")).open()}}}e()},beforeSend:function(j){creme.activities.calendar.loading(false)},complete:function(k,j){creme.activities.calendar.loading(true);creme.activities.calendar.resizeSidebar()},})};creme.activities.calendar.resizeSidebar=function(){var b=$(".calendar");var d=b.height();var a=$(".menu_calendar");var c=parseInt(a.css("margin-top"));a.css("height",(d-c)+"px")};creme.activities.calendar.positionNavigationWidget=function(){var a=$(".fc-header-left").width();$(".fc-header-center table").css("left","-"+a+"px")};creme.activities.calendar.fullCalendar=function(c,a){$(".calendar").fullCalendar({weekends:true,header:{left:"title",center:"today, prev,next",right:"agendaWeek,month"},theme:false,firstDay:1,weekMode:"fixed",aspectRatio:2,defaultView:"month",allDaySlot:true,allDayText:gettext("All day"),axisFormat:"H'h'mm",slotMinutes:15,defaultEventMinutes:60,firstHour:new Date().toString("HH"),minTime:0,maxTime:24,timeFormat:"H'h'mm",columnFormat:{month:"dddd",agendaWeek:"dddd d MMMM",agendaDay:"dddd d MMMM"},titleFormat:{month:"MMMM yyyy",week:"d[ yyyy]{ '&#8212;' d MMMM yyyy}",day:"dddd d MMMM yyyy"},buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:gettext("Today"),month:gettext("Month"),week:gettext("Week"),day:gettext("Day")},monthNames:[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")],dayNames:[gettext("Sunday"),gettext("Monday"),gettext("Tuesday"),gettext("Wesnesday"),gettext("Thursday"),gettext("Friday"),gettext("Saturday")],events:function(g,d,f){var e=$('input[type="checkbox"][name="selected_calendars"]:checked').map(function(){return $(this).val()});$.ajax({url:c+e.get().join(","),dataType:"json",data:{start:Math.round(g.getTime()/1000),end:Math.round(d.getTime()/1000)},success:function(h){f(h);creme.activities.calendar.resizeSidebar();creme.activities.calendar.positionNavigationWidget()}})},editable:true,droppable:true,drop:function(d,g){var f=$(this);var j=f.data("eventObject");var e=$.extend({},j);e.start=d;e.allDay=g;var h=new Date(d);if(g){h.setHours(23,59,59)}else{h.setHours(d.getHours()+1)}e.end=h;$(".calendar").fullCalendar("renderEvent",e);f.hide();cancel_drop=function(){f.show();$(".calendar").fullCalendar("removeEvents",e.id)};creme.activities.calendar.updater(e,null,null,g,cancel_drop)},loading:function(e,d){creme.activities.calendar.loading(!e)},dayClick:function(f,h,e,d){var g={year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:f.getHours(),minute:f.getMinutes()};creme.dialogs.form(a,{reloadOnSuccess:true},g).open({width:"80%"})},eventRender:function(h,g,e){var d=g.find("a");if(h.type){var f=$("<span>").addClass("fc-event-type").text(h.type);var j=g.find(".fc-event-time");if(j.length!=0){if(e.name=="month"){f.text("  "+f.text())}f.insertAfter(j)}else{d.prepend(f)}}d.css("background-color",h.calendar_color);creme.activities.calendar.chooseForeground(d,h.calendar_color)},eventDragStart:function(g,e,f,d){},eventDrop:function(j,g,f,l,h,e,k,d){creme.activities.calendar.updater(j,g,f,l,h,e,k,d)},eventClick:function(d){creme.dialogs.url(d.url).open({width:"80%"});return false},eventResize:function(j,g,f,h,e,k,d){creme.activities.calendar.updater(j,g,f,null,h,e,k,d)}});var b=$("<img>").attr("src",creme_media_url("images/wait.gif"));$('<div class="loading-indicator">').append(b,'<div class="loading-label">'+gettext("Loading...")+"</div>").insertBefore(".fc-content")};creme.persons={};creme.persons.copyTo=function(b,c){var d=$("#"+b);var e=$("#"+c);if(d.size()>0&&e.size()>0){var a=e.find("input, textarea, select");d.find("input, textarea, select").each(function(f){$(a[f]).val($(this).val())})}};creme.persons.become=function(b,a){if(Object.isEmpty(a)){return}if(a&&a.length>1){creme.dialogs.choice(gettext("Select the concerned organisation."),{choices:a,title:gettext("Organisation")}).onOk(function(d,c){creme.utils.ajaxQuery(b,{action:"post",reloadOnSuccess:true,warnOnFail:true},{id:c}).start()}).open()}else{creme.utils.ajaxQuery(b,{action:"post",reloadOnSuccess:true,warnOnFail:true},{id:a[0].value}).start()}};creme.billing=creme.billing||{};creme.billing.selectDefaultPayment=function(c,b,a){creme.blocks.ajaxPOSTQuery("/billing/payment_information/set_default/%s/%s".format(c,b),{blockReloadUrl:a}).start()};creme.billing.checkPositiveDecimal=function(a){return a.val().match(/^[0-9]+(\.[0-9]{1,2}){0,1}$/)!==null};creme.billing.checkPositiveInteger=function(a){return a.val().match(/^[0-9]+$/)!==null};creme.billing.checkDecimal=function(a){return a.val().match(/^[\-]{0,1}[0-9]+(\.[0-9]{1,2}){0,1}$/)!==null};creme.billing.checkPercent=function(a){return a.val().match(/^(100(\.[0]{1,2}){0,1}|[0-9]{1,2}(\.[0-9]{1,2}){0,1})$/)!==null};creme.billing.checkValue=function(a){return a.val()!==""};creme.billing.checkDiscount=function(d){var c=d.closest("tr");var g=parseInt($("select[name*=discount_unit]",c).val());var e=$("input[name*=total_discount]",c).is(":checked");var b=parseFloat($("input[name*=discount]",c).val());var a=parseFloat($("input[name*=unit_price]",c).val());var f=parseInt($("input[name*=quantity]",c).val());if(!creme.billing.checkPercent(d)&&g==1){return false}if(e&&g==2&&b>a*f){return false}if(!e&&g==2&&b>a){return false}return true};creme.billing.markDelete=function(e,h,d){var f=e+"-DELETE";var c=$("#id_"+f);var b=$("#line_content_"+d);var a=!c.is(":checked");if(!a){c.uncheck();b.removeClass("td_error");b.addClass("block_header_line_dark")}else{c.check();b.addClass("td_error");b.removeClass("block_header_line_dark")}var g=$('tbody[id^="form_id_'+h+'"]');g.toggleClass("form_modified",a)};creme.billing.inputs=function(a){return $("input, select, textarea",a)};creme.billing.forms=function(a){return $('tbody[id^="form_id_"]',a)};creme.billing.serializeInput=function(b,a){var c=b.attr("name");var d=b.attr("type")==="checkbox"?(b.is(":checked")?b.val():undefined):b.val();if(b.attr("o2m")&&a){d=b.attr("initial")}if(c!==undefined&&d!==undefined){return{key:c,value:d}}return};creme.billing.validateInput=function(b){var c=b.attr("validator")?creme.billing["check"+b.attr("validator")]:undefined;var a=b.attr("isvalid")||false;if(typeof c==="function"){a=c(b)}else{a=true}b.attr("isvalid",a);b.toggleClass("td_error",!a);return a};creme.billing.initializeForm=function(a){creme.billing.inputs(a).each(function(){var b=creme.billing.serializeInput($(this),true);$(this).attr("initial",b!==undefined?b.value:undefined);creme.billing.validateInput($(this));a.removeAttr("form_modified")});creme.billing.inputs(a).bind("change",function(){var b=creme.billing.serializeInput($(this),false);var c=b!==undefined&&(""+b.value!==$(this).attr("initial"));if($(this).attr("type")==="checkbox"&&b===undefined&&$(this).attr("initial")){c=true}c?creme.billing.validateInput($(this)):$(this).removeClass("td_error");$(this).toggleClass("item_modified",c);a.toggleClass("form_modified",c)})};creme.billing.initializeForms=function(a){creme.billing.forms(a).each(function(){creme.billing.initializeForm($(this))})};creme.billing.hideEmptyForm=function(b,a,c){$(".empty_form_"+b).attr("style","display:none");var d=$("#id_"+a+"-TOTAL_FORMS");d.val(parseInt(d.val())-1);$(".add_on_the_fly_"+b).removeClass("forbidden");if(c===0){$(".empty_msg_"+b).attr("style","display:table-row")}};creme.billing.showEmptyForm=function(a,e,d,f){if(a.hasClass("forbidden")){return}a.addClass("forbidden");var h=$("#id_"+d+"-TOTAL_FORMS");var g=$(".empty_form_inputs_"+e);var b=parseInt(h.val());$("input,select,textarea",g).each(function(j){$(this).removeClass("td_error");if($(this).attr("id")){$(this).attr("id",$(this).attr("id").replace("__prefix__",b))}if($(this).attr("name")){$(this).attr("name",$(this).attr("name").replace("__prefix__",b))}creme.billing.restoreValue($(this))});h.val(b+1);var c=$('tbody[id^="form_id_'+e+'"]');c.addClass("form_modified");$(".empty_form_"+e).attr("style","display:table-row");if(f===0){$(".space_line_"+e).attr("style","display:none");$(".empty_msg_"+e).attr("style","display:none")}};creme.billing.restoreValue=function(a){var b=a.attr("initial");if(a.attr("type")==="checkbox"){a.get().checked=!Object.isNone(b)}else{a.val(b)}a.change()};creme.billing.restoreInitialValues=function(b,a,c){creme.dialogs.confirm(gettext("Do you really want to restore initial values of this line ?")).onOk(function(){$("input,select,textarea",$(".restorable_"+b)).each(function(){creme.billing.restoreValue($(this))});var f=$("#id_"+a+"-DELETE");var e=$("#line_content_"+b);var d=!f.is(":checked");if(!d){f.uncheck();e.removeClass("td_error");e.addClass("block_header_line_dark")}var g=$('tbody[id^="form_id_'+c+'"]');g.toggleClass("form_modified",d)}).open()};creme.billing.initBoundedFields=function(e,b,f){var d=$('[name="discounted"]',e);var a=$('[name="inclusive_of_tax"]',e);var c=$('[name="exclusive_of_tax"]',e);e.delegate(".bound","change",function(){var j=$('[name*="quantity"]',e);var m=$('td input[name*="unit_price"]',e);var s=$('input[name*="discount"]',e);var k=$('select[name*="vat_value"]',e);var l=$("option[value='"+k.val()+"']",k).text();var p=$('[name*="discount_unit"]',e).val();var h;switch(p){case"1":h=j.val()*(m.val()-(m.val()*s.val()/100));break;case"2":h=j.val()*m.val()-s.val();break;case"3":h=j.val()*(m.val()-s.val());break;default:console.log("Bad discount value ?!",p)}h=h-(h*f/100);var n=Math.ceil(h*100)/100;var o=!creme.billing.checkDiscount(s);s.toggleClass("td_error",o);if(isNaN(n)||o||!creme.billing.checkPositiveDecimal(j)){d.text("###");a.text("###");c.text("###")}else{var g=Math.ceil(j.val()*m.val()*100)/100;var q=Math.ceil((parseFloat(n)+parseFloat(n)*l/100)*100)/100;c.text(g.toFixed(2).replace(".",",")+" "+b);d.text(n.toFixed(2).replace(".",",")+" "+b);a.text(q.toFixed(2).replace(".",",")+" "+b);d.attr("data-value",n);a.attr("data-value",q);creme.billing.updateBlockTotals(b)}if(!k.val()){a.text("###")}})};creme.billing.checkModifiedOnUnload=function(){if($(".item_modified").length!=0||$(".form_modified").length!=0){return gettext("You modified your lines.")}};creme.billing.reload=function(a){creme.billing.redirect("",a)};creme.billing.redirect=function(b,a){var a=a===undefined?true:a;if(!a){$(window).unbind("beforeunload",creme.billing.checkModifiedOnUnload)}window.location=b};creme.billing.initBlockLines=function(a,b){creme.billing.initializeForms();$('a[class^="add_on_the_fly_"]').removeAttr("disabled");$(".linetable").each(function(c){creme.billing.initBoundedFields($(this),a,b)});$('select[name*="vat_value"]').each(function(c){$(this).addClass("bound line-vat")});$("textarea.line-comment").each(function(){new creme.layout.TextAreaAutoSize().bind($(this))})};creme.billing.serializeForm=function(a){var b={};creme.billing.inputs($(a)).each(function(){var c=creme.billing.serializeInput($(this),false);if(c!==undefined){b[c.key]=c.value}});return b};creme.billing.multi_save_lines=function(b){var d=$("tbody[id^=form_id_]");var a={};var e="/billing/%s/multi_save_lines".format(b);var c=d.filter(".form_modified").map(function(){var f=$(this).attr("ct_id");a[f]=$.toJSON(creme.billing.serializeForm($(this)));return $(this).attr("reload_url")+creme.utils.getBlocksDeps($(this).attr("block_name"))}).get();creme.utils.ajaxQuery(e,{action:"post",warnOnFail:true,warnOnFailTitle:gettext("Errors report")},a).onDone(function(){c.forEach(function(f){creme.blocks.reload(f)})}).start()};creme.billing.updateBlockTotals=function(b){var e=$("h1[name=total_no_vat]");var a=$("h1[name=total_vat]");var d=0;var c=0;$("td[name=discounted]").each(function(){d+=parseFloat($(this).attr("data-value"))});$("td[name=inclusive_of_tax]").each(function(){c+=parseFloat($(this).attr("data-value"))});e.text(d.toFixed(2).replace(".",",")+" "+b);a.text(c.toFixed(2).replace(".",",")+" "+b)};creme.billing.EXPORT_FORMATS=[{value:"pdf",label:gettext("Pdf file (PDF)")}];creme.billing.exportAs=function(b,a){var a=a||creme.billing.EXPORT_FORMATS;if(a.length===1){window.location.href=b.format(a[0].value);return}creme.dialogs.choice(gettext("Select the export format of your billing document"),{choices:a}).onOk(function(c,d){window.location.href=b.format(d)}).open()};creme.billing.convertAs=function(b,a){return creme.utils.ajaxQuery("/billing/%s/convert/".format(b),{action:"post",warnOnFail:true,reloadOnSuccess:true},{type:a}).start()};creme.billing.generateInvoiceNumber=function(a){return creme.utils.ajaxQuery(a,{action:"post",warnOnFail:true,reloadOnSuccess:true}).start()};creme.billing.linkToDocument=function(b,a){console.warn("This functions is deprecated.");if(Object.isEmpty(a)){return}if(a.length===1){creme.dialogs.form(b+a[0].value,{reloadOnSuccess:true}).open({width:"80%"});return}creme.dialogs.choice(gettext("Who is the source, managed by Creme, for your billing document ?"),{choices:a,title:gettext("Billing")}).onOk(function(d,c){creme.dialogs.form(b+c,{reloadOnSuccess:true}).open({width:"80%"})}).open()};if(!creme.reports){creme.reports={}}creme.reports.load=function(a){if(!a||a==undefined){return}var d=$(a.ct).val();var b=$(a.hf);this.loadHeaderFilters(d,b);var c=$(a.filter);this.loadFilters(d,c)};creme.reports.__loadFilters=function(c,g,a,f){if(a.size()!=1){return}var h=$.extend({err_label:gettext("None available"),always_option:null,empty_option:null,error_option:null},f);var d=$('<option value="">'+h.err_label+"</option>");var b=function(l,n,k){a.empty();if(l.length==0&&!h.empty_option){a.append(d)}if(l.length==0&&h.empty_option){a.append(h.empty_option)}if(l.length>0&&h.always_option){a.append(h.always_option)}for(var j in l){var m=l[j];a.append($('<option value="'+m[0]+'">'+m[1]+"</option>"))}};var e=function(k,l,j){if(!h.error_option){a.empty().append(d)}else{a.empty().append(h.empty_option)}};creme.ajax.json.get(c,{},b,e,false,this.loading_options)};creme.reports.loadHeaderFilters=function(c,a){var b="/creme_core/header_filter/get_for_ctype/"+c;var d={always_option:$('<option value="">'+gettext("No selected view")+"</option>")};creme.reports.__loadFilters(b,c,a,d)};creme.reports.loadFilters=function(d,a){var b="/creme_core/entity_filter/get_for_ctype/"+d;var c=$('<option value="">'+gettext("All")+"</option>");var e={empty_option:c,always_option:c,error_option:c};creme.reports.__loadFilters(b,d,a,e)};creme.reports.AJAX_BACKEND=new creme.ajax.CacheBackend(new creme.ajax.Backend(),{condition:new creme.ajax.CacheBackendTimeout(120*1000),dataType:"json"});creme.reports.doAjaxAction=function(b,a,e){var a=a||{};var d=creme.reports.AJAX_BACKEND.query();var c=a.blockReloadUrl?function(){creme.blocks.reload(a.blockReloadUrl)}:function(){};d.url(b).onDone(c).onFail(function(g,f){creme.dialogs.warning(f.responseText||gettext("Error")).onClose(c).open()}).post(e);return d};creme.reports.unlink_report=function(a,b){creme.reports.doAjaxAction("/reports/report/field/unlink_report",{blockReloadUrl:b},{field_id:a})};creme.reports.changeOrder=function(a,c,b){return creme.reports.doAjaxAction("/reports/report/field/change_order",{blockReloadUrl:b},{field_id:a,direction:c})};creme.reports.setSelected=function(c,a,b){return creme.reports.doAjaxAction("/reports/report/field/set_selected",{blockReloadUrl:b},{field_id:a,checked:$(c).is(":checked")?1:0})};creme.reports.toggleDisableOthers=function(c,b){var a=c.checked;$.each(b,function(d,e){$(e).attr("disabled",a)})};creme.utils.converters.register("creme.graphael.BargraphData","jqplotData",function(a){var g=a.x||[];var h=a.y||[];var d=[];var e=function(l){var k=parseFloat(l);return isNaN(k)?0:k};for(var c=0;c<Math.min(g.length,h.length);++c){var b=g[c];var f=h[c];var j;if(typeof f==="string"){j=[b,e(f),undefined]}else{if($.isArray(f)){j=[b,e(f[0]),f[1]]}else{j=[b,f,undefined]}}d.push(j)}return d.length?[d]:[]});creme.reports.exportReport=function(c,a,d){var b="/reports/export/filter/%d".format(a);creme.dialogs.form(b,{title:d||""}).on("frame-update",function(e,f){new creme.reports.PreviewController(a).bind(f.delegate())}).onFormSuccess(function(f,h,j,e){var g=h.match(/^<div class="in-popup" closing="true" redirect="(.*)">/);if(g&&g.length>1){creme.utils.goTo(g[1])}}).open({width:1024})};creme.reports.openGraphEdition=function(a,b,c){creme.blocks.form(a,{blockReloadUrl:c}).onFormSuccess(function(){$("#graph-%s .ui-creme-plotselector".format(b)).creme().widget().resetBackend()}).open()};creme.reports.PreviewController=creme.component.Component.sub({_init_:function(a){this._redirectUrl="/reports/export/preview/"+a+"?%s";this._downloadUrl="/reports/export/"+a+"?%s";this._listeners={update:$.proxy(this._updateHeader,this),redirect:$.proxy(this.redirect,this),download:$.proxy(this.download,this)}},bind:function(a){if(this._header!==undefined){throw"creme.reports.PreviewController is already bound."}var b=this._listeners;var c=this._header=$(".report-preview-header",a);$('select[name="date_field"]',c).change(b.update);$('select[name="date_filter_0"]',c).change(b.update);$('button[name="generate"]',c).click(b.redirect);$('button[name="download"]',c).click(b.download);this._updateHeader();return this},unbind:function(a){var b=this._listeners;var c=this._header;if(c!==undefined){$('select[name="date_field"]',c).unbind("change",b.update);$('select[name="date_filter_0"]',c).unbind("change",b.update);$('button[name="generate"]',c).unbind("click",b.redirect);$('button[name="download"]',c).unbind("click",b.download)}this._header=undefined;return this},_updateHeader:function(){var c=this._header;var b=!Object.isEmpty($('[name="date_field"]',c).val());var a=Object.isEmpty($('[name="date_filter_0"]',c).val());$(".date-filter",c).toggle(b);$('[name="date_filter_1"], [name="date_filter_2"]',c).each(function(){$(this).parents("td:first").toggle(a)});if(!a){$('[name="date_filter_1"], [name="date_filter_2"]',c).val("")}if(!b){$('[name^="date_filter_"]',c).val("")}},redirect:function(){creme.utils.goTo(this._redirectUrl.format($("form",this._header).serialize()))},download:function(){creme.utils.goTo(this._downloadUrl.format($("form",this._header).serialize()))}});creme.reports.toggleDaysField=function(c,d){var b=c.val()&&d&&d.indexOf(c.val())!==-1;var a=$(c).parents(".block-form:first").find('[name="days"]');a.parents("tr:first").toggleClass("hidden",!b)};creme.emails={};creme.emails.confirmResend=function(b,a,c){return creme.blocks.confirmPOSTQuery("/emails/mail/resend",{blockReloadUrl:c,messageOnSuccess:gettext("Process done"),confirm:b},{ids:a}).start()};creme.emails.resend=function(a,b){return creme.blocks.ajaxPOSTQuery("/emails/mail/resend",{blockReloadUrl:b,messageOnSuccess:gettext("Process done")}).data({ids:a}).start()};creme.commercial=creme.commercial||{};creme.commercial.postScore=function(d,g,b,e,a,c){var f={score:$(a).val(),model_id:g,segment_desc_id:b,orga_id:e};creme.blocks.ajaxPOSTQuery(d,{blockReloadUrl:c},f).start()};creme.commercial.postCategory=function(d,b,e,a,c){var f={category:$(a).val(),segment_desc_id:b,orga_id:e};creme.blocks.ajaxPOSTQuery(d,{blockReloadUrl:c},f).start()};creme.commercial.increaseObjectiveCounter=function(a,c,b){creme.blocks.ajaxPOSTQuery("/commercial/objective/%s/incr".format(a),{blockReloadUrl:b},{diff:c}).start()};creme.events=creme.events||{};creme.events.saveContactStatus=function(b,a){creme.utils.ajaxQuery(b,{warnOnFail:true,reloadOnFail:true}).post({status:$(a).val()})};creme.geolocation=creme.geolocation||{};__googleAPI_loader_status=false;__googleAPI_loader_callbacks=[];initialize=function(){__googleAPI_loader_status="done";var a=__googleAPI_loader_callbacks.splice(0,__googleAPI_loader_callbacks.length);a.forEach(function(c){try{c()}catch(b){console.warn(b)}})};creme.geolocation.ready=function(a){$(document).ready(function(){if(window.google!==undefined||__googleAPI_loader_status==="done"){return a()}__googleAPI_loader_callbacks.push(a);if(!__googleAPI_loader_status){__googleAPI_loader_status="loading";var b=document.createElement("script");b.type="text/javascript";b.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&language=fr&callback=initialize";document.body.appendChild(b)}})};creme.geolocation.LocationStatus={UNDEFINED:0,MANUAL:1,PARTIAL:2,COMPLETE:3};creme.geolocation.GoogleMapController=creme.component.Component.sub({MAPSTYLES:[{id:"creme",label:gettext("Map"),style:[{stylers:[{hue:"#94c6db"},{weight:2}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]}]}],_init_:function(a){this.defaultZoomValue=12;this.defaultLat=48;this.defaultLn=2;this.defaultLargeZoom=4;this._events=new creme.component.EventHandler();this.geocoder=new google.maps.Geocoder();this.marker_manager=new creme.geolocation.GoogleMapMarkerManager(this);this.shape_manager=new creme.geolocation.GoogleMapShapeRegistry(this);var c=this.MAPSTYLES.map(function(d){return d.id}).concat(google.maps.MapTypeId.SATELLITE);var b=this.map=new google.maps.Map(a,{zoom:this.defaultZoomValue,mapTypeControlOptions:{mapTypeIds:c}});this.MAPSTYLES.forEach(function(d){b.mapTypes.set(d.id,new google.maps.StyledMapType(d.style,{name:d.label}))});b.setMapTypeId(c[0]);this.adjustMap()},on:function(b,c,a){this._events.on(b,c,a);return this},off:function(a,b){this._events.off(a,b);return this},one:function(a,b){this._events.one(a,b);return this},adjustMap:function(){var b=this.marker_manager.count(true);if(b==0){var c=new google.maps.LatLng(this.defaultLat,this.defaultLn);this.map.setCenter(c);this.map.setZoom(this.defaultLargeZoom)}else{var a=this.marker_manager.getBoundBox();this.map.setCenter(a.getCenter());if(b==1){this.map.setZoom(this.defaultZoomValue)}else{this.map.fitBounds(a)}}},_isPartialMatch:function(b){if(b.length>1){return true}var a=b[0];if(a.partial_match===false){return false}return a.address_components.length<7},geocode:function(c){var b=this.marker_manager;var a=this.saveLocation.bind(this);var d=this._isPartialMatch.bind(this);this.geocoder.geocode(c.data,function(k,j){var h=c.address;if(j===google.maps.GeocoderStatus.OK){var g=b.get(h.id);var f=k[0];var e=f.geometry.location;var l=d(k);var m=creme.geolocation.LocationStatus.COMPLETE;if(l){m=creme.geolocation.LocationStatus.PARTIAL}if(!g){var g=b.Marker({address:h,draggable:c.draggable,position:e})}else{g.setPosition(e)}a(g,{address:h,initial_position:c.initial_position},true,m);if(Object.isFunc(c.callback)){c.callback(g,f,m)}}else{if(Object.isFunc(c.fail)){c.fail(gettext("No matching location"))}}})},saveLocation:function(c,e,a,b){var d=this;creme.ajax.query("/geolocation/set_address_info/%s".format(e.address.id),{},{latitude:c.position.lat(),longitude:c.position.lng(),geocoded:a,status:b}).onFail(function(){c.setPosition(e.initial_position)}).onDone(function(){d._events.trigger("save-location",[e.address,c,b])}).post()},findLocation:function(a,b){this.geocode({address:a,draggable:b.draggable,data:{address:a.content},fail:b.fail,callback:b.done})},getMarker:function(a){return this.marker_manager.get(a)},isAddressLocated:function(a){return a&&!Object.isNone(a.latitude)&&!Object.isNone(a.longitude)},resize:function(){google.maps.event.trigger(this.map,"resize")}});creme.geolocation.GoogleMapShapeRegistry=creme.component.Component.sub({_init_:function(a){this._controller=a;this._shapes={}},register:function(a,b){if(a in this._shapes){throw new Error('Shape "'+a+'" is already registered')}this._shapes[a]=b},unregister:function(a){if(a in this._shapes){this._shapes[a].setMap(null);delete this._shapes[a]}else{throw new Error('Shape "'+a+'" not registered')}},get:function(a){if(a in this._shapes){return this._shapes[a]}else{return false}},adjustMap:function(a){var b=this.get(a);this._controller.map.setCenter(b.getCenter());this._controller.map.fitBounds(b.getBounds())}});creme.geolocation.GoogleMapMarkerManager=creme.component.Component.sub({_init_:function(a){this._controller=a;this._markers={}},markers:function(b){var a=Object.values(this._markers);if(b===undefined){return a}return a.filter(function(c){return c.getVisible()===b})},count:function(a){return this.markers(a).length},register:function(a){var b=a.address.id;if(b in this._markers){throw new Error('marker "'+b+'" is already registered')}this._markers[b]=a},Marker:function(d){var d=$.extend({map:this._controller.map,draggable:false,},d||{});var c=d.address;d.position=d.position||new google.maps.LatLng(c.latitude,c.longitude);d.title="%s\n%s".format(c.owner,c.title||c.content);var b=new google.maps.Marker(d);this.register(b);if(d.redirect){google.maps.event.addListener(b,"click",function(){creme.utils.goTo(d.redirect)})}if(d.draggable){var a=this._controller.saveLocation.bind(this._controller);google.maps.event.addListener(b,"dragstart",function(){d.initial_position=this.getPosition()});google.maps.event.addListener(b,"dragend",function(){a(b,d,true,creme.geolocation.LocationStatus.MANUAL)})}return b},get:function(a){return this._markers[a]},show:function(a){this.toggle(a,true)},hide:function(a){this.toggle(a,false)},toggle:function(c,b){var a=this.get(c);if(a){a.setVisible(b===undefined?!a.getVisible():b);this._controller.adjustMap()}},hideAll:function(){for(key in this._markers){this._markers[key].setVisible(false)}},getBoundBox:function(){var a=new google.maps.LatLngBounds();this.markers(true).forEach(function(b){a.extend(b.getPosition())});return a}});creme.geolocation=creme.geolocation||{};creme.geolocation.PersonsBlock=creme.component.Component.sub({STATUS_LABELS:{0:gettext("Not localized"),1:gettext("Manual location"),2:gettext("Partially matching location"),3:""},_init_:function(d,c){var b=this;this._block=d;var a=this._controller=new creme.geolocation.GoogleMapController($(".block-geoaddress-canvas",d).get(0));this._addresses=c;$(".block-geoaddress-item .block-geoaddress-reset",d).click(this._onRefreshLocation.bind(this));c.forEach(this._geocodeAddress.bind(this));this._controller.on("save-location",function(h,g,f,e){b._showPosition(g.id,f);b._showStatus(g.id,e);d.trigger("block-geoaddress-location",[g,f])});$('.block-geoaddress-item input[type="checkbox"]',d).each(function(){b._toggleLocation($(this).val(),$(this).is(":checked"))}).change(this._onToggleLocation.bind(this));d.bind("creme-table-collapse",function(g,f){if(f.action=="show"){a.resize();a.adjustMap()}})},_geocodeAddress:function(b){var c=this;var a=this._controller;if(a.isAddressLocated(b)){a.marker_manager.Marker({address:b,draggable:true,visible:false})}else{a.findLocation(b,{draggable:true,done:function(d){a.marker_manager.hideAll()},fail:function(d){c._showStatus(b.id,d)}})}},addressItem:function(a){return $('.block-geoaddress-item[data-addressid="'+a+'"]',this._block)},_showStatus:function(d,a){var c=this.addressItem(d);var b=(a==creme.geolocation.LocationStatus.COMPLETE);c.find(".block-geoaddress-status").html(this.STATUS_LABELS[a]);c.find(".block-geoaddress-action").toggleClass("block-geoaddress-iscomplete",b)},_showPosition:function(c,a){var b="";if(!Object.isEmpty(a)){b="%3.6f, %3.6f".format(a.position.lat(),a.position.lng())}this.addressItem(c).find(".block-geoaddress-position").html(b)},_toggleLocation:function(b,a){this._controller.marker_manager.toggle(b,a);this.addressItem(b).toggleClass("item-selected",a)},_onRefreshLocation:function(e){var c=this;var b=this._controller;var d=parseInt($(e.target).attr("data-addressid"));var a=b.getMarker(d);if(a){this._controller.findLocation(a.address,{done:function(h,f,g){b.adjustMap()},fail:function(f){c._showPosition(d);c._showStatus(d,f)}})}},_onToggleLocation:function(a){this._toggleLocation($(a.target).val(),$(a.target).is(":checked"))}});creme.geolocation.AddressesBlock=creme.component.Component.sub({_init_:function(b){var a=this._controller=new creme.geolocation.GoogleMapController($(".block-geoaddress-canvas",b).get(0));var c=this._filterSelector=$(".block-geoaddress-filter",b);c.change(this._onFilterChange.bind(this));this._updateFilter(c.val());b.bind("creme-table-collapse",function(f,d){if(d.action=="show"){a.resize();a.adjustMap()}})},_queryAddresses:function(e,d){var c=this;var b=this._controller;var a=this._updateAddress.bind(this);creme.ajax.query("/geolocation/get_addresses_from_filter/%s".format(e)).converter(JSON.parse).onDone(function(f,g){g.addresses.forEach(a);b.adjustMap();c._showCount(g.addresses.length)}).onFail(function(){b.adjustMap();c._showCount(0)}).on(d||{}).get()},_updateAddress:function(c){var b=this._controller;var a=b.marker_manager.get(c.id);if(!a){if(b.isAddressLocated(c)){b.marker_manager.Marker({address:c,draggable:false,redirect:c.url})}}else{a.setVisible(true)}},_onFilterChange:function(c){var a=this._controller;var b=$(c.target).val();a.marker_manager.hideAll();this._updateFilter(b,{fail:function(){$(c.target).val("")}})},_updateFilter:function(b,a){if(b){this._queryAddresses(b,a)}else{this._controller.adjustMap();this._showCount(0)}},_showCount:function(b){var a=!b?gettext("No address from"):ngettext("%0$d address from","%0$d addresses from",b).format(b);$(".block-geoaddress-counter",this._block).html(a)}});creme.geolocation.PersonsNeighborhoodBlock=creme.component.Component.sub({_init_:function(c,a){var b=this._controller=new creme.geolocation.GoogleMapController($(".block-geoaddress-canvas",c).get(0));this._radius=a;this._block=c;this._sourceSelector=$(".block-geoaddress-source",c).change(this._onChange.bind(this));this._filterSelector=$(".block-geoaddress-filter",c).change(this._onChange.bind(this));this._onChange();c.bind("creme-table-collapse",function(f,d){if(d.action=="show"){b.resize();b.shape_manager.adjustMap("NeighbourhoodCircle")}})},_queryNeighbours:function(a,b){if(!a){this._controller.adjustMap();return}var c=this._updateNeighbours.bind(this);creme.ajax.query("/geolocation/get_neighbours/%s/%s".format(a,b||"")).converter(JSON.parse).onDone(function(d,e){c(e.source_address,e.addresses)}).onFail(function(){c(a,[])}).get()},_updateNeighbours:function(b,d){var a=this._controller;var c=a.marker_manager.get(b.id);a.marker_manager.hideAll();if(!c){if(a.isAddressLocated(b)){c=a.marker_manager.Marker({address:b,draggable:false,icon:{path:google.maps.SymbolPath.CIRCLE,scale:5},})}}else{c.setVisible(true)}if(a.shape_manager.get("NeighbourhoodCircle")){a.shape_manager.unregister("NeighbourhoodCircle")}a.shape_manager.register("NeighbourhoodCircle",new google.maps.Circle({strokeColor:"#dea29b",strokeOpacity:0.9,strokeWeight:2,fillColor:"#dea29b",fillOpacity:0.4,map:a.map,center:c.position,radius:this._radius}));this._showCount(d.length);d.forEach(function(f){var e=a.marker_manager.get(f.id);if(!e){if(a.isAddressLocated(f)){e=a.marker_manager.Marker({address:f,draggable:false,redirect:f.url})}}else{if(a.isAddressLocated(f)){e.setPosition(new google.maps.LatLng(f.latitude,f.longitude))}e.setVisible(true)}});a.shape_manager.adjustMap("NeighbourhoodCircle")},sourcePosition:function(b,a){var c=this._controller.getMarker(b.id);if(c){c.setPosition(a);if(this._sourceSelector.val()===""+b.id){this._queryNeighbours(this._sourceSelector.val(),this._filterSelector.val())}}},_onChange:function(a){this._queryNeighbours(this._sourceSelector.val(),this._filterSelector.val())},_showCount:function(b){var a=!b?gettext("None of"):ngettext("%0$d of","%0$d of",b).format(b);$(".block-geoaddress-counter",this._block).html(a)}});creme.widget.PlotProcessors.register("ReportExpectedProfit",function(d,c){var c=$.extend({entrySourceIndex:1,step:0},c);var e=c.step;var b=c.entryTargetIndex;var a=c.entrySourceIndex;var f=function(j,h,k){var g=j[a]-e;return ArrayTools.insertOrReplace(j.slice(),b,a,g)};return d.map(function(h,g){return h.map(new Generator().each(f).iterator())})});creme.widget.PlotProcessors.register("ReportExpectedProfitTotal",function(d,c){var c=$.extend({entrySourceIndex:1,step:0},c);var e=c.step;var b=c.entryTargetIndex;var a=c.entrySourceIndex;return d.map(function(h,f){var g=0;var j=function(m,l,n){g+=m[a];var k=g-(e*(l+1));return ArrayTools.insertOrReplace(m.slice(),b,a,k)};return h.map(new Generator().each(j).iterator())})});